(self.webpackChunkautomatic_diagram=self.webpackChunkautomatic_diagram||[]).push([[179],{2899:(x,T,c)=>{"use strict";var d={};c.r(d),c.d(d,{arc:()=>yB,area:()=>FC,areaRadial:()=>VC,curveBasis:()=>hC,curveBasisClosed:()=>kB,curveBasisOpen:()=>LB,curveBundle:()=>Cg,curveCardinal:()=>gC,curveCardinalClosed:()=>VB,curveCardinalOpen:()=>BB,curveCatmullRom:()=>_C,curveCatmullRomClosed:()=>jB,curveCatmullRomOpen:()=>$B,curveLinear:()=>No,curveLinearClosed:()=>UB,curveMonotoneX:()=>xC,curveMonotoneY:()=>SC,curveNatural:()=>TC,curveStep:()=>IC,curveStepAfter:()=>OC,curveStepBefore:()=>NC,line:()=>Hc,lineRadial:()=>LC,linkHorizontal:()=>SB,linkRadial:()=>AB,linkVertical:()=>MB,pie:()=>wB,pointRadial:()=>mu,radialArea:()=>VC,radialLine:()=>LC,stack:()=>GB,stackOffsetDiverging:()=>WB,stackOffsetExpand:()=>zB,stackOffsetNone:()=>Po,stackOffsetSilhouette:()=>KB,stackOffsetWiggle:()=>YB,stackOrderAppearance:()=>JC,stackOrderAscending:()=>qC,stackOrderDescending:()=>ZB,stackOrderInsideOut:()=>XB,stackOrderNone:()=>Fo,stackOrderReverse:()=>JB,symbol:()=>RB,symbolCircle:()=>Lg,symbolCross:()=>BC,symbolDiamond:()=>$C,symbolSquare:()=>GC,symbolStar:()=>HC,symbolTriangle:()=>zC,symbolWye:()=>WC,symbols:()=>FB});var D={};c.r(D),c.d(D,{forceCenter:()=>Rj,forceCollide:()=>g1,forceLink:()=>w1,forceManyBody:()=>D1,forceRadial:()=>u$,forceSimulation:()=>b1,forceX:()=>l$,forceY:()=>c$});var b={};c.r(b),c.d(b,{dispatch:()=>Wg});var E={};function m(e){return"function"==typeof e}function _(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}c.r(E),c.d(E,{interval:()=>f$,now:()=>Eu,timeout:()=>Yg,timer:()=>Xc,timerFlush:()=>Fx});const h=_(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function f(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class g{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(m(r))try{r()}catch(s){t=s instanceof h?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{w(s)}catch(o){t=t??[],o instanceof h?t=[...t,...o.errors]:t.push(o)}}if(t)throw new h(t)}}add(t){var n;if(t&&t!==this)if(this.closed)w(t);else{if(t instanceof g){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&f(n,t)}remove(t){const{_finalizers:n}=this;n&&f(n,t),t instanceof g&&t._removeParent(this)}}g.EMPTY=(()=>{const e=new g;return e.closed=!0,e})();const v=g.EMPTY;function p(e){return e instanceof g||e&&"closed"in e&&m(e.remove)&&m(e.add)&&m(e.unsubscribe)}function w(e){m(e)?e():e.unsubscribe()}const S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A={setTimeout(e,t,...n){const{delegate:r}=A;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=A;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function N(e){A.setTimeout(()=>{const{onUnhandledError:t}=S;if(!t)throw e;t(e)})}function P(){}const F=H("C",void 0,void 0);function H(e,t,n){return{kind:e,value:t,error:n}}let K=null;function X(e){if(S.useDeprecatedSynchronousErrorHandling){const t=!K;if(t&&(K={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=K;if(K=null,n)throw r}}else e()}class q extends g{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,p(t)&&t.add(this)):this.destination=W}static create(t,n,r){return new U(t,n,r)}next(t){this.isStopped?oe(function R(e){return H("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?oe(function L(e){return H("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?oe(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function B(e,t){return V.call(e,t)}class ${constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){G(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){G(r)}else G(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){G(n)}}}class U extends q{constructor(t,n,r){let i;if(super(),m(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&S.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&B(t.next,s),error:t.error&&B(t.error,s),complete:t.complete&&B(t.complete,s)}):i=t}this.destination=new $(i)}}function G(e){S.useDeprecatedSynchronousErrorHandling?function Y(e){S.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=e)}(e):N(e)}function oe(e,t){const{onStoppedNotification:n}=S;n&&A.setTimeout(()=>n(e,t))}const W={closed:!0,next:P,error:function J(e){throw e},complete:P},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(e){return e}function de(e){return 0===e.length?te:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let ie=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function je(e){return e&&e instanceof q||function ge(e){return e&&m(e.next)&&m(e.error)&&m(e.complete)}(e)&&p(e)}(n)?n:new U(n,r,i);return X(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=he(r))((i,s)=>{const o=new U({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[z](){return this}pipe(...n){return de(n)(this)}toPromise(n){return new(n=he(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function he(e){var t;return null!==(t=e??S.Promise)&&void 0!==t?t:Promise}const ne=_(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let re=(()=>{class e extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new le(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ne}next(n){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?v:(this.currentObservers=null,s.push(n),new g(()=>{this.currentObservers=null,f(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ie;return n.source=this,n}}return e.create=(t,n)=>new le(t,n),e})();class le extends re{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:v}}function pe(e){return m(e?.lift)}function ve(e){return t=>{if(pe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(e,t,n,r,i){return new He(e,t,n,r,i)}class He extends q{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Se(e,t){return ve((n,r)=>{let i=0;n.subscribe(me(r,s=>{r.next(e.call(t,s,i++))}))})}function Nr(e){return this instanceof Nr?(this.v=e,this):new Nr(e)}function Or(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(M){r[M]&&(i[M]=function(I){return new Promise(function(O,k){s.push([M,I,O,k])>1||a(M,I)})})}function a(M,I){try{!function u(M){M.value instanceof Nr?Promise.resolve(M.value.v).then(l,y):C(s[0][2],M)}(r[M](I))}catch(O){C(s[0][3],O)}}function l(M){a("next",M)}function y(M){a("throw",M)}function C(M,I){M(I),s.shift(),s.length&&a(s[0][0],s[0][1])}}function bM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Zo(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=e[s](o)).done,o.value)})}}}const kd=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function iy(e){return m(e?.then)}function sy(e){return m(e[z])}function oy(e){return Symbol.asyncIterator&&m(e?.[Symbol.asyncIterator])}function ay(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uy=function EM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ly(e){return m(e?.[uy])}function cy(e){return Or(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Nr(n.read());if(i)return yield Nr(void 0);yield yield Nr(r)}}finally{n.releaseLock()}})}function dy(e){return m(e?.getReader)}function Zn(e){if(e instanceof ie)return e;if(null!=e){if(sy(e))return function CM(e){return new ie(t=>{const n=e[z]();if(m(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(kd(e))return function xM(e){return new ie(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(iy(e))return function SM(e){return new ie(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,N)})}(e);if(oy(e))return fy(e);if(ly(e))return function MM(e){return new ie(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(dy(e))return function AM(e){return fy(cy(e))}(e)}throw ay(e)}function fy(e){return new ie(t=>{(function TM(e,t){var n,r,i,s;return function en(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(y){try{l(r.next(y))}catch(C){o(C)}}function u(y){try{l(r.throw(y))}catch(C){o(C)}}function l(y){y.done?s(y.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(y.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bM(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Jr(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Qt(e,t,n=1/0){return m(t)?Qt((r,i)=>Se((s,o)=>t(r,s,i,o))(Zn(e(r,i))),n):("number"==typeof t&&(n=t),ve((r,i)=>function IM(e,t,n,r,i,s,o,a){const u=[];let l=0,y=0,C=!1;const M=()=>{C&&!u.length&&!l&&t.complete()},I=k=>l<r?O(k):u.push(k),O=k=>{s&&t.next(k),l++;let j=!1;Zn(n(k,y++)).subscribe(me(t,Z=>{i?.(Z),s?I(Z):t.next(Z)},()=>{j=!0},void 0,()=>{if(j)try{for(l--;u.length&&l<r;){const Z=u.shift();o?Jr(t,o,()=>O(Z)):O(Z)}M()}catch(Z){t.error(Z)}}))};return e.subscribe(me(t,I,()=>{C=!0,M()})),()=>{a?.()}}(r,i,e,n)))}function Os(e=1/0){return Qt(te,e)}const qr=new ie(e=>e.complete());function Ld(e){return e[e.length-1]}function hy(e){return m(Ld(e))?e.pop():void 0}function Xo(e){return function OM(e){return e&&m(e.schedule)}(Ld(e))?e.pop():void 0}function py(e,t=0){return ve((n,r)=>{n.subscribe(me(r,i=>Jr(r,e,()=>r.next(i),t),()=>Jr(r,e,()=>r.complete(),t),i=>Jr(r,e,()=>r.error(i),t)))})}function gy(e,t=0){return ve((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function my(e,t){if(!e)throw new Error("Iterable cannot be null");return new ie(n=>{Jr(n,t,()=>{const r=e[Symbol.asyncIterator]();Jr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lt(e,t){return t?function BM(e,t){if(null!=e){if(sy(e))return function FM(e,t){return Zn(e).pipe(gy(t),py(t))}(e,t);if(kd(e))return function kM(e,t){return new ie(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(iy(e))return function RM(e,t){return Zn(e).pipe(gy(t),py(t))}(e,t);if(oy(e))return my(e,t);if(ly(e))return function LM(e,t){return new ie(n=>{let r;return Jr(n,t,()=>{r=e[uy](),Jr(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>m(r?.return)&&r.return()})}(e,t);if(dy(e))return function VM(e,t){return my(cy(e),t)}(e,t)}throw ay(e)}(e,t):Zn(e)}function Vd(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new U({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function vt(e){for(let t in e)if(e[t]===vt)return t;throw Error("Could not find renamed property on target object.")}function Bd(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function _t(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_t).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function jd(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const UM=vt({__forward_ref__:vt});function bt(e){return e.__forward_ref__=bt,e.toString=function(){return _t(this())},e}function Le(e){return $d(e)?e():e}function $d(e){return"function"==typeof e&&e.hasOwnProperty(UM)&&e.__forward_ref__===bt}class ue extends Error{constructor(t,n){super(function $u(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function $e(e){return"string"==typeof e?e:null==e?"":String(e)}function Uu(e,t){throw new ue(-201,!1)}function Vn(e,t){null==e&&function ht(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function hn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hu(e){return yy(e,Gu)||yy(e,_y)}function yy(e,t){return e.hasOwnProperty(t)?e[t]:null}function vy(e){return e&&(e.hasOwnProperty(Ud)||e.hasOwnProperty(XM))?e[Ud]:null}const Gu=vt({\u0275prov:vt}),Ud=vt({\u0275inj:vt}),_y=vt({ngInjectableDef:vt}),XM=vt({ngInjectorDef:vt});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let Hd;function Xn(e){const t=Hd;return Hd=e,t}function wy(e,t,n){const r=Hu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Pe.Optional?null:void 0!==t?t:void Uu(_t(e))}function Si(e){return{toString:e}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),pr=(()=>{return(e=pr||(pr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",pr;var e})();const Dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ps={},dt=[],zu=vt({\u0275cmp:vt}),Gd=vt({\u0275dir:vt}),zd=vt({\u0275pipe:vt}),by=vt({\u0275mod:vt}),ti=vt({\u0275fac:vt}),Jo=vt({__NG_ELEMENT_ID__:vt});let qM=0;function Fs(e){return Si(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||dt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||pr.Emulated,id:"c"+qM++,styles:e.styles||dt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.dependencies,o=e.features;return i.inputs=Cy(e.inputs,r),i.outputs=Cy(e.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Dy).filter(Ey):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(gn).filter(Ey):null,i})}function Dy(e){return mt(e)||pn(e)}function Ey(e){return null!==e}function Mn(e){return Si(()=>({type:e.type,bootstrap:e.bootstrap||dt,declarations:e.declarations||dt,imports:e.imports||dt,exports:e.exports||dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Cy(e,t){if(null==e)return Ps;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const Fe=Fs;function mt(e){return e[zu]||null}function pn(e){return e[Gd]||null}function gn(e){return e[zd]||null}function Bn(e,t){const n=e[by]||null;if(!n&&!0===t)throw new Error(`Type ${_t(e)} does not have '\u0275mod' property.`);return n}function Tn(e){return Array.isArray(e)&&"object"==typeof e[1]}function mr(e){return Array.isArray(e)&&!0===e[1]}function Yd(e){return 0!=(8&e.flags)}function Qu(e){return 2==(2&e.flags)}function Zu(e){return 1==(1&e.flags)}function yr(e){return null!==e.template}function sA(e){return 0!=(256&e[2])}function ss(e,t){return e.hasOwnProperty(ti)?e[ti]:null}class uA{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return My}function My(e){return e.type.prototype.ngOnChanges&&(e.setInput=cA),lA}function lA(){const e=Ty(this),t=e?.current;if(t){const n=e.previous;if(n===Ps)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function cA(e,t,n,r){const i=Ty(e)||function dA(e,t){return e[Ay]=t}(e,{previous:Ps,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new uA(u&&u.currentValue,t,o===Ps),e[r]=t}In.ngInherit=!0;const Ay="__ngSimpleChanges__";function Ty(e){return e[Ay]||null}function Vt(e){for(;Array.isArray(e);)e=e[0];return e}function Xu(e,t){return Vt(t[e])}function $n(e,t){return Vt(t[e.index])}function qd(e,t){return e.data[t]}function Un(e,t){const n=t[e];return Tn(n)?n:n[0]}function Ju(e){return 64==(64&e[2])}function Mi(e,t){return null==t?null:e[t]}function Iy(e){e[18]=0}function ef(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ve={lFrame:jy(null),bindingsEnabled:!0};function Oy(){return Ve.bindingsEnabled}function fe(){return Ve.lFrame.lView}function nt(){return Ve.lFrame.tView}function Pr(e){return Ve.lFrame.contextLView=e,e[8]}function Fr(e){return Ve.lFrame.contextLView=null,e}function Gt(){let e=Py();for(;null!==e&&64===e.type;)e=e.parent;return e}function Py(){return Ve.lFrame.currentTNode}function Rr(e,t){const n=Ve.lFrame;n.currentTNode=e,n.isParent=t}function tf(){return Ve.lFrame.isParent}function nf(){Ve.lFrame.isParent=!1}function js(){return Ve.lFrame.bindingIndex++}function ri(e){const t=Ve.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function SA(e,t){const n=Ve.lFrame;n.bindingIndex=n.bindingRootIndex=e,rf(t)}function rf(e){Ve.lFrame.currentDirectiveIndex=e}function Ly(){return Ve.lFrame.currentQueryIndex}function af(e){Ve.lFrame.currentQueryIndex=e}function AA(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Vy(e,t,n){if(n&Pe.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Pe.Host||(i=AA(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Ve.lFrame=By();return r.currentTNode=t,r.lView=e,!0}function uf(e){const t=By(),n=e[1];Ve.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function By(){const e=Ve.lFrame,t=null===e?null:e.child;return null===t?jy(e):t}function jy(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function $y(){const e=Ve.lFrame;return Ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Uy=$y;function lf(){const e=$y();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yn(){return Ve.lFrame.selectedIndex}function Ai(e){Ve.lFrame.selectedIndex=e}function At(){const e=Ve.lFrame;return qd(e.tView,e.selectedIndex)}function pt(){Ve.lFrame.currentNamespace="svg"}function qu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:y}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=y&&(e.destroyHooks||(e.destroyHooks=[])).push(n,y)}}function el(e,t,n){Hy(e,t,3,n)}function tl(e,t,n,r){(3&e[2])===n&&Hy(e,t,n,r)}function cf(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Hy(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let u=void 0!==r?65535&e[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<s||-1==s)&&(kA(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function kA(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ia{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function nl(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];zy(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function Gy(e){return 3===e||4===e||6===e}function zy(e){return 64===e.charCodeAt(0)}function rl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Wy(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Wy(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Ky(e){return-1!==e}function $s(e){return 32767&e}function Us(e,t){let n=function $A(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let ff=!0;function il(e){const t=ff;return ff=e,t}let UA=0;const kr={};function oa(e,t){const n=pf(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,hf(r.data,e),hf(t,null),hf(r.blueprint,null));const i=sl(e,t),s=e.injectorIndex;if(Ky(i)){const o=$s(i),a=Us(i,t),u=a[1].data;for(let l=0;l<8;l++)t[s+l]=a[o+l]|u[o+l]}return t[s+8]=i,s}function hf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=nv(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ol(e,t,n){!function HA(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),null==r&&(r=n[Jo]=UA++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Zy(e,t,n){if(n&Pe.Optional||void 0!==e)return e;Uu()}function Xy(e,t,n,r){if(n&Pe.Optional&&void 0===r&&(r=null),0==(n&(Pe.Self|Pe.Host))){const i=e[9],s=Xn(void 0);try{return i?i.get(t,r,n&Pe.Optional):wy(t,r,n&Pe.Optional)}finally{Xn(s)}}return Zy(r,0,n)}function Jy(e,t,n,r=Pe.Default,i){if(null!==e){if(1024&t[2]){const o=function YA(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=qy(s,o,n,r|Pe.Self,kr);if(a!==kr)return a;let u=s.parent;if(!u){const l=o[21];if(l){const y=l.get(n,kr,r);if(y!==kr)return y}u=nv(o),o=o[15]}s=u}return i}(e,t,n,r,kr);if(o!==kr)return o}const s=qy(e,t,n,r,kr);if(s!==kr)return s}return Xy(t,n,r,i)}function qy(e,t,n,r,i){const s=function WA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Jo)?e[Jo]:void 0;return"number"==typeof t?t>=0?255&t:KA:t}(n);if("function"==typeof s){if(!Vy(t,e,r))return r&Pe.Host?Zy(i,0,r):Xy(t,n,r,i);try{const o=s(r);if(null!=o||r&Pe.Optional)return o;Uu()}finally{Uy()}}else if("number"==typeof s){let o=null,a=pf(e,t),u=-1,l=r&Pe.Host?t[16][6]:null;for((-1===a||r&Pe.SkipSelf)&&(u=-1===a?sl(e,t):t[a+8],-1!==u&&tv(r,!1)?(o=t[1],a=$s(u),t=Us(u,t)):a=-1);-1!==a;){const y=t[1];if(ev(s,a,y.data)){const C=zA(a,t,n,o,r,l);if(C!==kr)return C}u=t[a+8],-1!==u&&tv(r,t[1].data[a+8]===l)&&ev(s,a,t)?(o=y,a=$s(u),t=Us(u,t)):a=-1}}return i}function zA(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],y=al(a,o,n,null==r?Qu(a)&&ff:r!=o&&0!=(3&a.type),i&Pe.Host&&s===a);return null!==y?aa(t,o,y,a):kr}function al(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,y=s>>20,M=i?a+y:e.directiveEnd;for(let I=r?a:a+y;I<M;I++){const O=o[I];if(I<u&&n===O||I>=u&&O.type===n)return I}if(i){const I=o[u];if(I&&yr(I)&&I.type===n)return u}return null}function aa(e,t,n,r){let i=e[n];const s=t.data;if(function LA(e){return e instanceof ia}(i)){const o=i;o.resolving&&function HM(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ue(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ct(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$e(e)}(s[n]));const a=il(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Xn(o.injectImpl):null;Vy(e,r,Pe.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function RA(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=My(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&Xn(u),il(a),o.resolving=!1,Uy()}}return i}function ev(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function tv(e,t){return!(e&Pe.Self||e&Pe.Host&&t)}class Hs{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Jy(this._tNode,this._lView,t,r,n)}}function KA(){return new Hs(Gt(),fe())}function rn(e){return Si(()=>{const t=e.prototype.constructor,n=t[ti]||gf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[ti]||gf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gf(e){return $d(e)?()=>{const t=gf(Le(e));return t&&t()}:ss(e)}function nv(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const zs="__parameters__";function Ks(e,t,n){return Si(()=>{const r=function mf(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,y){const C=u.hasOwnProperty(zs)?u[zs]:Object.defineProperty(u,zs,{value:[]})[zs];for(;C.length<=y;)C.push(null);return(C[y]=C[y]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Te{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Hn(r,t)):t!==e&&t.push(r)}return t}function ii(e,t){e.forEach(n=>Array.isArray(n)?ii(n,t):t(n))}function iv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ul(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function da(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Gn(e,t,n){let r=Ys(e,t);return r>=0?e[1|r]=n:(r=~r,function JA(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function vf(e,t){const n=Ys(e,t);if(n>=0)return e[1|n]}function Ys(e,t){return function av(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const fa={},wf="__NG_DI_FLAG__",cl="ngTempTokenPath",oT=/\n/gm,uv="__source";let ha;function Qs(e){const t=ha;return ha=e,t}function uT(e,t=Pe.Default){if(void 0===ha)throw new ue(-203,!1);return null===ha?wy(e,void 0,t):ha.get(e,t&Pe.Optional?null:void 0,t)}function Ee(e,t=Pe.Default){return(function JM(){return Hd}()||uT)(Le(e),t)}function Ft(e,t=Pe.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Ee(e,t)}function bf(e){const t=[];for(let n=0;n<e.length;n++){const r=Le(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ue(900,!1);let i,s=Pe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=lT(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}t.push(Ee(i,s))}else t.push(Ee(r))}return t}function pa(e,t){return e[wf]=t,e.prototype[wf]=t,e}function lT(e){return e[wf]}const ga=pa(Ks("Optional"),8),ma=pa(Ks("SkipSelf"),4);var Nn=(()=>((Nn=Nn||{})[Nn.Important=1]="Important",Nn[Nn.DashCase=2]="DashCase",Nn))();const Sf=new Map;let MT=0;const Af="__ngContext__";function sn(e,t){Tn(t)?(e[Af]=t[20],function TT(e){Sf.set(e[20],e)}(t)):e[Af]=t}function If(e,t){return undefined(e,t)}function wa(e){const t=e[3];return mr(t)?t[3]:t}function Nf(e){return Tv(e[13])}function Of(e){return Tv(e[4])}function Tv(e){for(;null!==e&&!mr(e);)e=e[4];return e}function Xs(e,t,n,r,i){if(null!=r){let s,o=!1;mr(r)?s=r:Tn(r)&&(o=!0,r=r[0]);const a=Vt(r);0===e&&null!==n?null==i?Rv(t,n,a):os(t,n,a,i||null,!0):1===e&&null!==n?os(t,n,a,i||null,!0):2===e?function Bf(e,t,n){const r=hl(e,t);r&&function XT(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function eI(e,t,n,r,i){const s=n[7];s!==Vt(n)&&Xs(t,e,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];ba(u[1],u,e,t,r,s)}}(t,e,s,n,i)}}function Ff(e,t,n){return e.createElement(t,n)}function Nv(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,ef(i,-1)),n.splice(r,1)}function Rf(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Nv(i,r),t>0&&(e[n-1][4]=r[4]);const s=ul(e,10+t);!function HT(e,t){ba(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Ov(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&ba(e,t,n,3,null,null),function WT(e){let t=e[13];if(!t)return kf(e[1],e);for(;t;){let n=null;if(Tn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Tn(t)&&kf(t[1],t),t=t[3];null===t&&(t=e),Tn(t)&&kf(t[1],t),n=t&&t[4]}t=n}}(t)}}function kf(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ZT(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof ia)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function QT(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(t):Vt(t[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&mr(t[3])){n!==t[3]&&Nv(n,t);const r=t[19];null!==r&&r.detachView(e)}!function IT(e){Sf.delete(e[20])}(t)}}function Pv(e,t,n){return function Fv(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===pr.None||i===pr.Emulated)return null}return $n(r,n)}(e,t.parent,n)}function os(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Rv(e,t,n){e.appendChild(t,n)}function kv(e,t,n,r,i){null!==r?os(e,t,n,r,i):Rv(e,t,n)}function hl(e,t){return e.parentNode(t)}function Lv(e,t,n){return Bv(e,t,n)}let Hf,Bv=function Vv(e,t,n){return 40&e.type?$n(e,n):null};function pl(e,t,n,r){const i=Pv(e,r,t),s=t[11],a=Lv(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)kv(s,i,n[u],a,!1);else kv(s,i,n,a,!1)}function gl(e,t){if(null!==t){const n=t.type;if(3&n)return $n(t,e);if(4&n)return Vf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return gl(e,r);{const i=e[t.index];return mr(i)?Vf(-1,i):Vt(i)}}if(32&n)return If(t,e)()||Vt(e[t.index]);{const r=$v(e,t);return null!==r?Array.isArray(r)?r[0]:gl(wa(e[16]),r):gl(e,t.next)}}return null}function $v(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Vf(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return gl(r,i)}return t[7]}function jf(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&sn(Vt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)jf(e,t,n.child,r,i,s,!1),Xs(t,e,i,a,s);else if(32&u){const l=If(n,r);let y;for(;y=l();)Xs(t,e,i,y,s);Xs(t,e,i,a,s)}else 16&u?Uv(e,t,r,n,i,s):Xs(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ba(e,t,n,r,i,s){jf(n,r,e.firstChild,t,i,s,!1)}function Uv(e,t,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Xs(t,e,i,u[l],s);else jf(e,t,u,o[3],i,s,!0)}function Hv(e,t,n){e.setAttribute(t,"style",n)}function $f(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ii(e){return e instanceof class Yv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}const Zf=new Te("ENVIRONMENT_INITIALIZER"),n_=new Te("INJECTOR",-1),r_=new Te("INJECTOR_DEF_TYPES");class i_{get(t,n=fa){if(n===fa){const r=new Error(`NullInjectorError: No provider for ${_t(t)}!`);throw r.name="NullInjectorError",r}return n}}function TI(...e){return{\u0275providers:s_(0,e)}}function s_(e,...t){const n=[],r=new Set;let i;return ii(t,s=>{const o=s;Xf(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&o_(i,n),n}function o_(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];ii(i,s=>{t.push(s)})}}function Xf(e,t,n,r){if(!(e=Le(e)))return!1;let i=null,s=vy(e);const o=!s&&mt(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const u=e.ngModule;if(s=vy(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Xf(l,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{ii(s.imports,y=>{Xf(y,t,n,r)&&(l||(l=[]),l.push(y))})}finally{}void 0!==l&&o_(l,t)}if(!a){const l=ss(i)||(()=>new i);t.push({provide:i,useFactory:l,deps:dt},{provide:r_,useValue:i,multi:!0},{provide:Zf,useValue:()=>Ee(i),multi:!0})}const u=s.providers;null==u||a||ii(u,y=>{t.push(y)})}}return i!==e&&void 0!==e.providers}const II=vt({provide:String,useValue:vt});function Jf(e){return null!==e&&"object"==typeof e&&II in e}function us(e){return"function"==typeof e}const qf=new Te("Set Injector scope."),_l={},OI={};let eh;function wl(){return void 0===eh&&(eh=new i_),eh}class Ni{}class l_ extends Ni{constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nh(t,o=>this.processProvider(o)),this.records.set(n_,Js(void 0,this)),i.has("environment")&&this.records.set(Ni,Js(void 0,this));const s=this.records.get(qf);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(r_.multi,dt,Pe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Qs(this),r=Xn(void 0);try{return t()}finally{Qs(n),Xn(r)}}get(t,n=fa,r=Pe.Default){this.assertNotDestroyed();const i=Qs(this),s=Xn(void 0);try{if(!(r&Pe.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function LI(e){return"function"==typeof e||"object"==typeof e&&e instanceof Te}(t)&&Hu(t);a=u&&this.injectableDefInScope(u)?Js(th(t),_l):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Pe.Self?wl():this.parent).get(t,n=r&Pe.Optional&&n===fa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[cl]=o[cl]||[]).unshift(_t(t)),i)throw o;return function cT(e,t,n,r){const i=e[cl];throw t[uv]&&i.unshift(t[uv]),e.message=function dT(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=_t(t);if(Array.isArray(t))i=t.map(_t).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(oT,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[cl]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{Xn(s),Qs(i)}}resolveInjectorInitializers(){const t=Qs(this),n=Xn(void 0);try{const r=this.get(Zf.multi,dt,Pe.Self);for(const i of r)i()}finally{Qs(t),Xn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(_t(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(t){let n=us(t=Le(t))?t:Le(t&&t.provide);const r=function FI(e){return Jf(e)?Js(void 0,e.useValue):Js(c_(e),_l)}(t);if(us(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Js(void 0,_l,!0),i.factory=()=>bf(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===_l&&(n.value=OI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Le(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function th(e){const t=Hu(e),n=null!==t?t.factory:ss(e);if(null!==n)return n;if(e instanceof Te)throw new ue(204,!1);if(e instanceof Function)return function PI(e){const t=e.length;if(t>0)throw da(t,"?"),new ue(204,!1);const n=function QM(e){const t=e&&(e[Gu]||e[_y]);if(t){const n=function ZM(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ue(204,!1)}function c_(e,t,n){let r;if(us(e)){const i=Le(e);return ss(i)||th(i)}if(Jf(e))r=()=>Le(e.useValue);else if(function u_(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...bf(e.deps||[]));else if(function a_(e){return!(!e||!e.useExisting)}(e))r=()=>Ee(Le(e.useExisting));else{const i=Le(e&&(e.useClass||e.provide));if(!function RI(e){return!!e.deps}(e))return ss(i)||th(i);r=()=>new i(...bf(e.deps))}return r}function Js(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function VI(e){return!!e.\u0275providers}function nh(e,t){for(const n of e)Array.isArray(n)?nh(n,t):VI(n)?nh(n.\u0275providers,t):t(n)}class d_{}class $I{resolveComponentFactory(t){throw function jI(e){const t=Error(`No component factory found for ${_t(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let xa=(()=>{class e{}return e.NULL=new $I,e})();function UI(){return qs(Gt(),fe())}function qs(e,t){return new _n($n(e,t))}let _n=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=UI,e})();function HI(e){return e instanceof _n?e.nativeElement:e}class Sa{}let oi=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function GI(){const e=fe(),n=Un(Gt().index,e);return(Tn(n)?n:e)[11]}(),e})(),zI=(()=>{class e{}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>null}),e})();class Ma{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const WI=new Ma("14.2.12"),rh={};function sh(e){return e.ngOriginalError}class eo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&sh(t);for(;n&&sh(n);)n=sh(n);return n||null}}function h_(e){return e.ownerDocument.defaultView}function to(e){return e.ownerDocument}function ai(e){return e instanceof Function?e():e}function g_(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const m_="ng-template";function tN(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==g_(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function y_(e){return 4===e.type&&e.value!==m_}function nN(e,t,n){return t===(4!==e.type||n?e.value:m_)}function rN(e,t,n){let r=4;const i=e.attrs||[],s=function oN(e){for(let t=0;t<e.length;t++)if(Gy(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!nN(e,u,n)||""===u&&1===t.length){if(vr(r))return!1;o=!0}}else{const l=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!tN(e.attrs,l,n)){if(vr(r))return!1;o=!0}continue}const C=iN(8&r?"class":u,i,y_(e),n);if(-1===C){if(vr(r))return!1;o=!0;continue}if(""!==l){let M;M=C>s?"":i[C+1].toLowerCase();const I=8&r?M:null;if(I&&-1!==g_(I,l,0)||2&r&&l!==M){if(vr(r))return!1;o=!0}}}}else{if(!o&&!vr(r)&&!vr(u))return!1;if(o&&vr(u))continue;o=!1,r=u|1&r}}return vr(r)||o}function vr(e){return 0==(1&e)}function iN(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function aN(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function v_(e,t,n=!1){for(let r=0;r<t.length;r++)if(rN(e,t[r],n))return!0;return!1}function uN(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function __(e,t){return e?":not("+t.trim()+")":t}function lN(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!vr(o)&&(t+=__(s,i),i=""),r=o,s=s||!vr(r);n++}return""!==i&&(t+=__(s,i)),t}const Ue={};function Re(e){w_(nt(),fe(),yn()+e,!1)}function w_(e,t,n,r){if(!r)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&el(t,s,n)}else{const s=e.preOrderHooks;null!==s&&tl(t,s,0,n)}Ai(n)}function C_(e,t=null,n=null,r){const i=x_(e,t,n,r);return i.resolveInjectorInitializers(),i}function x_(e,t=null,n=null,r,i=new Set){const s=[n||dt,TI(e)];return r=r||("object"==typeof e?void 0:_t(e)),new l_(s,t||wl(),r||null,i)}let er=(()=>{class e{static create(n,r){if(Array.isArray(n))return C_({name:""},r,n,"");{const i=n.name??"";return C_({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=fa,e.NULL=new i_,e.\u0275prov=Oe({token:e,providedIn:"any",factory:()=>Ee(n_)}),e.__NG_ELEMENT_ID__=-1,e})();function ce(e,t=Pe.Default){const n=fe();return null===n?Ee(e,t):Jy(Gt(),n,Le(e),t)}function ch(){throw new Error("invalid")}function Dl(e,t){return e<<17|t<<2}function _r(e){return e>>17&32767}function dh(e){return 2|e}function ui(e){return(131068&e)>>2}function fh(e,t){return-131069&e|t<<2}function hh(e){return 1|e}function U_(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=e.data[s];af(i),o.contentQueries(2,t[s],s)}}}function xl(e,t,n,r,i,s,o,a,u,l,y){const C=t.blueprint.slice();return C[0]=i,C[2]=76|r,(null!==y||e&&1024&e[2])&&(C[2]|=1024),Iy(C),C[3]=C[15]=e,C[8]=n,C[10]=o||e&&e[10],C[11]=a||e&&e[11],C[12]=u||e&&e[12]||null,C[9]=l||e&&e[9]||null,C[6]=s,C[20]=function AT(){return MT++}(),C[21]=y,C[16]=2==t.type?e[16]:C,C}function io(e,t,n,r,i){let s=e.data[t];if(null===s)s=function bh(e,t,n,r,i){const s=Py(),o=tf(),u=e.data[t]=function zN(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(e,t,n,r,i),function xA(){return Ve.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ra(){const e=Ve.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Rr(s,!0),s}function so(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Dh(e,t,n){uf(t);try{const r=e.viewQuery;null!==r&&Ih(1,r,n);const i=e.template;null!==i&&H_(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&U_(e,t),e.staticViewQueries&&Ih(2,e.viewQuery,n);const s=e.components;null!==s&&function UN(e,t){for(let n=0;n<t.length;n++)aO(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,lf()}}function Sl(e,t,n,r){const i=t[2];if(128!=(128&i)){uf(t);try{Iy(t),function Ry(e){return Ve.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&H_(e,t,n,2,r);const o=3==(3&i);if(o){const l=e.preOrderCheckHooks;null!==l&&el(t,l,null)}else{const l=e.preOrderHooks;null!==l&&tl(t,l,0,null),cf(t,0)}if(function sO(e){for(let t=Nf(e);null!==t;t=Of(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&ef(s,1),i[2]|=512}}}(t),function iO(e){for(let t=Nf(e);null!==t;t=Of(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Ju(r)&&Sl(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&U_(e,t),o){const l=e.contentCheckHooks;null!==l&&el(t,l)}else{const l=e.contentHooks;null!==l&&tl(t,l,1),cf(t,1)}!function jN(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ai(~i);else{const s=i,o=n[++r],a=n[++r];SA(o,s),a(2,t[s])}}}finally{Ai(-1)}}(e,t);const a=e.components;null!==a&&function $N(e,t){for(let n=0;n<t.length;n++)oO(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Ih(2,u,r),o){const l=e.viewCheckHooks;null!==l&&el(t,l)}else{const l=e.viewHooks;null!==l&&tl(t,l,2),cf(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ef(t[3],-1))}finally{lf()}}}function H_(e,t,n,r,i){const s=yn(),o=2&r;try{Ai(-1),o&&t.length>22&&w_(e,t,22,!1),n(r,i)}finally{Ai(s)}}function G_(e,t,n){if(Yd(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Eh(e,t,n){!Oy()||(function ZN(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||oa(n,t),sn(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const u=e.data[a],l=yr(u);l&&tO(t,n,u);const y=aa(t,e,a,n);sn(y,t),null!==o&&nO(0,a-i,y,u,0,o),l&&(Un(n.index,t)[8]=y)}}(e,t,n,$n(n,t)),128==(128&n.flags)&&function XN(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function MA(){return Ve.lFrame.currentDirectiveIndex}();try{Ai(s);for(let a=r;a<i;a++){const u=e.data[a],l=t[a];rf(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&X_(u,l)}}finally{Ai(-1),rf(o)}}(e,t,n))}function Ch(e,t,n=$n){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function z_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xh(e,t,n,r,i,s,o,a,u,l){const y=22+r,C=y+i,M=function HN(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ue);return n}(y,C),I="function"==typeof l?l():l;return M[1]={type:e,blueprint:M,template:n,queries:null,viewQuery:a,declTNode:t,data:M.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1}}function W_(e,t,n,r){const i=n0(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&r0(e).push(r,i.length-1))}function K_(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Y_(e,t){const r=t.directiveEnd,i=e.data,s=t.attrs,o=[];let a=null,u=null;for(let l=t.directiveStart;l<r;l++){const y=i[l],C=y.inputs,M=null===s||y_(t)?null:rO(C,s);o.push(M),a=K_(C,l,a),u=K_(y.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}function Q_(e,t){const n=Un(t,e);16&n[2]||(n[2]|=32)}function Sh(e,t,n,r){let i=!1;if(Oy()){const s=function JN(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];v_(n,o.selectors,!1)&&(i||(i=[]),ol(oa(n,t),e,o.type),yr(o)?(J_(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,q_(n,e.data.length,s.length);for(let y=0;y<s.length;y++){const C=s[y];C.providersResolver&&C.providersResolver(C)}let a=!1,u=!1,l=so(e,t,s.length,null);for(let y=0;y<s.length;y++){const C=s[y];n.mergedAttrs=rl(n.mergedAttrs,C.hostAttrs),e0(e,n,t,l,C),eO(l,C,o),null!==C.contentQueries&&(n.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=128);const M=C.type.prototype;!a&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!u&&(M.ngOnChanges||M.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),u=!0),l++}Y_(e,n)}o&&function qN(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new ue(-301,!1);r.push(t[i],s)}}}(n,r,o)}return n.mergedAttrs=rl(n.mergedAttrs,n.attrs),i}function Z_(e,t,n,r,i,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const u=~t.index;(function QN(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function X_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function J_(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function eO(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;yr(t)&&(n[""]=e)}}function q_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function e0(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ss(i.type)),o=new ia(s,yr(i),ce);e.blueprint[r]=o,n[r]=o,Z_(e,t,0,r,so(e,n,i.hostVars,Ue),i)}function tO(e,t,n){const r=$n(t,e),i=z_(n),s=e[10],o=Ml(e,xl(e,i,null,n.onPush?32:16,r,t,s,s.createRenderer(r,n),null,null,null));e[t.index]=o}function Lr(e,t,n,r,i,s){const o=$n(e,t);!function Mh(e,t,n,r,i,s,o){if(null==s)e.removeAttribute(t,i,n);else{const a=null==o?$e(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}(t[11],o,s,e.value,n,r,i)}function nO(e,t,n,r,i,s){const o=s[t];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],y=o[u++],C=o[u++];null!==a?r.setInput(n,C,l,y):n[y]=C}}}function rO(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function t0(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function oO(e,t){const n=Un(t,e);if(Ju(n)){const r=n[1];48&n[2]?Sl(r,n,r.template,n[8]):n[5]>0&&Ah(n)}}function Ah(e){for(let r=Nf(e);null!==r;r=Of(r))for(let i=10;i<r.length;i++){const s=r[i];if(Ju(s))if(512&s[2]){const o=s[1];Sl(o,s,o.template,s[8])}else s[5]>0&&Ah(s)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Un(n[r],e);Ju(i)&&i[5]>0&&Ah(i)}}function aO(e,t){const n=Un(t,e),r=n[1];(function uO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Dh(r,n,n[8])}function Ml(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Th(e){for(;e;){e[2]|=32;const t=wa(e);if(sA(e)&&!t)return e;e=t}return null}function Al(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{Sl(e,t,e.template,n)}catch(o){throw r&&o0(t,o),o}finally{i.end&&i.end()}}function Ih(e,t,n){af(0),t(e,n)}function n0(e){return e[7]||(e[7]=[])}function r0(e){return e.cleanup||(e.cleanup=[])}function o0(e,t){const n=e[9],r=n?n.get(eo,null):null;r&&r.handleError(t)}function Nh(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],l=e.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function Tl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=jd(i,a):2==s&&(r=jd(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Il(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Vt(s)),mr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Il(u[1],u,l,r)}const o=n.type;if(8&o)Il(e,t,n.child,r);else if(32&o){const a=If(n,t);let u;for(;u=a();)r.push(u)}else if(16&o){const a=$v(t,n);if(Array.isArray(a))r.push(...a);else{const u=wa(t[16]);Il(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Aa{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Il(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(mr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Rf(t,r),ul(n,r))}this._attachedToViewContainer=!1}Ov(this._lView[1],this._lView)}onDestroy(t){W_(this._lView[1],this._lView,null,t)}markForCheck(){Th(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Al(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zT(e,t){ba(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=t}}class lO extends Aa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Al(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Oh extends xa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=mt(t);return new Ta(n,this.ngModule)}}function a0(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class dO{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,rh,r);return i!==rh||n===rh?i:this.parentInjector.get(t,n,r)}}class Ta extends d_{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function cN(e){return e.map(lN).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return a0(this.componentDef.inputs)}get outputs(){return a0(this.componentDef.outputs)}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Ni?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new dO(t,s):t,a=o.get(Sa,null);if(null===a)throw new ue(407,!1);const u=o.get(zI,null),l=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?function GN(e,t,n){return e.selectRootElement(t,n===pr.ShadowDom)}(l,r,this.componentDef.encapsulation):Ff(l,y,function cO(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(y)),M=this.componentDef.onPush?288:272,I=xh(0,null,null,1,0,null,null,null,null,null),O=xl(null,I,null,M,null,null,a,l,u,o,null);let k,j;uf(O);try{const Z=function pO(e,t,n,r,i,s){const o=n[1];n[22]=e;const u=io(o,22,2,"#host",null),l=u.mergedAttrs=t.hostAttrs;null!==l&&(Tl(u,l,!0),null!==e&&(nl(i,e,l),null!==u.classes&&$f(i,e,u.classes),null!==u.styles&&Hv(i,e,u.styles)));const y=r.createRenderer(e,t),C=xl(n,z_(t),null,t.onPush?32:16,n[22],u,r,y,s||null,null,null);return o.firstCreatePass&&(ol(oa(u,n),o,t.type),J_(o,u),q_(u,n.length,1)),Ml(n,C),n[22]=C}(C,this.componentDef,O,a,l);if(C)if(r)nl(l,C,["ng-version",WI.full]);else{const{attrs:ee,classes:Q}=function dN(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!vr(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);ee&&nl(l,C,ee),Q&&Q.length>0&&$f(l,C,Q.join(" "))}if(j=qd(I,22),void 0!==n){const ee=j.projection=[];for(let Q=0;Q<this.ngContentSelectors.length;Q++){const ae=n[Q];ee.push(null!=ae?Array.from(ae):null)}}k=function gO(e,t,n,r){const i=n[1],s=function YN(e,t,n){const r=Gt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),e0(e,r,t,so(e,t,1,null),n),Y_(e,r));const i=aa(t,e,r.directiveStart,r);sn(i,t);const s=$n(r,t);return s&&sn(s,t),i}(i,n,t);if(e[8]=n[8]=s,null!==r)for(const a of r)a(s,t);if(t.contentQueries){const a=Gt();t.contentQueries(1,s,a.directiveStart)}const o=Gt();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ai(o.index),Z_(n[1],o,0,o.directiveStart,o.directiveEnd,t),X_(t,s)),s}(Z,this.componentDef,O,[mO]),Dh(I,O,null)}finally{lf()}return new hO(this.componentType,k,qs(j,O),O,j)}}class hO extends class BI{}{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new lO(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const s=this._rootLView;Nh(s[1],s,i,t,n),Q_(s,this._tNode.index)}}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function mO(){const e=Gt();qu(fe()[1],e)}function yt(e){let t=function u0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(yr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ue(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const o=e;o.inputs=Ph(e.inputs),o.declaredInputs=Ph(e.declaredInputs),o.outputs=Ph(e.outputs);const a=i.hostBindings;a&&wO(e,a);const u=i.viewQuery,l=i.contentQueries;if(u&&vO(e,u),l&&_O(e,l),Bd(e.inputs,i.inputs),Bd(e.declaredInputs,i.declaredInputs),Bd(e.outputs,i.outputs),yr(i)&&i.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===yt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function yO(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=rl(i.hostAttrs,n=rl(n,i.hostAttrs))}}(r)}function Ph(e){return e===Ps?{}:e===dt?[]:e}function vO(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function _O(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function wO(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let Nl=null;function ls(){if(!Nl){const e=Dt.Symbol;if(e&&e.iterator)Nl=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nl=r)}}}return Nl}function Ia(e){return!!function Fh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&ls()in e)}function on(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function rt(e,t,n,r){const i=fe();return on(i,js(),t)&&(nt(),Lr(At(),i,e,t,n,r)),rt}function gt(e,t,n,r,i,s,o,a){const u=fe(),l=nt(),y=e+22,C=l.firstCreatePass?function AO(e,t,n,r,i,s,o,a,u){const l=t.consts,y=io(t,e,4,o||null,Mi(l,a));Sh(t,n,y,Mi(l,u)),qu(t,y);const C=y.tViews=xh(2,y,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,y),C.queries=t.queries.embeddedTView(y)),y}(y,l,u,t,n,r,i,s,o):l.data[y];Rr(C,!1);const M=u[11].createComment("");pl(l,u,M,C),sn(M,u),Ml(u,u[y]=t0(M,u,M,C)),Zu(C)&&Eh(l,u,C),null!=o&&Ch(u,C,a)}function ze(e,t,n){const r=fe();return on(r,js(),t)&&function zn(e,t,n,r,i,s,o,a){const u=$n(t,n);let y,l=t.inputs;!a&&null!=l&&(y=l[r])?(Nh(e,n,y,r,i),Qu(t)&&Q_(n,t.index)):3&t.type&&(r=function WN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(u,r,i))}(nt(),At(),r,e,t,r[11],n,!1),ze}function Rh(e,t,n,r,i){const o=i?"class":"style";Nh(e,n,t.inputs[o],o,r)}function et(e,t,n,r){const i=fe(),s=nt(),o=22+e,a=i[11],u=i[o]=Ff(a,t,function FA(){return Ve.lFrame.currentNamespace}()),l=s.firstCreatePass?function NO(e,t,n,r,i,s,o){const a=t.consts,l=io(t,e,2,i,Mi(a,s));return Sh(t,n,l,Mi(a,o)),null!==l.attrs&&Tl(l,l.attrs,!1),null!==l.mergedAttrs&&Tl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];Rr(l,!0);const y=l.mergedAttrs;null!==y&&nl(a,u,y);const C=l.classes;null!==C&&$f(a,u,C);const M=l.styles;return null!==M&&Hv(a,u,M),64!=(64&l.flags)&&pl(s,i,u,l),0===function _A(){return Ve.lFrame.elementDepthCount}()&&sn(u,i),function wA(){Ve.lFrame.elementDepthCount++}(),Zu(l)&&(Eh(s,i,l),G_(s,l,i)),null!==r&&Ch(i,l),et}function ft(){let e=Gt();tf()?nf():(e=e.parent,Rr(e,!1));const t=e;!function bA(){Ve.lFrame.elementDepthCount--}();const n=nt();return n.firstCreatePass&&(qu(n,e),Yd(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function BA(e){return 0!=(16&e.flags)}(t)&&Rh(n,t,fe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function jA(e){return 0!=(32&e.flags)}(t)&&Rh(n,t,fe(),t.stylesWithoutHost,!1),ft}function On(e,t,n,r){return et(e,t,n,r),ft(),On}function Pl(e,t,n){const r=fe(),i=nt(),s=e+22,o=i.firstCreatePass?function OO(e,t,n,r,i){const s=t.consts,o=Mi(s,r),a=io(t,e,8,"ng-container",o);return null!==o&&Tl(a,o,!0),Sh(t,n,a,Mi(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Rr(o,!0);const a=r[s]=r[11].createComment("");return pl(i,r,a,o),sn(a,r),Zu(o)&&(Eh(i,r,o),G_(i,o,r)),null!=n&&Ch(r,o),Pl}function Fl(){let e=Gt();const t=nt();return tf()?nf():(e=e.parent,Rr(e,!1)),t.firstCreatePass&&(qu(t,e),Yd(e)&&t.queries.elementEnd(e)),Fl}function Fi(e,t,n){return Pl(e,t,n),Fl(),Fi}function mo(){return fe()}function Oa(e){return!!e&&"function"==typeof e.then}const kh=function v0(e){return!!e&&"function"==typeof e.subscribe};function Ct(e,t,n,r){const i=fe(),s=nt(),o=Gt();return function w0(e,t,n,r,i,s,o,a){const u=Zu(r),y=e.firstCreatePass&&r0(e),C=t[8],M=n0(t);let I=!0;if(3&r.type||a){const j=$n(r,t),Z=a?a(j):j,ee=M.length,Q=a?ye=>a(Vt(ye[r.index])):r.index;let ae=null;if(!a&&u&&(ae=function PO(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=s,ae.__ngLastListenerFn__=s,I=!1;else{s=D0(r,t,C,s,!1);const ye=n.listen(Z,i,s);M.push(s,ye),y&&y.push(i,Q,ee,ee+1)}}else s=D0(r,t,C,s,!1);const O=r.outputs;let k;if(I&&null!==O&&(k=O[i])){const j=k.length;if(j)for(let Z=0;Z<j;Z+=2){const De=t[k[Z]][k[Z+1]].subscribe(s),Ne=M.length;M.push(s,De),y&&y.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[11],o,e,t,0,r),Ct}function b0(e,t,n,r){try{return!1!==n(r)}catch(i){return o0(e,i),!1}}function D0(e,t,n,r,i){return function s(o){if(o===Function)return r;Th(2&e.flags?Un(e.index,t):t);let u=b0(t,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=b0(t,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Qe(e=1){return function TA(e){return(Ve.lFrame.contextLView=function IA(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ve.lFrame.contextLView))[8]}(e)}function FO(e,t){let n=null;const r=function sN(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?v_(e,s,!0):uN(r,s))return i}else n=i}return n}function F0(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?_r(s):ui(s),u=!1;for(;0!==a&&(!1===u||o);){const y=e[a+1];LO(e[a],t)&&(u=!0,e[a+1]=r?hh(y):dh(y)),a=r?_r(y):ui(y)}u&&(e[n+1]=r?dh(s):hh(s))}function LO(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ys(e,t)>=0}const Wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R0(e){return e.substring(Wt.key,Wt.keyEnd)}function VO(e){return e.substring(Wt.value,Wt.valueEnd)}function L0(e,t){const n=Wt.textEnd;let r=Wt.key=yo(e,t,n);return n===r?-1:(r=Wt.keyEnd=function UO(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=B0(e,r,n),r=Wt.value=yo(e,r,n),r=Wt.valueEnd=function HO(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const u=e.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=j0(e,u,o,n):t===o-4&&85===s&&82===i&&76===r&&40===u?a=o=j0(e,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(e,r,n),B0(e,r,n))}function yo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function B0(e,t,n,r){return(t=yo(e,t,n))<n&&t++,t}function j0(e,t,n,r){let i=-1,s=n;for(;s<r;){const o=e.charCodeAt(s++);if(o==t&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function vo(e,t,n){return br(e,t,n,!1),vo}function Ri(e,t){return br(e,t,null,!0),Ri}function wr(e){!function Dr(e,t,n,r){const i=nt(),s=ri(2);i.firstUpdatePass&&U0(i,null,s,r);const o=fe();if(n!==Ue&&on(o,s,n)){const a=i.data[yn()];if(W0(a,r)&&!$0(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=jd(u,n||"")),Rh(i,a,o,n,r)}else!function XO(e,t,n,r,i,s,o,a){i===Ue&&(i=dt);let u=0,l=0,y=0<i.length?i[0]:null,C=0<s.length?s[0]:null;for(;null!==y||null!==C;){const M=u<i.length?i[u+1]:void 0,I=l<s.length?s[l+1]:void 0;let k,O=null;y===C?(u+=2,l+=2,M!==I&&(O=C,k=I)):null===C||null!==y&&y<C?(u+=2,O=y):(l+=2,O=C,k=I),null!==O&&G0(e,t,n,r,O,k,o,a),y=u<i.length?i[u]:null,C=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function ZO(e,t,n){if(null==n||""===n)return dt;const r=[],i=Ii(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}(H0,GO,e,!1)}function GO(e,t){for(let n=function jO(e){return function V0(e){Wt.key=0,Wt.keyEnd=0,Wt.value=0,Wt.valueEnd=0,Wt.textEnd=e.length}(e),L0(e,yo(e,0,Wt.textEnd))}(t);n>=0;n=L0(t,n))H0(e,R0(t),VO(t))}function br(e,t,n,r){const i=fe(),s=nt(),o=ri(2);s.firstUpdatePass&&U0(s,e,o,r),t!==Ue&&on(i,o,t)&&G0(s,s.data[yn()],i,i[11],e,i[o+1]=function JO(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=_t(Ii(e)))),e}(t,n),r,o)}function $0(e,t){return t>=e.expandoStartIndex}function U0(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[yn()],o=$0(e,n);W0(s,r)&&null===t&&!o&&(t=!1),t=function WO(e,t,n,r){const i=function sf(e){const t=Ve.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Pa(n=Vh(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Vh(i,e,t,n,r),null===s){let u=function KO(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ui(r))return e[_r(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=Vh(null,e,t,u[1],r),u=Pa(u,t.attrs,r),function YO(e,t,n,r){e[_r(n?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else s=function QO(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Pa(r,e[s].hostAttrs,n);return Pa(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function RO(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=_r(o),u=ui(o);e[r]=n;let y,l=!1;if(Array.isArray(n)){const C=n;y=C[1],(null===y||Ys(C,y)>0)&&(l=!0)}else y=n;if(i)if(0!==u){const M=_r(e[a+1]);e[r+1]=Dl(M,a),0!==M&&(e[M+1]=fh(e[M+1],r)),e[a+1]=function IN(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Dl(a,0),0!==a&&(e[a+1]=fh(e[a+1],r)),a=r;else e[r+1]=Dl(u,0),0===a?a=r:e[u+1]=fh(e[u+1],r),u=r;l&&(e[r+1]=dh(e[r+1])),F0(e,y,r,!0),F0(e,y,r,!1),function kO(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ys(s,t)>=0&&(n[r+1]=hh(n[r+1]))}(t,y,e,r,s),o=Dl(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Vh(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Pa(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Pa(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gn(e,o,!!n||t[++s]))}return void 0===e?null:e}function H0(e,t,n){Gn(e,t,Ii(n))}function G0(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,l=u[a+1];Rl(function F_(e){return 1==(1&e)}(l)?z0(u,t,n,i,ui(l),o):void 0)||(Rl(s)||function P_(e){return 2==(2&e)}(l)&&(s=z0(u,null,n,i,a,o)),function tI(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Nn.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Nn.Important),e.setStyle(n,r,i,s))}}(r,o,Xu(yn(),n),i,s))}function z0(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const u=e[i],l=Array.isArray(u),y=l?u[1]:u,C=null===y;let M=n[i+1];M===Ue&&(M=C?dt:void 0);let I=C?vf(M,r):y===r?M:void 0;if(l&&!Rl(I)&&(I=vf(u,r)),Rl(I)&&(a=I,o))return a;const O=e[i+1];i=o?_r(O):ui(O)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(a=vf(u,r))}return a}function Rl(e){return void 0!==e}function W0(e,t){return 0!=(e.flags&(t?16:32))}function jr(e,t=""){const n=fe(),r=nt(),i=e+22,s=r.firstCreatePass?io(r,i,1,t,null):r.data[i],o=n[i]=function Pf(e,t){return e.createText(t)}(n[11],t);pl(r,n,o,s),Rr(s,!1)}function nr(e,t,n){const r=fe(),i=function ao(e,t,n,r){return on(e,js(),n)?t+$e(n)+r:Ue}(r,e,t,n);return i!==Ue&&function li(e,t,n){const r=Xu(t,e);!function Iv(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,yn(),i),nr}const wo="en-US";let gw=wo;function $h(e,t,n,r,i){if(e=Le(e),Array.isArray(e))for(let s=0;s<e.length;s++)$h(e[s],t,n,r,i);else{const s=nt(),o=fe();let a=us(e)?e:Le(e.provide),u=c_(e);const l=Gt(),y=1048575&l.providerIndexes,C=l.directiveStart,M=l.providerIndexes>>20;if(us(e)||!e.multi){const I=new ia(u,i,ce),O=Hh(a,t,i?y:y+M,C);-1===O?(ol(oa(l,o),s,a),Uh(s,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(I),o.push(I)):(n[O]=I,o[O]=I)}else{const I=Hh(a,t,y+M,C),O=Hh(a,t,y,y+M),k=I>=0&&n[I],j=O>=0&&n[O];if(i&&!j||!i&&!k){ol(oa(l,o),s,a);const Z=function mF(e,t,n,r,i){const s=new ia(e,n,ce);return s.multi=[],s.index=t,s.componentProviders=0,jw(s,i,r&&!n),s}(i?gF:pF,n.length,i,r,u);!i&&j&&(n[O].providerFactory=Z),Uh(s,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(Z),o.push(Z)}else Uh(s,e,I>-1?I:O,jw(n[i?O:I],u,!i&&r));!i&&r&&j&&n[O].componentProviders++}}}function Uh(e,t,n,r){const i=us(t),s=function NI(e){return!!e.useClass}(t);if(i||s){const u=(s?Le(t.useClass):t).prototype.ngOnDestroy;if(u){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const y=l.indexOf(n);-1===y?l.push(n,[r,u]):l[y+1].push(r,u)}else l.push(n,u)}}}function jw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Hh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function pF(e,t,n,r){return Gh(this.multi,[])}function gF(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=aa(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Gh(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Gh(i,s);return s}function Gh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Mt(e,t=[]){return n=>{n.providersResolver=(r,i)=>function hF(e,t,n){const r=nt();if(r.firstCreatePass){const i=yr(e);$h(n,r.data,r.blueprint,i,!0),$h(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class fs{}class $w{}class Uw extends fs{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Oh(this);const r=Bn(t);this._bootstrapComponents=ai(r.bootstrap),this._r3Injector=x_(t,n,[{provide:fs,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],_t(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zh extends $w{constructor(t){super(),this.moduleType=t}create(t){return new Uw(this.moduleType,t)}}class vF extends fs{constructor(t,n,r){super(),this.componentFactoryResolver=new Oh(this),this.instance=null;const i=new l_([...t,{provide:fs,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],n||wl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function jl(e,t,n=null){return new vF(e,t,n).injector}let _F=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=s_(0,n.type),i=r.length>0?jl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Oe({token:e,providedIn:"environment",factory:()=>new e(Ee(Ni))}),e})();function Hw(e){e.getStandaloneInjector=t=>t.get(_F).getOrCreateStandaloneInjector(e)}function bo(e,t,n,r){return function Zw(e,t,n,r,i,s){const o=t+n;return on(e,o,i)?function Vr(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function Ba(e,t){const n=e[t];return n===Ue?void 0:n}(e,o+1)}(fe(),function mn(){const e=Ve.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function Kh(e){return t=>{setTimeout(e,void 0,t)}}const lt=class GF extends re{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Kh(s),i&&(i=Kh(i)),o&&(o=Kh(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof g&&t.add(a),a}};function zF(){return this._results[ls()]()}class Yh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ls(),r=Yh.prototype;r[n]||(r[n]=zF)}get changes(){return this._changes||(this._changes=new lt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Hn(t);(this._changesDetected=!function ZA(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ci=(()=>{class e{}return e.__NG_ELEMENT_ID__=YF,e})();const WF=ci,KF=class extends WF{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=xl(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Dh(r,i,t),new Aa(i)}};function YF(){return $l(Gt(),fe())}function $l(e,t){return 4&e.type?new KF(t,e,qs(e,t)):null}let Er=(()=>{class e{}return e.__NG_ELEMENT_ID__=QF,e})();function QF(){return rb(Gt(),fe())}const ZF=Er,tb=class extends ZF{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return qs(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const t=sl(this._hostTNode,this._hostLView);if(Ky(t)){const n=Us(t,this._hostLView),r=$s(t);return new Hs(n[1].data[r+8],n)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=nb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=t.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(t,n,r,i,s){const o=t&&!function ca(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const u=o?t:new Ta(mt(t)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const M=(o?l:this.parentInjector).get(Ni,null);M&&(s=M)}const y=u.create(l,i,void 0,s);return this.insert(y.hostView,a),y}insert(t,n){const r=t._lView,i=r[1];if(function vA(e){return mr(e[3])}(r)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const C=r[3],M=new tb(C,C[6],C[3]);M.detach(M.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function KT(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],iv(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function YT(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(i,r,o,s);const a=Vf(s,o),u=r[11],l=hl(u,o[7]);return null!==l&&function GT(e,t,n,r,i,s){r[0]=i,r[6]=t,ba(e,r,n,1,i,s)}(i,o[6],u,r,l,a),t.attachToViewContainerRef(),iv(Qh(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=nb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Rf(this._lContainer,n);r&&(ul(Qh(this._lContainer),n),Ov(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Rf(this._lContainer,n);return r&&null!=ul(Qh(this._lContainer),n)?new Aa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function nb(e){return e[8]}function Qh(e){return e[8]||(e[8]=[])}function rb(e,t){let n;const r=t[e.index];if(mr(r))n=r;else{let i;if(8&e.type)i=Vt(r);else{const s=t[11];i=s.createComment("");const o=$n(e,t);os(s,hl(s,o),i,function JT(e,t){return e.nextSibling(t)}(s,o),!1)}t[e.index]=n=t0(r,t,i,e),Ml(t,n)}return new tb(n,e,t)}class Zh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Zh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Xh(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==ub(t,n).matches&&this.queries[n].setDirty()}}class ib{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Jh{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Jh(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class qh{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new qh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,qF(n,s)),this.matchTNodeWithReadOption(t,n,al(n,t,s,!1,!1))}else r===ci?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,al(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===_n||i===Er||i===ci&&4&n.type)this.addMatch(n.index,-2);else{const s=al(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function qF(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function tR(e,t,n,r){return-1===n?function eR(e,t){return 11&e.type?qs(e,t):4&e.type?$l(e,t):null}(t,e):-2===n?function nR(e,t,n){return n===_n?qs(t,e):n===ci?$l(t,e):n===Er?rb(t,e):void 0}(e,t,r):aa(e,e[1],n,t)}function sb(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:tR(t,s[l],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function ep(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=sb(e,t,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],y=t[-u];for(let C=10;C<y.length;C++){const M=y[C];M[17]===M[3]&&ep(M[1],M,l,r)}if(null!==y[9]){const C=y[9];for(let M=0;M<C.length;M++){const I=C[M];ep(I[1],I,l,r)}}}}}return r}function Cr(e){const t=fe(),n=nt(),r=Ly();af(r+1);const i=ub(n,r);if(e.dirty&&function yA(e){return 4==(4&e[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?ep(n,t,r,[]):sb(n,t,i,r);e.reset(s,HI),e.notifyOnChanges()}return!0}return!1}function Ul(e,t,n){const r=nt();r.firstCreatePass&&(ab(r,new ib(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),ob(r,fe(),t)}function ki(e,t,n,r){const i=nt();if(i.firstCreatePass){const s=Gt();ab(i,new ib(t,n,r),s.index),function iR(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}ob(i,fe(),n)}function xr(){return function rR(e,t){return e[19].queries[t].queryList}(fe(),Ly())}function ob(e,t,n){const r=new Yh(4==(4&n));W_(e,t,r,r.destroy),null===t[19]&&(t[19]=new Xh),t[19].queries.push(new Zh(r))}function ab(e,t,n){null===e.queries&&(e.queries=new Jh),e.queries.track(new qh(t,n))}function ub(e,t){return e.queries.getByIndex(t)}function $a(e,t){return $l(e,t)}function Gl(...e){}const Ha=new Te("Application Initializer");let zl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Gl,this.reject=Gl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Oa(s))n.push(s);else if(kh(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ha,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ga=new Te("AppId",{providedIn:"root",factory:function Mb(){return`${sp()}${sp()}${sp()}`}});function sp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ab=new Te("Platform Initializer"),Tb=new Te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ib=new Te("appBootstrapListener"),Nb=new Te("AnimationModuleType");let CR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const di=new Te("LocaleId",{providedIn:"root",factory:()=>Ft(di,Pe.Optional|Pe.SkipSelf)||function xR(){return typeof $localize<"u"&&$localize.locale||wo}()});class MR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let op=(()=>{class e{compileModuleSync(n){return new zh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ai(Bn(n).declarations).reduce((o,a)=>{const u=mt(a);return u&&o.push(new Ta(u)),o},[]);return new MR(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const IR=(()=>Promise.resolve(0))();function ap(e){typeof Zone>"u"?IR.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Tt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function NR(){let e=Dt.requestAnimationFrame,t=Dt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function FR(e){const t=()=>{!function PR(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Dt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,lp(e),e.isCheckStableRunning=!0,up(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),lp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Fb(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Rb(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Fb(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Rb(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,lp(e),up(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tt.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Tt.isInAngularZone())throw new ue(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,OR,Gl,Gl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const OR={};function up(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Fb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rb(e){e._nesting--,up(e)}class RR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const kb=new Te(""),Wl=new Te("");let fp,cp=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fp||(function kR(e){fp=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tt.assertNotInAngularZone(),ap(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ap(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ee(Tt),Ee(dp),Ee(Wl))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),dp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fp?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Li=null;const Lb=new Te("AllowMultipleToken"),hp=new Te("PlatformDestroyListeners");class Vb{constructor(t,n){this.name=t,this.token=n}}function jb(e,t,n=[]){const r=`Platform: ${t}`,i=new Te(r);return(s=[])=>{let o=pp();if(!o||o.injector.get(Lb,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function BR(e){if(Li&&!Li.get(Lb,!1))throw new ue(400,!1);Li=e;const t=e.get(Ub);(function Bb(e){const t=e.get(Ab,null);t&&t.forEach(n=>n())})(e)}(function $b(e=[],t){return er.create({name:t,providers:[{provide:qf,useValue:"platform"},{provide:hp,useValue:new Set([()=>Li=null])},...e]})}(a,r))}return function $R(e){const t=pp();if(!t)throw new ue(401,!1);return t}()}}function pp(){return Li?.get(Ub)??null}let Ub=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Gb(e,t){let n;return n="noop"===e?new RR:("zone.js"===e?void 0:e)||new Tt(t),n}(r?.ngZone,function Hb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Tt,useValue:i}];return i.run(()=>{const o=er.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(eo,null);if(!u)throw new ue(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:y=>{u.handleError(y)}});a.onDestroy(()=>{Kl(this._modules,a),l.unsubscribe()})}),function zb(e,t,n){try{const r=n();return Oa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,i,()=>{const l=a.injector.get(zl);return l.runInitializers(),l.donePromise.then(()=>(function mw(e){Vn(e,"Expected localeId to be defined"),"string"==typeof e&&(gw=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(di,wo)||wo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Wb({},r);return function LR(e,t,n){const r=new zh(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(za);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ue(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(hp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ee(er))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Wb(e,t){return Array.isArray(t)?t.reduce(Wb,e):{...e,...t}}let za=(()=>{class e{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ie(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ie(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Tt.assertNotInAngularZone(),ap(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=function jM(...e){const t=Xo(e),n=function PM(e,t){return"number"==typeof Ld(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Zn(r[0]):Os(n)(Lt(r,t)):qr}(s,o.pipe(function $M(e={}){const{connector:t=(()=>new re),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,u,l=0,y=!1,C=!1;const M=()=>{a?.unsubscribe(),a=void 0},I=()=>{M(),o=u=void 0,y=C=!1},O=()=>{const k=o;I(),k?.unsubscribe()};return ve((k,j)=>{l++,!C&&!y&&M();const Z=u=u??t();j.add(()=>{l--,0===l&&!C&&!y&&(a=Vd(O,i))}),Z.subscribe(j),!o&&l>0&&(o=new U({next:ee=>Z.next(ee),error:ee=>{C=!0,M(),a=Vd(I,n,ee),Z.error(ee)},complete:()=>{y=!0,M(),a=Vd(I,r),Z.complete()}}),Zn(k).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof d_;if(!this._injector.get(zl).done)throw!i&&function Rs(e){const t=mt(e)||pn(e)||gn(e);return null!==t&&t.standalone}(n),new ue(405,false);let o;o=i?n:this._injector.get(xa).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function VR(e){return e.isBoundToModule}(o)?void 0:this._injector.get(fs),l=o.create(er.NULL,[],r||o.selector,a),y=l.location.nativeElement,C=l.injector.get(kb,null);return C?.registerApplication(y),l.onDestroy(()=>{this.detachView(l.hostView),Kl(this.components,l),C?.unregisterApplication(y)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ib,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ue(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ee(Tt),Ee(Ni),Ee(eo))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Kl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Yb=!0,Wa=(()=>{class e{}return e.__NG_ELEMENT_ID__=GR,e})();function GR(e){return function zR(e,t,n){if(Qu(e)&&!n){const r=Un(e.index,t);return new Aa(r,r)}return 47&e.type?new Aa(t[16],t):null}(Gt(),fe(),16==(16&e))}class qb{constructor(){}supports(t){return Ia(t)}create(t){return new XR(t)}}const ZR=(e,t)=>t;class XR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ZR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<tD(r,i,s)?n:r,a=tD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,y=u-i;if(l!=y){for(let M=0;M<l;M++){const I=M<s.length?s[M]:s[M]=0,O=I+M;y<=O&&O<l&&(s[M]=I+1)}s[o.previousIndex]=y-l}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ia(t))throw new ue(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function xO(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ls()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new JR(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new eD),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class eD{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new qR,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function rD(){return new Zl([new qb])}let Zl=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||rD()),deps:[[e,new ma,new ga]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ue(901,!1)}}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:rD}),e})();const ik=jb(null,"core",[]);let sk=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ee(za))},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({}),e})();let Xl=null;function $r(){return Xl}const an=new Te("DocumentToken");let _p=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:function(){return function lk(){return Ee(sD)}()},providedIn:"platform"}),e})();const ck=new Te("Location Initialized");let sD=(()=>{class e extends _p{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){oD()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){oD()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ee(an))},e.\u0275prov=Oe({token:e,factory:function(){return function dk(){return new sD(Ee(an))}()},providedIn:"platform"}),e})();function oD(){return!!window.history.pushState}function wp(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function aD(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function pi(e){return e&&"?"!==e[0]?"?"+e:e}let ps=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:function(){return Ft(lD)},providedIn:"root"}),e})();const uD=new Te("appBaseHref");let lD=(()=>{class e extends ps{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ft(an).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+pi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+pi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ee(_p),Ee(uD,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fk=(()=>{class e extends ps{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=wp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+pi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+pi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ee(_p),Ee(uD,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),bp=(()=>{class e{constructor(n){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=aD(cD(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+pi(r))}normalize(n){return e.stripTrailingSlash(function pk(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,cD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=pi,e.joinWithSlash=wp,e.stripTrailingSlash=aD,e.\u0275fac=function(n){return new(n||e)(Ee(ps))},e.\u0275prov=Oe({token:e,factory:function(){return function hk(){return new bp(Ee(ps))}()},providedIn:"root"}),e})();function cD(e){return e.replace(/\/index.html$/,"")}class e2{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Np=(()=>{class e{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new e2(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),bD(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{bD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(ce(Er),ce(ci),ce(Zl))},e.\u0275dir=Fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function bD(e,t){e.context.$implicit=t.item}let Op=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new n2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){DD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){DD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(ce(Er),ce(ci))},e.\u0275dir=Fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class n2{constructor(){this.$implicit=null,this.ngIf=null}}function DD(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${_t(t)}'.`)}let CD=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(ce(Er))},e.\u0275dir=Fe({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[In]}),e})(),ac=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({}),e})();let N2=(()=>{class e{}return e.\u0275prov=Oe({token:e,providedIn:"root",factory:()=>new O2(Ee(an),window)}),e})();class O2{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function P2(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=MD(this.window.history)||MD(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function MD(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Bp extends class J2 extends class uk{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ak(e){Xl||(Xl=e)}(new Bp)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function q2(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}();return null==n?null:function eL(e){lc=lc||document.createElement("a"),lc.setAttribute("href",e);const t=lc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Xk(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let lc,Xa=null;const ND=new Te("TRANSITION_ID"),nL=[{provide:Ha,useFactory:function tL(e,t,n){return()=>{n.get(zl).donePromise.then(()=>{const r=$r(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[ND,an,er],multi:!0}];let iL=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const cc=new Te("EventManagerPlugins");let dc=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ee(cc),Ee(Tt))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class OD{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=$r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let PD=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Ja=(()=>{class e extends PD{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(FD),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(FD))}}return e.\u0275fac=function(n){return new(n||e)(Ee(an))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function FD(e){$r().remove(e)}const jp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$p=/%COMP%/g;function fc(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?fc(e,i,n):(i=i.replace($p,e),n.push(i))}return n}function LD(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let hc=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Up(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case pr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new cL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case pr.ShadowDom:return new dL(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=fc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ee(dc),Ee(Ja),Ee(Ga))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class Up{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(jp[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(BD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(BD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=jp[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=jp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Nn.DashCase|Nn.Important)?t.style.setProperty(n,r,i&Nn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Nn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,LD(r)):this.eventManager.addEventListener(t,n,LD(r))}}function BD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class cL extends Up{constructor(t,n,r,i){super(t),this.component=r;const s=fc(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function aL(e){return"_ngcontent-%COMP%".replace($p,e)}(i+"-"+r.id),this.hostAttr=function uL(e){return"_nghost-%COMP%".replace($p,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class dL extends Up{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=fc(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fL=(()=>{class e extends OD{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ee(an))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const jD=["alt","control","meta","shift"],hL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let gL=(()=>{class e extends OD{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jD.forEach(l=>{const y=r.indexOf(l);y>-1&&(r.splice(y,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=hL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jD.forEach(o=>{o!==i&&(0,pL[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ee(an))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();const _L=jb(ik,"browser",[{provide:Tb,useValue:"browser"},{provide:Ab,useValue:function mL(){Bp.makeCurrent()},multi:!0},{provide:an,useFactory:function vL(){return function sI(e){Hf=e}(document),document},deps:[]}]),HD=new Te(""),GD=[{provide:Wl,useClass:class rL{addToWindow(t){Dt.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dt.getAllAngularRootElements=()=>t.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(r=>{const i=Dt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?$r().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:kb,useClass:cp,deps:[Tt,dp,Wl]},{provide:cp,useClass:cp,deps:[Tt,dp,Wl]}],zD=[{provide:qf,useValue:"root"},{provide:eo,useFactory:function yL(){return new eo},deps:[]},{provide:cc,useClass:fL,multi:!0,deps:[an,Tt,Tb]},{provide:cc,useClass:gL,multi:!0,deps:[an]},{provide:hc,useClass:hc,deps:[dc,Ja,Ga]},{provide:Sa,useExisting:hc},{provide:PD,useExisting:Ja},{provide:Ja,useClass:Ja,deps:[an]},{provide:dc,useClass:dc,deps:[cc,Tt]},{provide:class F2{},useClass:iL,deps:[]},[]];let WD=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ga,useValue:n.appId},{provide:ND,useExisting:Ga},nL]}}}return e.\u0275fac=function(n){return new(n||e)(Ee(HD,12))},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({providers:[...zD,...GD],imports:[ac,sk]}),e})(),KD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Ee(an))},e.\u0275prov=Oe({token:e,factory:function(n){let r=null;return r=n?new n:function bL(){return new KD(Ee(an))}(),r},providedIn:"root"}),e})();function Me(...e){return Lt(e,Xo(e))}typeof window<"u"&&window;class sr extends re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const pc=_(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:TL}=Array,{getPrototypeOf:IL,prototype:NL,keys:OL}=Object;function ZD(e){if(1===e.length){const t=e[0];if(TL(t))return{args:t,keys:null};if(function PL(e){return e&&"object"==typeof e&&IL(e)===NL}(t)){const n=OL(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:FL}=Array;function zp(e){return Se(t=>function RL(e,t){return FL(t)?e(...t):e(t)}(e,t))}function XD(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function JD(...e){const t=Xo(e),n=hy(e),{args:r,keys:i}=ZD(e);if(0===r.length)return Lt([],t);const s=new ie(function kL(e,t,n=te){return r=>{qD(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)qD(t,()=>{const l=Lt(e[u],t);let y=!1;l.subscribe(me(r,C=>{s[u]=C,y||(y=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>XD(i,o):te));return n?s.pipe(zp(n)):s}function qD(e,t,n){e?Jr(n,e,t):t()}function Wp(...e){return function LL(){return Os(1)}()(Lt(e,Xo(e)))}function eE(e){return new ie(t=>{Zn(e()).subscribe(t)})}function qa(e,t){const n=m(e)?e:()=>e,r=i=>i.error(n());return new ie(t?i=>t.schedule(r,0,i):r)}function Kp(){return ve((e,t)=>{let n=null;e._refCount++;const r=me(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class tE extends ie{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new g;const n=this.getSubject();t.add(this.source.subscribe(me(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=g.EMPTY)}return t}refCount(){return Kp()(this)}}function Ur(e,t){return ve((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(me(r,u=>{i?.unsubscribe();let l=0;const y=s++;Zn(e(u,y)).subscribe(i=me(r,C=>r.next(t?t(u,C,y,l++):C),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function eu(e){return e<=0?()=>qr:ve((t,n)=>{let r=0;t.subscribe(me(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Bi(e,t){return ve((n,r)=>{let i=0;n.subscribe(me(r,s=>e.call(t,s,i++)&&r.next(s)))})}function gc(e){return ve((t,n)=>{let r=!1;t.subscribe(me(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function nE(e=BL){return ve((t,n)=>{let r=!1;t.subscribe(me(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function BL(){return new pc}function mi(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Bi((i,s)=>e(i,s,r)):te,eu(1),n?gc(t):nE(()=>new pc))}function gs(e,t){return m(t)?Qt(e,t,1):Qt(e,1)}function ln(e,t,n){const r=m(e)||t||n?{next:e,error:t,complete:n}:e;return r?ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(me(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):te}function ji(e){return ve((t,n)=>{let s,r=null,i=!1;r=t.subscribe(me(n,void 0,void 0,o=>{s=Zn(e(o,ji(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function jL(e,t,n,r,i){return(s,o)=>{let a=n,u=t,l=0;s.subscribe(me(o,y=>{const C=l++;u=a?e(u,y,C):(a=!0,y),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function rE(e,t){return ve(jL(e,t,arguments.length>=2,!0))}function Yp(e){return e<=0?()=>qr:ve((t,n)=>{let r=[];t.subscribe(me(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function iE(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Bi((i,s)=>e(i,s,r)):te,Yp(1),n?gc(t):nE(()=>new pc))}function Qp(e){return ve((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Ze="primary",tu=Symbol("RouteTitle");class HL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Co(e){return new HL(e)}function GL(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Hr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sE(e[i],t[i]))return!1;return!0}function sE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function oE(e){return Array.prototype.concat.apply([],e)}function aE(e){return e.length>0?e[e.length-1]:null}function Xt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function $i(e){return kh(e)?e:Oa(e)?Lt(Promise.resolve(e)):Me(e)}const KL={exact:function cE(e,t,n){if(!ys(e.segments,t.segments)||!mc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!cE(e.children[r],t.children[r],n))return!1;return!0},subset:dE},uE={exact:function YL(e,t){return Hr(e,t)},subset:function QL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>sE(e[n],t[n]))},ignored:()=>!0};function lE(e,t,n){return KL[n.paths](e.root,t.root,n.matrixParams)&&uE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function dE(e,t,n){return fE(e,t,t.segments,n)}function fE(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!ys(i,n)||t.hasChildren()||!mc(i,n,r))}if(e.segments.length===n.length){if(!ys(e.segments,n)||!mc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!dE(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(ys(e.segments,i)&&mc(e.segments,i,r)&&e.children[Ze])&&fE(e.children[Ze],t,s,r)}}function mc(e,t,n){return t.every((r,i)=>uE[n](e[i].parameters,r.parameters))}class ms{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return JL.serialize(this)}}class Xe{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yc(this)}}class nu{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Co(this.parameters)),this._parameterMap}toString(){return mE(this)}}function ys(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let hE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:function(){return new Xp},providedIn:"root"}),e})();class Xp{parse(t){const n=new aV(t);return new ms(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ru(t.root,!0)}`,r=function tV(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${vc(n)}=${vc(i)}`).join("&"):`${vc(n)}=${vc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function qL(e){return encodeURI(e)}(t.fragment)}`:""}`}}const JL=new Xp;function yc(e){return e.segments.map(t=>mE(t)).join("/")}function ru(e,t){if(!e.hasChildren())return yc(e);if(t){const n=e.children[Ze]?ru(e.children[Ze],!1):"",r=[];return Xt(e.children,(i,s)=>{s!==Ze&&r.push(`${s}:${ru(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function XL(e,t){let n=[];return Xt(e.children,(r,i)=>{i===Ze&&(n=n.concat(t(r,i)))}),Xt(e.children,(r,i)=>{i!==Ze&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Ze?[ru(e.children[Ze],!1)]:[`${i}:${ru(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ze]?`${yc(e)}/${n[0]}`:`${yc(e)}/(${n.join("//")})`}}function pE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vc(e){return pE(e).replace(/%3B/gi,";")}function Jp(e){return pE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _c(e){return decodeURIComponent(e)}function gE(e){return _c(e.replace(/\+/g,"%20"))}function mE(e){return`${Jp(e.path)}${function eV(e){return Object.keys(e).map(t=>`;${Jp(t)}=${Jp(e[t])}`).join("")}(e.parameters)}`}const nV=/^[^\/()?;=#]+/;function wc(e){const t=e.match(nV);return t?t[0]:""}const rV=/^[^=?&#]+/,sV=/^[^&#]+/;class aV{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ze]=new Xe(t,n)),r}parseSegment(){const t=wc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(t),new nu(_c(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=wc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=wc(this.remaining);i&&(r=i,this.capture(r))}t[_c(n)]=_c(r)}parseQueryParam(t){const n=function iV(e){const t=e.match(rV);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function oV(e){const t=e.match(sV);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=gE(n),s=gE(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ue(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ze);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ze]:new Xe([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ue(4011,!1)}}function qp(e){return e.segments.length>0?new Xe([],{[Ze]:e}):e}function bc(e){const t={};for(const r of Object.keys(e.children)){const s=bc(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function uV(e){if(1===e.numberOfChildren&&e.children[Ze]){const t=e.children[Ze];return new Xe(e.segments.concat(t.segments),t.children)}return e}(new Xe(e.segments,t))}function vs(e){return e instanceof ms}function dV(e,t,n,r,i){if(0===n.length)return xo(t.root,t.root,t.root,r,i);const s=function _E(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new vE(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Xt(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new vE(n,t,r)}(n);return s.toRoot()?xo(t.root,t.root,new Xe([],{}),r,i):function o(u){const l=function hV(e,t,n,r){if(e.isAbsolute)return new So(t.root,!0,0);if(-1===r)return new So(n,n===t.root,0);return function wE(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ue(4005,!1);i=r.segments.length}return new So(r,!1,i-s)}(n,r+(iu(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,u),y=l.processChildren?ou(l.segmentGroup,l.index,s.commands):tg(l.segmentGroup,l.index,s.commands);return xo(t.root,l.segmentGroup,y,r,i)}(e.snapshot?._lastPathIndex)}function iu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function su(e){return"object"==typeof e&&null!=e&&e.outlets}function xo(e,t,n,r,i){let o,s={};r&&Xt(r,(u,l)=>{s[l]=Array.isArray(u)?u.map(y=>`${y}`):`${u}`}),o=e===t?n:yE(e,t,n);const a=qp(bc(o));return new ms(a,s,i)}function yE(e,t,n){const r={};return Xt(e.children,(i,s)=>{r[s]=i===t?n:yE(i,t,n)}),new Xe(e.segments,r)}class vE{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&iu(r[0]))throw new ue(4003,!1);const i=r.find(su);if(i&&i!==aE(r))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class So{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function tg(e,t,n){if(e||(e=new Xe([],{})),0===e.segments.length&&e.hasChildren())return ou(e,t,n);const r=function gV(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(su(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!DE(u,l,o))return s;r+=2}else{if(!DE(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Xe(e.segments.slice(0,r.pathIndex),{});return s.children[Ze]=new Xe(e.segments.slice(r.pathIndex),e.children),ou(s,0,i)}return r.match&&0===i.length?new Xe(e.segments,{}):r.match&&!e.hasChildren()?ng(e,t,n):r.match?ou(e,0,i):ng(e,t,n)}function ou(e,t,n){if(0===n.length)return new Xe(e.segments,{});{const r=function pV(e){return su(e[0])?e[0].outlets:{[Ze]:e}}(n),i={};return Xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tg(e.children[o],t,s))}),Xt(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Xe(e.segments,i)}}function ng(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(su(s)){const u=mV(s.outlets);return new Xe(r,u)}if(0===i&&iu(n[0])){r.push(new nu(e.segments[t].path,bE(n[0]))),i++;continue}const o=su(s)?s.outlets[Ze]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&iu(a)?(r.push(new nu(o,bE(a))),i+=2):(r.push(new nu(o,{})),i++)}return new Xe(r,{})}function mV(e){const t={};return Xt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=ng(new Xe([],{}),0,n))}),t}function bE(e){const t={};return Xt(e,(n,r)=>t[r]=`${n}`),t}function DE(e,t,n){return e==n.path&&Hr(t,n.parameters)}class yi{constructor(t,n){this.id=t,this.url=n}}class rg extends yi{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _s extends yi{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dc extends yi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class EE extends yi{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yV extends yi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vV extends yi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _V extends yi{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wV extends yi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bV extends yi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DV{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EV{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CV{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xV{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SV{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MV{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CE{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=ig(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=ig(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=sg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return sg(t,this._root).map(n=>n.value)}}function ig(e,t){if(e===t.value)return t;for(const n of t.children){const r=ig(e,n);if(r)return r}return null}function sg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=sg(e,n);if(r.length)return r.unshift(t),r}return[]}class vi{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Mo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class SE extends xE{constructor(t,n){super(t),this.snapshot=n,og(this,t)}toString(){return this.snapshot.toString()}}function ME(e,t){const n=function TV(e,t){const o=new Ec([],{},{},"",{},Ze,t,null,e.root,-1,{});return new TE("",new vi(o,[]))}(e,t),r=new sr([new nu("",{})]),i=new sr({}),s=new sr({}),o=new sr({}),a=new sr(""),u=new ws(r,i,o,a,s,Ze,t,n.root);return u.snapshot=n.root,new SE(new vi(u,[]),n)}class ws{constructor(t,n,r,i,s,o,a,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Se(l=>l[tu]))??Me(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Se(t=>Co(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Se(t=>Co(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AE(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function IV(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ec{constructor(t,n,r,i,s,o,a,u,l,y,C,M){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[tu],this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=y,this._correctedLastPathIndex=M??y,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TE extends xE{constructor(t,n){super(n),this.url=t,og(this,n)}toString(){return IE(this._root)}}function og(e,t){t.value._routerState=e,t.children.forEach(n=>og(e,n))}function IE(e){const t=e.children.length>0?` { ${e.children.map(IE).join(", ")} } `:"";return`${e.value}${t}`}function ag(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Hr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Hr(t.params,n.params)||e.params.next(n.params),function zL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Hr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Hr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ug(e,t){const n=Hr(e.params,t.params)&&function ZL(e,t){return ys(e,t)&&e.every((n,r)=>Hr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||ug(e.parent,t.parent))}function au(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function OV(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return au(e,r,i);return au(e,r)})}(e,t,n);return new vi(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>au(e,a)),o}}const r=function PV(e){return new ws(new sr(e.url),new sr(e.params),new sr(e.queryParams),new sr(e.fragment),new sr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>au(e,s));return new vi(r,i)}}const lg="ngNavigationCancelingError";function NE(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=vs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=OE(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function OE(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[lg]=!0,r.cancellationCode=t,n&&(r.url=n),r}function PE(e){return FE(e)&&vs(e.url)}function FE(e){return e&&e[lg]}class FV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new uu,this.attachRef=null}}let uu=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new FV,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Cc=!1;let RE=(()=>{class e{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.name=i||Ze,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,Cc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,Cc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,Cc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ue(4013,Cc);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new RV(n,a,i.injector);if(r&&function kV(e){return!!e.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(o);this.activated=i.createComponent(l,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(ce(uu),ce(Er),function ua(e){return function GA(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Gy(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Gt(),e)}("name"),ce(Wa),ce(Ni))},e.\u0275dir=Fe({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),e})();class RV{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ws?this.route:t===uu?this.childContexts:this.parent.get(t,n)}}let cg=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Fs({type:e,selectors:[["ng-component"]],standalone:!0,features:[Hw],decls:1,vars:0,template:function(n,r){1&n&&On(0,"router-outlet")},dependencies:[RE],encapsulation:2}),e})();function kE(e,t){return e.providers&&!e._injector&&(e._injector=jl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function fg(e){const t=e.children&&e.children.map(fg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=cg),n}function or(e){return e.outlet||Ze}function LE(e,t){const n=e.filter(r=>or(r)===t);return n.push(...e.filter(r=>or(r)!==t)),n}function lu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $V{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ag(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Mo(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Mo(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Mo(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Mo(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new MV(s.value.snapshot))}),t.children.length&&this.forwardEvent(new xV(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(ag(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ag(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=lu(i.snapshot),u=a?.get(xa)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class VE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xc{constructor(t,n){this.component=t,this.route=n}}function UV(e,t,n){const r=e._root;return cu(r,t?t._root:null,n,[r.value])}function Ao(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function YM(e){return null!==Hu(e)}(e)?t.get(e):e:r}function cu(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Mo(t);return e.children.forEach(o=>{(function GV(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function zV(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ys(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ys(e.url,t.url)||!Hr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ug(e,t)||!Hr(e.queryParams,t.queryParams);default:return!ug(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new VE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cu(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xc(a.outlet.component,o))}else o&&du(t,a,i),i.canActivateChecks.push(new VE(r)),cu(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Xt(s,(o,a)=>du(o,n.getContext(a),i)),i}function du(e,t,n){const r=Mo(e),i=e.value;Xt(r,(s,o)=>{du(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new xc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function fu(e){return"function"==typeof e}function hg(e){return e instanceof pc||"EmptyError"===e?.name}const Sc=Symbol("INITIAL_VALUE");function To(){return Ur(e=>JD(e.map(t=>t.pipe(eu(1),function VL(...e){const t=Xo(e);return ve((n,r)=>{(t?Wp(e,n,t):Wp(e,n)).subscribe(r)})}(Sc)))).pipe(Se(t=>{for(const n of t)if(!0!==n){if(n===Sc)return Sc;if(!1===n||n instanceof ms)return n}return!0}),Bi(t=>t!==Sc),eu(1)))}function BE(e){return function se(...e){return de(e)}(ln(t=>{if(vs(t))throw NE(0,t)}),Se(t=>!0===t))}const pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jE(e,t,n,r,i){const s=gg(e,t,n);return s.matched?function u3(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Me(i.map(o=>{const a=Ao(o,e);return $i(function XV(e){return e&&fu(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(To(),BE()):Me(!0)}(r=kE(t,r),t,n).pipe(Se(o=>!0===o?s:{...pg})):Me(s)}function gg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...pg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||GL)(n,e,t);if(!i)return{...pg};const s={};Xt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mc(e,t,n,r,i="corrected"){if(n.length>0&&function f3(e,t,n){return n.some(r=>Ac(e,t,r)&&or(r)!==Ze)}(e,n,r)){const o=new Xe(t,function c3(e,t,n,r){const i={};i[Ze]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&or(s)!==Ze){const o=new Xe([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[or(s)]=o}return i}(e,t,r,new Xe(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function h3(e,t,n){return n.some(r=>Ac(e,t,r))}(e,n,r)){const o=new Xe(e.segments,function l3(e,t,n,r,i,s){const o={};for(const a of r)if(Ac(e,n,a)&&!i[or(a)]){const u=new Xe([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[or(a)]=u}return{...i,...o}}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const s=new Xe(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Ac(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function $E(e,t,n,r){return!!(or(e)===r||r!==Ze&&Ac(t,n,e))&&("**"===e.path||gg(t,e,n).matched)}function UE(e,t,n){return 0===t.length&&!e.children[n]}const Tc=!1;class Ic{constructor(t){this.segmentGroup=t||null}}class HE{constructor(t){this.urlTree=t}}function hu(e){return qa(new Ic(e))}function GE(e){return qa(new HE(e))}class y3{constructor(t,n,r,i,s){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=Mc(this.urlTree.root,[],[],this.config).segmentGroup,n=new Xe(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Ze).pipe(Se(s=>this.createUrlTree(bc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ji(s=>{if(s instanceof HE)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ic?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ze).pipe(Se(i=>this.createUrlTree(bc(i),t.queryParams,t.fragment))).pipe(ji(i=>{throw i instanceof Ic?this.noMatchError(i):i}))}noMatchError(t){return new ue(4002,Tc)}createUrlTree(t,n,r){const i=qp(t);return new ms(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Se(s=>new Xe([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Lt(i).pipe(gs(s=>{const o=r.children[s],a=LE(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(Se(u=>({segment:u,outlet:s})))}),rE((s,o)=>(s[o.outlet]=o.segment,s),{}),iE())}expandSegment(t,n,r,i,s,o){return Lt(r).pipe(gs(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,s,o).pipe(ji(l=>{if(l instanceof Ic)return Me(null);throw l}))),mi(a=>!!a),ji((a,u)=>{if(hg(a))return UE(n,i,s)?Me(new Xe([],{})):hu(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,s,o,a){return $E(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o):hu(n):hu(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GE(s):this.lineralizeSegments(r,s).pipe(Qt(o=>{const a=new Xe(o,{});return this.expandSegment(t,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:y}=gg(n,i,s);if(!a)return hu(n);const C=this.applyRedirectCommands(u,i.redirectTo,y);return i.redirectTo.startsWith("/")?GE(C):this.lineralizeSegments(i,C).pipe(Qt(M=>this.expandSegment(t,n,r,M.concat(l),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){return"**"===r.path?(t=kE(r,t),r.loadChildren?(r._loadedRoutes?Me({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Xe(i,{})))):Me(new Xe(i,{}))):jE(n,r,i,t).pipe(Ur(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(t=r._injector??t,r,i).pipe(Qt(y=>{const C=y.injector??t,M=y.routes,{segmentGroup:I,slicedSegments:O}=Mc(n,a,u,M),k=new Xe(I.segments,I.children);if(0===O.length&&k.hasChildren())return this.expandChildren(C,M,k).pipe(Se(Q=>new Xe(a,Q)));if(0===M.length&&0===O.length)return Me(new Xe(a,{}));const j=or(r)===s;return this.expandSegment(C,k,M,O,j?Ze:s,!0).pipe(Se(ee=>new Xe(a.concat(ee.segments),ee.children)))})):hu(n)))}getChildConfig(t,n,r){return n.children?Me({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Me({routes:n._loadedRoutes,injector:n._loadedInjector}):function a3(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Me(!0):Me(i.map(o=>{const a=Ao(o,e);return $i(function KV(e){return e&&fu(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(To(),BE())}(t,n,r).pipe(Qt(i=>i?this.configLoader.loadChildren(t,n).pipe(ln(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function g3(e){return qa(OE(Tc,3))}())):Me({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Me(r);if(i.numberOfChildren>1||!i.children[Ze])return qa(new ue(4e3,Tc));i=i.children[Ze]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new ms(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Xt(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Xt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(t,a,r,i)}),new Xe(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new ue(4001,Tc);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class _3{}class D3{constructor(t,n,r,i,s,o,a,u){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const t=Mc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ze).pipe(Se(n=>{if(null===n)return null;const r=new Ec([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ze,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,n),s=new TE(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,r=AE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return Lt(Object.keys(r.children)).pipe(gs(i=>{const s=r.children[i],o=LE(n,i);return this.processSegmentGroup(t,o,s,i)}),rE((i,s)=>i&&s?(i.push(...s),i):null),function $L(e,t=!1){return ve((n,r)=>{let i=0;n.subscribe(me(r,s=>{const o=e(s,i++);(o||t)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),gc(null),iE(),Se(i=>{if(null===i)return null;const s=zE(i);return function E3(e){e.sort((t,n)=>t.value.outlet===Ze?-1:n.value.outlet===Ze?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,r,i,s){return Lt(n).pipe(gs(o=>this.processSegmentAgainstRoute(o._injector??t,o,r,i,s)),mi(o=>!!o),ji(o=>{if(hg(o))return UE(r,i,s)?Me([]):Me(null);throw o}))}processSegmentAgainstRoute(t,n,r,i,s){if(n.redirectTo||!$E(n,r,i,s))return Me(null);let o;if("**"===n.path){const a=i.length>0?aE(i).parameters:{},u=KE(r)+i.length;o=Me({snapshot:new Ec(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QE(n),or(n),n.component??n._loadedComponent??null,n,WE(r),u,ZE(n),u),consumedSegments:[],remainingSegments:[]})}else o=jE(r,n,i,t).pipe(Se(({matched:a,consumedSegments:u,remainingSegments:l,parameters:y})=>{if(!a)return null;const C=KE(r)+u.length;return{snapshot:new Ec(u,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QE(n),or(n),n.component??n._loadedComponent??null,n,WE(r),C,ZE(n),C),consumedSegments:u,remainingSegments:l}}));return o.pipe(Ur(a=>{if(null===a)return Me(null);const{snapshot:u,consumedSegments:l,remainingSegments:y}=a;t=n._injector??t;const C=n._loadedInjector??t,M=function C3(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:I,slicedSegments:O}=Mc(r,l,y,M.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===O.length&&I.hasChildren())return this.processChildren(C,M,I).pipe(Se(j=>null===j?null:[new vi(u,j)]));if(0===M.length&&0===O.length)return Me([new vi(u,[])]);const k=or(n)===s;return this.processSegment(C,M,I,O,k?Ze:s).pipe(Se(j=>null===j?null:[new vi(u,j)]))}))}}function x3(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zE(e){const t=[],n=new Set;for(const r of e){if(!x3(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=zE(r.children);t.push(new vi(r.value,i))}return t.filter(r=>!n.has(r))}function WE(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function KE(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function QE(e){return e.data||{}}function ZE(e){return e.resolve||{}}function XE(e){return"string"==typeof e.title||null===e.title}function mg(e){return Ur(t=>{const n=e(t);return n?Lt(n).pipe(Se(()=>t)):Me(t)})}let JE=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ze);return r}getResolvedTitleForRoute(n){return n.data[tu]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:function(){return Ft(qE)},providedIn:"root"}),e})(),qE=(()=>{class e extends JE{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(Ee(KD))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class P3{}class R3 extends class F3{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Oc=new Te("",{providedIn:"root",factory:()=>({})}),yg=new Te("ROUTES");let vg=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Me(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=$i(n.loadComponent()).pipe(ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Qp(()=>{this.componentLoaders.delete(n)})),i=new tE(r,()=>new re).pipe(Kp());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Me({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l,y=!1;Array.isArray(a)?l=a:(u=a.create(n).injector,l=oE(u.get(yg,[],Pe.Self|Pe.Optional)));return{routes:l.map(fg),injector:u}}),Qp(()=>{this.childrenLoaders.delete(r)})),o=new tE(s,()=>new re).pipe(Kp());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return $i(n()).pipe(Qt(r=>r instanceof $w||Array.isArray(r)?Me(r):Lt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)(Ee(er),Ee(op))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class L3{}class V3{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function B3(e){throw e}function j3(e,t,n){return t.parse("/")}const $3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function tC(){const e=Ft(hE),t=Ft(uu),n=Ft(bp),r=Ft(er),i=Ft(op),s=Ft(yg,{optional:!0})??[],o=Ft(Oc,{optional:!0})??{},a=Ft(qE),u=Ft(JE,{optional:!0}),l=Ft(L3,{optional:!0}),y=Ft(P3,{optional:!0}),C=new Jt(null,e,t,n,r,i,oE(s));return l&&(C.urlHandlingStrategy=l),y&&(C.routeReuseStrategy=y),C.titleStrategy=u??a,function H3(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(o,C),C}let Jt=(()=>{class e{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new re,this.errorHandler=B3,this.malformedUriErrorHandler=j3,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Me(void 0),this.urlHandlingStrategy=new V3,this.routeReuseStrategy=new R3,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(vg),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new EV(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new DV(M)),this.ngModule=o.get(fs),this.console=o.get(CR);const C=o.get(Tt);this.isNgZoneEnabled=C instanceof Tt&&Tt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function WL(){return new ms(new Xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ME(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Bi(i=>0!==i.id),Se(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ur(i=>{let s=!1,o=!1;return Me(i).pipe(ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ur(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return nC(a.source)&&(this.browserUrlTree=a.extractedUrl),Me(a).pipe(Ur(C=>{const M=this.transitions.getValue();return r.next(new rg(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions.getValue()?qr:Promise.resolve(C)}),function v3(e,t,n,r){return Ur(i=>function m3(e,t,n,r,i){return new y3(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(Se(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ln(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function M3(e,t,n,r,i,s){return Qt(o=>function b3(e,t,n,r,i,s,o="emptyOnly",a="legacy"){return new D3(e,t,n,r,i,o,a,s).recognize().pipe(Ur(u=>null===u?function w3(e){return new ie(t=>t.error(e))}(new _3):Me(u)))}(e,t,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(Se(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ln(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(I,C)}this.browserUrlTree=C.urlAfterRedirects}const M=new yV(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);r.next(M)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:I,source:O,restoredState:k,extras:j}=a,Z=new rg(M,this.serializeUrl(I),O,k);r.next(Z);const ee=ME(I,this.rootComponentType).snapshot;return Me(i={...a,targetSnapshot:ee,urlAfterRedirects:I,extras:{...j,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),qr}),ln(a=>{const u=new vV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Se(a=>i={...a,guards:UV(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function qV(e,t){return Qt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Me({...n,guardsResult:!0}):function e3(e,t,n,r){return Lt(e).pipe(Qt(i=>function o3(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Me(s.map(a=>{const u=lu(t)??i,l=Ao(a,u);return $i(function ZV(e){return e&&fu(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):u.runInContext(()=>l(e,t,n,r))).pipe(mi())})).pipe(To()):Me(!0)}(i.component,i.route,n,t,r)),mi(i=>!0!==i,!0))}(o,r,i,e).pipe(Qt(a=>a&&function WV(e){return"boolean"==typeof e}(a)?function t3(e,t,n,r){return Lt(t).pipe(gs(i=>Wp(function r3(e,t){return null!==e&&t&&t(new CV(e)),Me(!0)}(i.route.parent,r),function n3(e,t){return null!==e&&t&&t(new SV(e)),Me(!0)}(i.route,r),function s3(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function HV(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>eE(()=>Me(o.guards.map(u=>{const l=lu(o.node)??n,y=Ao(u,l);return $i(function QV(e){return e&&fu(e.canActivateChild)}(y)?y.canActivateChild(r,e):l.runInContext(()=>y(r,e))).pipe(mi())})).pipe(To())));return Me(s).pipe(To())}(e,i.path,n),function i3(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Me(!0);const i=r.map(s=>eE(()=>{const o=lu(t)??n,a=Ao(s,o);return $i(function YV(e){return e&&fu(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(mi())}));return Me(i).pipe(To())}(e,i.route,n))),mi(i=>!0!==i,!0))}(r,s,e,t):Me(a)),Se(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ln(a=>{if(i.guardsResult=a.guardsResult,vs(a.guardsResult))throw NE(0,a.guardsResult);const u=new _V(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Bi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),mg(a=>{if(a.guards.canActivateChecks.length)return Me(a).pipe(ln(u=>{const l=new wV(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Ur(u=>{let l=!1;return Me(u).pipe(function A3(e,t){return Qt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Me(n);let s=0;return Lt(i).pipe(gs(o=>function T3(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!XE(i)&&(s[tu]=i.title),function I3(e,t,n,r){const i=function N3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Me({});const s={};return Lt(i).pipe(Qt(o=>function O3(e,t,n,r){const i=lu(t)??r,s=Ao(e,i);return $i(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(mi(),ln(a=>{s[o]=a}))),Yp(1),function UL(e){return Se(()=>e)}(s),ji(o=>hg(o)?qr:qa(o)))}(s,e,t,r).pipe(Se(o=>(e._resolvedData=o,e.data=AE(e,n).resolve,i&&XE(i)&&(e.data[tu]=i.title),null)))}(o.route,r,e,t)),ln(()=>s++),Yp(1),Qt(o=>s===i.length?Me(n):qr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ln({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),ln(u=>{const l=new bV(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),mg(a=>{const u=l=>{const y=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(l.routeConfig).pipe(ln(C=>{l.component=C}),Se(()=>{})));for(const C of l.children)y.push(...u(C));return y};return JD(u(a.targetSnapshot.root)).pipe(gc(),eu(1))}),mg(()=>this.afterPreactivation()),Se(a=>{const u=function NV(e,t,n){const r=au(e,t._root,n?n._root:void 0);return new SE(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>Se(r=>(new $V(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ln({next(){s=!0},complete(){s=!0}}),Qp(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ji(a=>{if(o=!0,FE(a)){PE(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Dc(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),PE(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nC(i.source)};this.scheduleNavigation(l,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new EE(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return qr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(fg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,y=u?this.currentUrlTree.fragment:o;let C=null;switch(a){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),dV(l,this.currentUrlTree,n,C,y??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function G3(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new ue(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...$3}:!1===r?{...U3}:r,vs(n))return lE(this.currentUrlTree,n,i);const s=this.parseUrl(n);return lE(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new _s(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((M,I)=>{a=M,u=I});const y=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),C=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:y,targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(M=>Promise.reject(M))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Dc(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){ch()},e.\u0275prov=Oe({token:e,factory:function(){return tC()},providedIn:"root"}),e})();function nC(e){return"imperative"!==e}class rC{}let K3=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(n=>n instanceof _s),gs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=jl(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Lt(i).pipe(Os())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Me(null);const s=i.pipe(Qt(o=>null===o?Me(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Lt([s,this.loader.loadComponent(r)]).pipe(Os()):s})}}return e.\u0275fac=function(n){return new(n||e)(Ee(Jt),Ee(op),Ee(Ni),Ee(rC),Ee(vg))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bg=new Te("");let iC=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof rg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _s&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof CE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new CE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){ch()},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();function Io(e,t){return{\u0275kind:e,\u0275providers:t}}function Dg(e){return[{provide:yg,multi:!0,useValue:e}]}function oC(){const e=Ft(er);return t=>{const n=e.get(za);if(t!==n.components[0])return;const r=e.get(Jt),i=e.get(aC);1===e.get(Eg)&&r.initialNavigation(),e.get(uC,null,Pe.Optional)?.setUpPreloading(),e.get(bg,null,Pe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const aC=new Te("",{factory:()=>new re}),Eg=new Te("",{providedIn:"root",factory:()=>1});const uC=new Te("");function X3(e){return Io(0,[{provide:uC,useExisting:K3},{provide:rC,useExisting:e}])}const lC=new Te("ROUTER_FORROOT_GUARD"),J3=[bp,{provide:hE,useClass:Xp},{provide:Jt,useFactory:tC},uu,{provide:ws,useFactory:function sC(e){return e.routerState.root},deps:[Jt]},vg];function q3(){return new Vb("Router",Jt)}let cC=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[J3,[],Dg(n),{provide:lC,useFactory:rB,deps:[[Jt,new ga,new ma]]},{provide:Oc,useValue:r||{}},r?.useHash?{provide:ps,useClass:fk}:{provide:ps,useClass:lD},{provide:bg,useFactory:()=>{const e=Ft(Jt),t=Ft(N2),n=Ft(Oc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new iC(e,t,n)}},r?.preloadingStrategy?X3(r.preloadingStrategy).\u0275providers:[],{provide:Vb,multi:!0,useFactory:q3},r?.initialNavigation?iB(r):[],[{provide:dC,useFactory:oC},{provide:Ib,multi:!0,useExisting:dC}]]}}static forChild(n){return{ngModule:e,providers:[Dg(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Ee(lC,8))},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({imports:[cg]}),e})();function rB(e){return"guarded"}function iB(e){return["disabled"===e.initialNavigation?Io(3,[{provide:Ha,multi:!0,useFactory:()=>{const t=Ft(Jt);return()=>{t.setUpLocationChangeListener()}}},{provide:Eg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Io(2,[{provide:Eg,useValue:0},{provide:Ha,multi:!0,deps:[er],useFactory:t=>{const n=t.get(ck,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const o=t.get(Jt),a=t.get(aC);(function i(s){t.get(Jt).events.pipe(Bi(a=>a instanceof _s||a instanceof Dc||a instanceof EE),Se(a=>a instanceof _s||a instanceof Dc&&(0===a.code||1===a.code)&&null),Bi(a=>null!==a),eu(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?Me(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const dC=new Te(""),oB=[];let aB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({imports:[cC.forRoot(oB),cC]}),e})();function fC(e){this._context=e}function No(e){return new fC(e)}function kc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Lc(e){this._context=e}function hC(e){return new Lc(e)}function pC(e,t){this._basis=new Lc(e),this._beta=t}fC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kc(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var u,r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1;++a<=n;)this._basis.point(this._beta*e[a]+(1-this._beta)*(r+(u=a/n)*s),this._beta*t[a]+(1-this._beta)*(i+u*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Cg=function e(t){function n(r){return 1===t?new Lc(r):new pC(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Vc(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function xg(e,t){this._context=e,this._k=(1-t)/6}xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Vc(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gC=function e(t){function n(r){return new xg(r,t)}return n.tension=function(r){return e(+r)},n}(0);var mC=Math.abs,cn=Math.atan2,bs=Math.cos,uB=Math.max,Sg=Math.min,Gr=Math.sin,Oo=Math.sqrt,dn=1e-12,Ui=Math.PI,Bc=Ui/2,Hi=2*Ui;function lB(e){return e>1?0:e<-1?Ui:Math.acos(e)}function yC(e){return e>=1?Bc:e<=-1?-Bc:Math.asin(e)}function Mg(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>dn){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>dn){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,y=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*l+e._x1*e._l23_2a-t*e._l12_2a)/y,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/y}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function vC(e,t){this._context=e,this._alpha=t}vC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Mg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _C=function e(t){function n(r){return t?new vC(r,t):new xg(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function wC(e){return e<0?-1:1}function bC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(wC(s)+wC(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function DC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ag(e,t,n){var r=e._x0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,e._y0+a*t,s-a,o-a*n,s,o)}function jc(e){this._context=e}function EC(e){this._context=new CC(e)}function CC(e){this._context=e}function xC(e){return new jc(e)}function SC(e){return new EC(e)}function MC(e){this._context=e}function AC(e){var t,r,n=e.length-1,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s[t]-=r=i[t]/s[t-1],o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function TC(e){return new MC(e)}function $c(e,t){this._context=e,this._t=t}function IC(e){return new $c(e,.5)}function NC(e){return new $c(e,0)}function OC(e){return new $c(e,1)}jc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ag(this,this._t0,DC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ag(this,DC(this,n=bC(this,e,t)),n);break;default:Ag(this,this._t0,n=bC(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(EC.prototype=Object.create(jc.prototype)).point=function(e,t){jc.prototype.point.call(this,t,e)},CC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}},MC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=AC(e),i=AC(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},$c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Tg=Math.PI,Ig=2*Tg,Ds=1e-6,cB=Ig-Ds;function Ng(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function PC(){return new Ng}Ng.prototype=PC.prototype={constructor:Ng,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,n,r,i){var s=this._x1,o=this._y1,a=(n=+n)-(e=+e),u=(r=+r)-(t=+t),l=s-e,y=o-t,C=l*l+y*y;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(C>Ds)if(Math.abs(y*a-u*l)>Ds&&i){var M=n-s,I=r-o,O=a*a+u*u,k=M*M+I*I,j=Math.sqrt(O),Z=Math.sqrt(C),ee=i*Math.tan((Tg-Math.acos((O+C-k)/(2*j*Z)))/2),Q=ee/Z,ae=ee/j;Math.abs(Q-1)>Ds&&(this._+="L"+(e+Q*l)+","+(t+Q*y)),this._+="A"+i+","+i+",0,0,"+ +(y*M>l*I)+","+(this._x1=e+ae*a)+","+(this._y1=t+ae*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,s){e=+e,t=+t,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),u=e+o,l=t+a,y=1^s,C=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Ds||Math.abs(this._y1-l)>Ds)&&(this._+="L"+u+","+l),n&&(C<0&&(C=C%Ig+Ig),C>cB?this._+="A"+n+","+n+",0,1,"+y+","+(e-o)+","+(t-a)+"A"+n+","+n+",0,1,"+y+","+(this._x1=u)+","+(this._y1=l):C>Ds&&(this._+="A"+n+","+n+",0,"+ +(C>=Tg)+","+y+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const pu=PC;function Je(e){return function(){return e}}function dB(e){return e.innerRadius}function fB(e){return e.outerRadius}function hB(e){return e.startAngle}function pB(e){return e.endAngle}function gB(e){return e&&e.padAngle}function mB(e,t,n,r,i,s,o,a){var u=n-e,l=r-t,y=o-i,C=a-s,M=C*u-y*l;if(!(M*M<dn))return[e+(M=(y*(t-s)-C*(e-i))/M)*u,t+M*l]}function Uc(e,t,n,r,i,s,o){var a=e-n,u=t-r,l=(o?s:-s)/Oo(a*a+u*u),y=l*u,C=-l*a,M=e+y,I=t+C,O=n+y,k=r+C,j=(M+O)/2,Z=(I+k)/2,ee=O-M,Q=k-I,ae=ee*ee+Q*Q,ye=i-s,De=M*k-O*I,Ne=(Q<0?-1:1)*Oo(uB(0,ye*ye*ae-De*De)),it=(De*Q-ee*Ne)/ae,Be=(-De*ee-Q*Ne)/ae,st=(De*Q+ee*Ne)/ae,wt=(-De*ee+Q*Ne)/ae,Ce=it-j,Ye=Be-Z,Fn=st-j,Rn=wt-Z;return Ce*Ce+Ye*Ye>Fn*Fn+Rn*Rn&&(it=st,Be=wt),{cx:it,cy:Be,x01:-y,y01:-C,x11:it*(i/ye-1),y11:Be*(i/ye-1)}}function yB(){var e=dB,t=fB,n=Je(0),r=null,i=hB,s=pB,o=gB,a=null;function u(){var l,y,C=+e.apply(this,arguments),M=+t.apply(this,arguments),I=i.apply(this,arguments)-Bc,O=s.apply(this,arguments)-Bc,k=mC(O-I),j=O>I;if(a||(a=l=pu()),M<C&&(y=M,M=C,C=y),M>dn)if(k>Hi-dn)a.moveTo(M*bs(I),M*Gr(I)),a.arc(0,0,M,I,O,!j),C>dn&&(a.moveTo(C*bs(O),C*Gr(O)),a.arc(0,0,C,O,I,j));else{var Ce,Ye,Z=I,ee=O,Q=I,ae=O,ye=k,De=k,Ne=o.apply(this,arguments)/2,it=Ne>dn&&(r?+r.apply(this,arguments):Oo(C*C+M*M)),Be=Sg(mC(M-C)/2,+n.apply(this,arguments)),st=Be,wt=Be;if(it>dn){var Fn=yC(it/C*Gr(Ne)),Rn=yC(it/M*Gr(Ne));(ye-=2*Fn)>dn?(Q+=Fn*=j?1:-1,ae-=Fn):(ye=0,Q=ae=(I+O)/2),(De-=2*Rn)>dn?(Z+=Rn*=j?1:-1,ee-=Rn):(De=0,Z=ee=(I+O)/2)}var we=M*bs(Z),xe=M*Gr(Z),Ae=C*bs(ae),qe=C*Gr(ae);if(Be>dn){var ut,Nt=M*bs(ee),xn=M*Gr(ee),qt=C*bs(Q),fr=C*Gr(Q);if(k<Ui&&(ut=mB(we,xe,qt,fr,Nt,xn,Ae,qe))){var Ko=we-ut[0],ju=xe-ut[1],Ut=Nt-ut[0],Ir=xn-ut[1],Sn=1/Gr(lB((Ko*Ut+ju*Ir)/(Oo(Ko*Ko+ju*ju)*Oo(Ut*Ut+Ir*Ir)))/2),Ns=Oo(ut[0]*ut[0]+ut[1]*ut[1]);st=Sg(Be,(C-Ns)/(Sn-1)),wt=Sg(Be,(M-Ns)/(Sn+1))}}De>dn?wt>dn?(Ce=Uc(qt,fr,we,xe,M,wt,j),Ye=Uc(Nt,xn,Ae,qe,M,wt,j),a.moveTo(Ce.cx+Ce.x01,Ce.cy+Ce.y01),wt<Be?a.arc(Ce.cx,Ce.cy,wt,cn(Ce.y01,Ce.x01),cn(Ye.y01,Ye.x01),!j):(a.arc(Ce.cx,Ce.cy,wt,cn(Ce.y01,Ce.x01),cn(Ce.y11,Ce.x11),!j),a.arc(0,0,M,cn(Ce.cy+Ce.y11,Ce.cx+Ce.x11),cn(Ye.cy+Ye.y11,Ye.cx+Ye.x11),!j),a.arc(Ye.cx,Ye.cy,wt,cn(Ye.y11,Ye.x11),cn(Ye.y01,Ye.x01),!j))):(a.moveTo(we,xe),a.arc(0,0,M,Z,ee,!j)):a.moveTo(we,xe),C>dn&&ye>dn?st>dn?(Ce=Uc(Ae,qe,Nt,xn,C,-st,j),Ye=Uc(we,xe,qt,fr,C,-st,j),a.lineTo(Ce.cx+Ce.x01,Ce.cy+Ce.y01),st<Be?a.arc(Ce.cx,Ce.cy,st,cn(Ce.y01,Ce.x01),cn(Ye.y01,Ye.x01),!j):(a.arc(Ce.cx,Ce.cy,st,cn(Ce.y01,Ce.x01),cn(Ce.y11,Ce.x11),!j),a.arc(0,0,C,cn(Ce.cy+Ce.y11,Ce.cx+Ce.x11),cn(Ye.cy+Ye.y11,Ye.cx+Ye.x11),j),a.arc(Ye.cx,Ye.cy,st,cn(Ye.y11,Ye.x11),cn(Ye.y01,Ye.x01),!j))):a.arc(0,0,C,ae,Q,j):a.lineTo(Ae,qe)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return u.centroid=function(){var l=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,y=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Ui/2;return[bs(y)*l,Gr(y)*l]},u.innerRadius=function(l){return arguments.length?(e="function"==typeof l?l:Je(+l),u):e},u.outerRadius=function(l){return arguments.length?(t="function"==typeof l?l:Je(+l),u):t},u.cornerRadius=function(l){return arguments.length?(n="function"==typeof l?l:Je(+l),u):n},u.padRadius=function(l){return arguments.length?(r=null==l?null:"function"==typeof l?l:Je(+l),u):r},u.startAngle=function(l){return arguments.length?(i="function"==typeof l?l:Je(+l),u):i},u.endAngle=function(l){return arguments.length?(s="function"==typeof l?l:Je(+l),u):s},u.padAngle=function(l){return arguments.length?(o="function"==typeof l?l:Je(+l),u):o},u.context=function(l){return arguments.length?(a=l??null,u):a},u}function Og(e){return e[0]}function Pg(e){return e[1]}function Hc(){var e=Og,t=Pg,n=Je(!0),r=null,i=No,s=null;function o(a){var u,y,M,l=a.length,C=!1;for(null==r&&(s=i(M=pu())),u=0;u<=l;++u)!(u<l&&n(y=a[u],u,a))===C&&((C=!C)?s.lineStart():s.lineEnd()),C&&s.point(+e(y,u,a),+t(y,u,a));if(M)return s=null,M+""||null}return o.x=function(a){return arguments.length?(e="function"==typeof a?a:Je(+a),o):e},o.y=function(a){return arguments.length?(t="function"==typeof a?a:Je(+a),o):t},o.defined=function(a){return arguments.length?(n="function"==typeof a?a:Je(!!a),o):n},o.curve=function(a){return arguments.length?(i=a,null!=r&&(s=i(r)),o):i},o.context=function(a){return arguments.length?(null==a?r=s=null:s=i(r=a),o):r},o}function FC(){var e=Og,t=null,n=Je(0),r=Pg,i=Je(!0),s=null,o=No,a=null;function u(y){var C,M,I,k,Z,O=y.length,j=!1,ee=new Array(O),Q=new Array(O);for(null==s&&(a=o(Z=pu())),C=0;C<=O;++C){if(!(C<O&&i(k=y[C],C,y))===j)if(j=!j)M=C,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),I=C-1;I>=M;--I)a.point(ee[I],Q[I]);a.lineEnd(),a.areaEnd()}j&&(ee[C]=+e(k,C,y),Q[C]=+n(k,C,y),a.point(t?+t(k,C,y):ee[C],r?+r(k,C,y):Q[C]))}if(Z)return a=null,Z+""||null}function l(){return Hc().defined(i).curve(o).context(s)}return u.x=function(y){return arguments.length?(e="function"==typeof y?y:Je(+y),t=null,u):e},u.x0=function(y){return arguments.length?(e="function"==typeof y?y:Je(+y),u):e},u.x1=function(y){return arguments.length?(t=null==y?null:"function"==typeof y?y:Je(+y),u):t},u.y=function(y){return arguments.length?(n="function"==typeof y?y:Je(+y),r=null,u):n},u.y0=function(y){return arguments.length?(n="function"==typeof y?y:Je(+y),u):n},u.y1=function(y){return arguments.length?(r=null==y?null:"function"==typeof y?y:Je(+y),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(y){return arguments.length?(i="function"==typeof y?y:Je(!!y),u):i},u.curve=function(y){return arguments.length?(o=y,null!=s&&(a=o(s)),u):o},u.context=function(y){return arguments.length?(null==y?s=a=null:a=o(s=y),u):s},u}function vB(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function _B(e){return e}function wB(){var e=_B,t=vB,n=null,r=Je(0),i=Je(Hi),s=Je(0);function o(a){var u,y,C,Z,ae,l=a.length,M=0,I=new Array(l),O=new Array(l),k=+r.apply(this,arguments),j=Math.min(Hi,Math.max(-Hi,i.apply(this,arguments)-k)),ee=Math.min(Math.abs(j)/l,s.apply(this,arguments)),Q=ee*(j<0?-1:1);for(u=0;u<l;++u)(ae=O[I[u]=u]=+e(a[u],u,a))>0&&(M+=ae);for(null!=t?I.sort(function(ye,De){return t(O[ye],O[De])}):null!=n&&I.sort(function(ye,De){return n(a[ye],a[De])}),u=0,C=M?(j-l*Q)/M:0;u<l;++u,k=Z)O[y=I[u]]={data:a[y],index:u,value:ae=O[y],startAngle:k,endAngle:Z=k+(ae>0?ae*C:0)+Q,padAngle:ee};return O}return o.value=function(a){return arguments.length?(e="function"==typeof a?a:Je(+a),o):e},o.sortValues=function(a){return arguments.length?(t=a,n=null,o):t},o.sort=function(a){return arguments.length?(n=a,t=null,o):n},o.startAngle=function(a){return arguments.length?(r="function"==typeof a?a:Je(+a),o):r},o.endAngle=function(a){return arguments.length?(i="function"==typeof a?a:Je(+a),o):i},o.padAngle=function(a){return arguments.length?(s="function"==typeof a?a:Je(+a),o):s},o}var RC=Fg(No);function kC(e){this._curve=e}function Fg(e){function t(n){return new kC(e(n))}return t._curve=e,t}function gu(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Fg(n)):t()._curve},e}function LC(){return gu(Hc().curve(RC))}function VC(){var e=FC().curve(RC),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,s=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return gu(n())},delete e.lineX0,e.lineEndAngle=function(){return gu(r())},delete e.lineX1,e.lineInnerRadius=function(){return gu(i())},delete e.lineY0,e.lineOuterRadius=function(){return gu(s())},delete e.lineY1,e.curve=function(o){return arguments.length?t(Fg(o)):t()._curve},e}function mu(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}kC.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var Rg=Array.prototype.slice;function bB(e){return e.source}function DB(e){return e.target}function kg(e){var t=bB,n=DB,r=Og,i=Pg,s=null;function o(){var a,u=Rg.call(arguments),l=t.apply(this,u),y=n.apply(this,u);if(s||(s=a=pu()),e(s,+r.apply(this,(u[0]=l,u)),+i.apply(this,u),+r.apply(this,(u[0]=y,u)),+i.apply(this,u)),a)return s=null,a+""||null}return o.source=function(a){return arguments.length?(t=a,o):t},o.target=function(a){return arguments.length?(n=a,o):n},o.x=function(a){return arguments.length?(r="function"==typeof a?a:Je(+a),o):r},o.y=function(a){return arguments.length?(i="function"==typeof a?a:Je(+a),o):i},o.context=function(a){return arguments.length?(s=a??null,o):s},o}function EB(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function CB(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function xB(e,t,n,r,i){var s=mu(t,n),o=mu(t,n=(n+i)/2),a=mu(r,n),u=mu(r,i);e.moveTo(s[0],s[1]),e.bezierCurveTo(o[0],o[1],a[0],a[1],u[0],u[1])}function SB(){return kg(EB)}function MB(){return kg(CB)}function AB(){var e=kg(xB);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const Lg={draw:function(e,t){var n=Math.sqrt(t/Ui);e.moveTo(n,0),e.arc(0,0,n,0,Hi)}},BC={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var jC=Math.sqrt(1/3),TB=2*jC;const $C={draw:function(e,t){var n=Math.sqrt(t/TB),r=n*jC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}};var UC=Math.sin(Ui/10)/Math.sin(7*Ui/10),NB=Math.sin(Hi/10)*UC,OB=-Math.cos(Hi/10)*UC;const HC={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=NB*n,i=OB*n;e.moveTo(0,-n),e.lineTo(r,i);for(var s=1;s<5;++s){var o=Hi*s/5,a=Math.cos(o),u=Math.sin(o);e.lineTo(u*n,-a*n),e.lineTo(a*r-u*i,u*r+a*i)}e.closePath()}},GC={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}};var Vg=Math.sqrt(3);const zC={draw:function(e,t){var n=-Math.sqrt(t/(3*Vg));e.moveTo(0,2*n),e.lineTo(-Vg*n,-n),e.lineTo(Vg*n,-n),e.closePath()}};var ar=-.5,ur=Math.sqrt(3)/2,Bg=1/Math.sqrt(12),PB=3*(Bg/2+1);const WC={draw:function(e,t){var n=Math.sqrt(t/PB),r=n/2,i=n*Bg,s=r,o=n*Bg+n,a=-s,u=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(a,u),e.lineTo(ar*r-ur*i,ur*r+ar*i),e.lineTo(ar*s-ur*o,ur*s+ar*o),e.lineTo(ar*a-ur*u,ur*a+ar*u),e.lineTo(ar*r+ur*i,ar*i-ur*r),e.lineTo(ar*s+ur*o,ar*o-ur*s),e.lineTo(ar*a+ur*u,ar*u-ur*a),e.closePath()}};var FB=[Lg,BC,$C,GC,HC,zC,WC];function RB(){var e=Je(Lg),t=Je(64),n=null;function r(){var i;if(n||(n=i=pu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(e="function"==typeof i?i:Je(i),r):e},r.size=function(i){return arguments.length?(t="function"==typeof i?i:Je(+i),r):t},r.context=function(i){return arguments.length?(n=i??null,r):n},r}function Gi(){}function KC(e){this._context=e}function kB(e){return new KC(e)}function YC(e){this._context=e}function LB(e){return new YC(e)}function jg(e,t){this._context=e,this._k=(1-t)/6}KC.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kc(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kc(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jg.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Vc(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VB=function e(t){function n(r){return new jg(r,t)}return n.tension=function(r){return e(+r)},n}(0);function $g(e,t){this._context=e,this._k=(1-t)/6}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vc(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BB=function e(t){function n(r){return new $g(r,t)}return n.tension=function(r){return e(+r)},n}(0);function QC(e,t){this._context=e,this._alpha=t}QC.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Mg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jB=function e(t){function n(r){return t?new QC(r,t):new jg(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function ZC(e,t){this._context=e,this._alpha=t}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mg(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $B=function e(t){function n(r){return t?new ZC(r,t):new $g(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function XC(e){this._context=e}function UB(e){return new XC(e)}function Po(e,t){if((o=e.length)>1)for(var r,i,o,n=1,s=e[t[0]],a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Fo(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function HB(e,t){return e[t]}function GB(){var e=Je([]),t=Fo,n=Po,r=HB;function i(s){var a,C,o=e.apply(this,arguments),u=s.length,l=o.length,y=new Array(l);for(a=0;a<l;++a){for(var k,M=o[a],I=y[a]=new Array(u),O=0;O<u;++O)I[O]=k=[0,+r(s[O],M,O,s)],k.data=s[O];I.key=M}for(a=0,C=t(y);a<l;++a)y[C[a]].index=a;return n(y,C),y}return i.keys=function(s){return arguments.length?(e="function"==typeof s?s:Je(Rg.call(s)),i):e},i.value=function(s){return arguments.length?(r="function"==typeof s?s:Je(+s),i):r},i.order=function(s){return arguments.length?(t=null==s?Fo:"function"==typeof s?s:Je(Rg.call(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Po,i):n},i}function zB(e,t){if((r=e.length)>0){for(var n,r,o,i=0,s=e[0].length;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Po(e,t)}}function WB(e,t){if((u=e.length)>0)for(var n,i,s,o,a,u,r=0,l=e[t[0]].length;r<l;++r)for(o=a=0,n=0;n<u;++n)(s=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=o,i[1]=o+=s):s<0?(i[1]=a,i[0]=a+=s):(i[0]=0,i[1]=s)}function KB(e,t){if((i=e.length)>0){for(var i,n=0,r=e[t[0]],s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=e[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Po(e,t)}}function YB(e,t){if((o=e.length)>0&&(s=(i=e[t[0]]).length)>0){for(var i,s,o,n=0,r=1;r<s;++r){for(var a=0,u=0,l=0;a<o;++a){for(var y=e[t[a]],C=y[r][1]||0,I=(C-(y[r-1][1]||0))/2,O=0;O<a;++O){var k=e[t[O]];I+=(k[r][1]||0)-(k[r-1][1]||0)}u+=C,l+=I*C}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,Po(e,t)}}function JC(e){var t=e.map(QB);return Fo(e).sort(function(n,r){return t[n]-t[r]})}function QB(e){for(var i,t=-1,n=0,r=e.length,s=-1/0;++t<r;)(i=+e[t][1])>s&&(s=i,n=t);return n}function qC(e){var t=e.map(ex);return Fo(e).sort(function(n,r){return t[n]-t[r]})}function ex(e){for(var i,t=0,n=-1,r=e.length;++n<r;)(i=+e[n][1])&&(t+=i);return t}function ZB(e){return qC(e).reverse()}function XB(e){var n,r,t=e.length,i=e.map(ex),s=JC(e),o=0,a=0,u=[],l=[];for(n=0;n<t;++n)r=s[n],o<a?(o+=i[r],u.push(r)):(a+=i[r],l.push(r));return l.reverse().concat(u)}function JB(e){return Fo(e).reverse()}function tx(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(l){return void n(l)}a.done?t(u):Promise.resolve(u).then(r,i)}XC.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};const e8=["editor"],nx=new Te("EDITOR_SETTINGS");let Ro=(()=>{class e{constructor(n){this.baseUrl="https://unpkg.com/monaco-editor/min",this.typingsWorkerUrl="https://unpkg.com/@ngstack/code-editor/workers/typings-worker.js",this.typingsLoaded=new re,this.loaded=new re,this.loadingTypings=new sr(!1);const r={baseUrl:this.baseUrl,typingsWorkerUrl:this.typingsWorkerUrl,...n};this.baseUrl=r.baseUrl,this.typingsWorkerUrl=r.typingsWorkerUrl}loadTypingsWorker(){if(!this.typingsWorker&&window.Worker){if(this.typingsWorkerUrl.startsWith("http")){const r=URL.createObjectURL(new Blob([`importScripts('${this.typingsWorkerUrl}');`],{type:"text/javascript"}));this.typingsWorker=new Worker(r)}else this.typingsWorker=new Worker(this.typingsWorkerUrl);this.typingsWorker.addEventListener("message",n=>{this.loadingTypings.next(!1),this.typingsLoaded.next(n.data)})}return this.typingsWorker}loadTypings(n){if(n&&n.length>0){const r=this.loadTypingsWorker();r&&(this.loadingTypings.next(!0),r.postMessage({dependencies:n}))}}loadEditor(){return new Promise(n=>{const r=()=>{if(window.require.config({paths:{vs:`${this.baseUrl}/vs`}}),this.baseUrl.startsWith("http")){const s=URL.createObjectURL(new Blob([`\n            self.MonacoEnvironment = {\n              baseUrl: "${this.baseUrl}"\n            };\n            importScripts('${this.baseUrl}/vs/base/worker/workerMain.js');\n          `],{type:"text/javascript"}));window.MonacoEnvironment={getWorkerUrl:function(){return s}}}window.require(["vs/editor/editor.main"],()=>{this.loaded.next({monaco}),n()})};if(window.require)r();else{const i=document.createElement("script");i.type="text/javascript",i.src=`${this.baseUrl}/vs/loader.js`,i.addEventListener("load",r),document.body.appendChild(i)}})}}return e.\u0275fac=function(n){return new(n||e)(Ee(nx,8))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rx=(()=>{class e{constructor(n){n.loaded.subscribe(r=>{this.setup(r.monaco)}),n.typingsLoaded.subscribe(r=>{this.updateTypings(r)})}setup(n){if(!n)return;this.monaco=n;const r=n.languages.typescript.typescriptDefaults;r.setCompilerOptions({target:n.languages.typescript.ScriptTarget.ES6,module:"commonjs",noEmit:!0,noLib:!0,emitDecoratorMetadata:!0,experimentalDecorators:!0,allowNonTsExtensions:!0,declaration:!0,lib:["es2017","dom"],baseUrl:".",paths:{}}),r.setMaximumWorkerIdleTime(-1),r.setEagerModelSync(!0)}updateTypings(n){n&&(this.addExtraLibs(n.files),this.addLibraryPaths(n.entryPoints))}addExtraLibs(n=[]){if(!this.monaco||!n||0===n.length)return;const r=this.monaco.languages.typescript.typescriptDefaults,i=r.getExtraLibs();n.forEach(s=>{i[s.path]||(r._extraLibs[s.path]=s.content)}),r._onDidChange.fire(r)}addLibraryPaths(n={}){if(!this.monaco)return;const i=this.monaco.languages.typescript.typescriptDefaults.getCompilerOptions();i.paths=i.paths||{},Object.keys(n).forEach(s=>{i.paths[s]=[n[s]]})}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ro))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ix=(()=>{class e{constructor(n){n.loaded.subscribe(r=>{this.setup(r.monaco)}),n.typingsLoaded.subscribe(r=>{this.updateTypings(r)})}setup(n){if(!n)return;this.monaco=n;const r=n.languages.typescript.javascriptDefaults;r.setCompilerOptions({target:n.languages.typescript.ScriptTarget.ES6,module:"commonjs",allowNonTsExtensions:!0,baseUrl:".",paths:{}}),r.setMaximumWorkerIdleTime(-1),r.setEagerModelSync(!0)}updateTypings(n){n&&(this.addExtraLibs(n.files),this.addLibraryPaths(n.entryPoints))}addExtraLibs(n=[]){if(!this.monaco||!n||0===n.length)return;const r=this.monaco.languages.typescript.javascriptDefaults,i=r.getExtraLibs();n.forEach(s=>{i[s.path]||(r._extraLibs[s.path]=s.content)}),r._onDidChange.fire(r)}addLibraryPaths(n={}){if(!this.monaco)return;const i=this.monaco.languages.typescript.javascriptDefaults.getCompilerOptions();i.paths=i.paths||{},Object.keys(n).forEach(s=>{i.paths[s]=[n[s]]})}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ro))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sx=(()=>{class e{constructor(n){n.loaded.subscribe(r=>{this.setup(r.monaco)})}setup(n){if(!n)return;this.monaco=n;const r=n.languages.json.jsonDefaults;r.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[...r._diagnosticsOptions.schemas,{uri:"http://myserver/foo-schema.json",schema:{type:"object",properties:{p1:{enum:["v1","v2"]},p2:{$ref:"http://myserver/bar-schema.json"}}}},{uri:"http://myserver/bar-schema.json",schema:{type:"object",properties:{q1:{enum:["x1","x2"]}}}}]})}addSchemas(n,r=[]){const i=this.monaco.languages.json.jsonDefaults,s=i.diagnosticsOptions,o={};s&&s.schemas&&s.schemas.length>0&&s.schemas.forEach(a=>{o[a.uri]=a});for(const{uri:a,schema:u}of r)o[a]={uri:a,schema:u,fileMatch:[n||"*.json"]};s.schemas=Object.values(o),i.setDiagnosticsOptions(s)}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ro))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),t8=(()=>{class e{constructor(n,r,i,s){this.editorService=n,this.typescriptDefaults=r,this.javascriptDefaults=i,this.jsonDefaults=s,this.defaultOptions={lineNumbers:!0,contextmenu:!1,minimap:{enabled:!1}},this.theme="vs",this.options={},this.readOnly=!1,this.valueChanged=new lt,this.loaded=new lt}ngOnDestroy(){this._editor&&(this._editor.dispose(),this._editor=null),this._model&&(this._model.dispose(),this._model=null)}ngOnChanges(n){n.codeModel&&!n.codeModel.firstChange&&this.updateModel(n.codeModel.currentValue),n.readOnly&&!n.readOnly.firstChange&&this._editor&&this._editor.updateOptions({readOnly:n.readOnly.currentValue}),n.theme&&!n.theme.firstChange&&monaco.editor.setTheme(n.theme.currentValue)}onResize(){this._editor&&this._editor.layout()}ngAfterViewInit(){var n=this;return function qB(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(u){tx(s,r,i,o,a,"next",u)}function a(u){tx(s,r,i,o,a,"throw",u)}o(void 0)})}}(function*(){n.setupEditor(),n.loaded.emit()})()}setupEditor(){const n=this.editorContent.nativeElement,r={value:"",language:"text",uri:`code-${Date.now()}`,...this.codeModel};this._model=monaco.editor.createModel(r.value,r.language,monaco.Uri.file(r.uri));const i=Object.assign({},this.defaultOptions,this.options,{readOnly:this.readOnly,theme:this.theme,model:this._model});this._editor=monaco.editor.create(n,i),this._model.onDidChangeContent(()=>{const s=this._model.getValue();this.codeModel&&(this.codeModel.value=s),this.valueChanged.emit(s)}),this.setupDependencies(this.codeModel)}setupDependencies(n){if(!n)return;const{language:r}=n;if(r)switch(r.toLowerCase()){case"typescript":case"javascript":n.dependencies&&this.editorService.loadTypings(n.dependencies);break;case"json":n.schemas&&this.jsonDefaults.addSchemas(n.uri,n.schemas)}}setEditorValue(n){setTimeout(()=>{this._model&&this._model.setValue(n)})}updateModel(n){n&&(this.setEditorValue(n.value),this._model&&void 0!==typeof monaco&&monaco.editor.setModelLanguage(this._model,n.language),this.setupDependencies(n))}}return e.\u0275fac=function(n){return new(n||e)(ce(Ro),ce(rx),ce(ix),ce(sx))},e.\u0275cmp=Fs({type:e,selectors:[["ngs-code-editor"]],viewQuery:function(n,r){if(1&n&&Ul(e8,7),2&n){let i;Cr(i=xr())&&(r.editorContent=i.first)}},hostAttrs:[1,"ngs-code-editor"],hostBindings:function(n,r){1&n&&Ct("resize",function(){return r.onResize()},0,h_)},inputs:{codeModel:"codeModel",theme:"theme",options:"options",readOnly:"readOnly"},outputs:{valueChanged:"valueChanged",loaded:"loaded"},features:[In],decls:2,vars:0,consts:[["id","editor",1,"monaco-editor","editor"],["editor",""]],template:function(n,r){1&n&&On(0,"div",0,1)},styles:[".editor{width:100%;height:inherit;min-height:200px}\n"],encapsulation:2,changeDetection:0}),e})();function n8(e){return()=>e.loadEditor()}let r8=(()=>{class e{static forRoot(n){return{ngModule:e,providers:[{provide:nx,useValue:n},Ro,rx,ix,sx,{provide:Ha,useFactory:n8,deps:[Ro],multi:!0}]}}static forChild(){return{ngModule:e}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({imports:[[ac]]}),e})();class ox{}const _i="*";function s8(e,t){return{type:7,name:e,definitions:t,options:{}}}function o8(e,t=null){return{type:4,styles:t,timings:e}}function ax(e,t=null){return{type:2,steps:e,options:t}}function Gc(e){return{type:6,styles:e,offset:null}}function a8(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function ux(e){Promise.resolve().then(e)}class yu{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ux(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class lx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const s=this.players.length;0==s?ux(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function u8(){}function Hg(e){return null==e?u8:function(){return this.querySelector(e)}}function c8(){return[]}function cx(e){return null==e?c8:function(){return this.querySelectorAll(e)}}function dx(e){return function(){return this.matches(e)}}function fx(e){return new Array(e.length)}function zc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function g8(e,t,n,r,i,s){for(var a,o=0,u=t.length,l=s.length;o<l;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new zc(e,s[o]);for(;o<u;++o)(a=t[o])&&(i[o]=a)}function m8(e,t,n,r,i,s,o){var a,u,I,l={},y=t.length,C=s.length,M=new Array(y);for(a=0;a<y;++a)(u=t[a])&&(M[a]=I="$"+o.call(u,u.__data__,a,t),I in l?i[a]=u:l[I]=u);for(a=0;a<C;++a)(u=l[I="$"+o.call(e,s[a],a,s)])?(r[a]=u,u.__data__=s[a],l[I]=null):n[a]=new zc(e,s[a]);for(a=0;a<y;++a)(u=t[a])&&l[M[a]]===u&&(i[a]=u)}function E8(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}zc.prototype={constructor:zc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Gg="http://www.w3.org/1999/xhtml";const px={svg:"http://www.w3.org/2000/svg",xhtml:Gg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wc(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),px.hasOwnProperty(t)?{space:px[t],local:e}:e}function I8(e){return function(){this.removeAttribute(e)}}function N8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function O8(e,t){return function(){this.setAttribute(e,t)}}function P8(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function F8(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function R8(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function L8(e){return function(){this.style.removeProperty(e)}}function V8(e,t,n){return function(){this.style.setProperty(e,t,n)}}function B8(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ko(e,t){return e.style.getPropertyValue(t)||gx(e).getComputedStyle(e,null).getPropertyValue(t)}function $8(e){return function(){delete this[e]}}function U8(e,t){return function(){this[e]=t}}function H8(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function mx(e){return e.trim().split(/^|\s+/)}function zg(e){return e.classList||new yx(e)}function yx(e){this._node=e,this._names=mx(e.getAttribute("class")||"")}function vx(e,t){for(var n=zg(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function _x(e,t){for(var n=zg(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function z8(e){return function(){vx(this,e)}}function W8(e){return function(){_x(this,e)}}function K8(e,t){return function(){(t.apply(this,arguments)?vx:_x)(this,e)}}function Q8(){this.textContent=""}function Z8(e){return function(){this.textContent=e}}function X8(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function q8(){this.innerHTML=""}function e5(e){return function(){this.innerHTML=e}}function t5(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function r5(){this.nextSibling&&this.parentNode.appendChild(this)}function s5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function a5(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Gg&&t.documentElement.namespaceURI===Gg?t.createElement(e):t.createElementNS(n,e)}}function u5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wx(e){var t=Wc(e);return(t.local?u5:a5)(t)}function c5(){return null}function f5(){var e=this.parentNode;e&&e.removeChild(this)}function p5(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function g5(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}yx.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var bx={},Es=null;function _5(e,t,n){return e=Dx(e,t,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(8&i.compareDocumentPosition(this)))&&e.call(this,r)}}function Dx(e,t,n){return function(r){var i=Es;Es=r;try{e.call(this,this.__data__,t,n)}finally{Es=i}}}function w5(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function b5(e){return function(){var t=this.__on;if(t){for(var s,n=0,r=-1,i=t.length;n<i;++n)s=t[n],e.type&&s.type!==e.type||s.name!==e.name?t[++r]=s:this.removeEventListener(s.type,s.listener,s.capture);++r?t.length=r:delete this.__on}}}function D5(e,t,n){var r=bx.hasOwnProperty(e.type)?_5:Dx;return function(i,s,o){var u,a=this.__on,l=r(t,s,o);if(a)for(var y=0,C=a.length;y<C;++y)if((u=a[y]).type===e.type&&u.name===e.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=t);this.addEventListener(e.type,l,n),u={type:e.type,name:e.name,value:t,listener:l,capture:n},a?a.push(u):this.__on=[u]}}function Ex(e,t,n){var r=gx(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function C5(e,t){return function(){return Ex(this,e,t)}}function x5(e,t){return function(){return Ex(this,e,t.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(bx={mouseenter:"mouseover",mouseleave:"mouseout"}));var Cx=[null];function Wn(e,t){this._groups=e,this._parents=t}function xx(){return new Wn([[document.documentElement]],Cx)}Wn.prototype=xx.prototype={constructor:Wn,select:function l8(e){"function"!=typeof e&&(e=Hg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,l,s=t[i],o=s.length,a=r[i]=new Array(o),y=0;y<o;++y)(u=s[y])&&(l=e.call(u,u.__data__,y,s))&&("__data__"in u&&(l.__data__=u.__data__),a[y]=l);return new Wn(r,this._parents)},selectAll:function d8(e){"function"!=typeof e&&(e=cx(e));for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var u,o=t[s],a=o.length,l=0;l<a;++l)(u=o[l])&&(r.push(e.call(u,u.__data__,l,o)),i.push(u));return new Wn(r,i)},filter:function f8(e){"function"!=typeof e&&(e=dx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,s=t[i],o=s.length,a=r[i]=[],l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new Wn(r,this._parents)},data:function y8(e,t){if(!e)return I=new Array(this.size()),l=-1,this.each(function(De){I[++l]=De}),I;var n=t?m8:g8,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function p8(e){return function(){return e}}(e));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var y=r[l],C=i[l],M=C.length,I=e.call(y,y&&y.__data__,l,r),O=I.length,k=a[l]=new Array(O),j=o[l]=new Array(O);n(y,C,k,j,u[l]=new Array(M),I,t);for(var ae,ye,ee=0,Q=0;ee<O;++ee)if(ae=k[ee]){for(ee>=Q&&(Q=ee+1);!(ye=j[Q])&&++Q<O;);ae._next=ye||null}}return(o=new Wn(o,r))._enter=a,o._exit=u,o},enter:function h8(){return new Wn(this._enter||this._groups.map(fx),this._parents)},exit:function v8(){return new Wn(this._exit||this._groups.map(fx),this._parents)},join:function _8(e,t,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function w8(e){for(var t=this._groups,n=e._groups,r=t.length,s=Math.min(r,n.length),o=new Array(r),a=0;a<s;++a)for(var M,u=t[a],l=n[a],y=u.length,C=o[a]=new Array(y),I=0;I<y;++I)(M=u[I]||l[I])&&(C[I]=M);for(;a<r;++a)o[a]=t[a];return new Wn(o,this._parents)},order:function b8(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,s=r[i];--i>=0;)(o=r[i])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function D8(e){function t(C,M){return C&&M?e(C.__data__,M.__data__):!C-!M}e||(e=E8);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l,o=n[s],a=o.length,u=i[s]=new Array(a),y=0;y<a;++y)(l=o[y])&&(u[y]=l);u.sort(t)}return new Wn(i,this._parents).order()},call:function C8(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function x8(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function S8(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function M8(){var e=0;return this.each(function(){++e}),e},empty:function A8(){return!this.node()},each:function T8(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],s=0,o=i.length;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this},attr:function k8(e,t){var n=Wc(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?N8:I8:"function"==typeof t?n.local?R8:F8:n.local?P8:O8)(n,t))},style:function j8(e,t,n){return arguments.length>1?this.each((null==t?L8:"function"==typeof t?B8:V8)(e,t,n??"")):ko(this.node(),e)},property:function G8(e,t){return arguments.length>1?this.each((null==t?$8:"function"==typeof t?H8:U8)(e,t)):this.node()[e]},classed:function Y8(e,t){var n=mx(e+"");if(arguments.length<2){for(var r=zg(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?K8:t?z8:W8)(n,t))},text:function J8(e){return arguments.length?this.each(null==e?Q8:("function"==typeof e?X8:Z8)(e)):this.node().textContent},html:function n5(e){return arguments.length?this.each(null==e?q8:("function"==typeof e?t5:e5)(e)):this.node().innerHTML},raise:function i5(){return this.each(r5)},lower:function o5(){return this.each(s5)},append:function l5(e){var t="function"==typeof e?e:wx(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function d5(e,t){var n="function"==typeof e?e:wx(e),r=null==t?c5:"function"==typeof t?t:Hg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function h5(){return this.each(f5)},clone:function m5(e){return this.select(e?g5:p5)},datum:function y5(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function E5(e,t,n){var i,o,r=w5(e+""),s=r.length;if(!(arguments.length<2)){for(a=t?D5:b5,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],t,n));return this}var a=this.node().__on;if(a)for(var y,u=0,l=a.length;u<l;++u)for(i=0,y=a[u];i<s;++i)if((o=r[i]).type===y.type&&o.name===y.name)return y.value},dispatch:function S5(e,t){return this.each(("function"==typeof t?x5:C5)(e,t))}};const vu=xx;function Sx(e){return"string"==typeof e?new Wn([[document.querySelector(e)]],[document.documentElement]):new Wn([[e]],Cx)}var Mx=Math.PI;function Tx(e){return(1-Math.cos(Mx*e))/2}var M5={value:function(){}};function Ix(){for(var r,e=0,t=arguments.length,n={};e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kc(n)}function Kc(e){this._=e}function A5(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function T5(e,t){for(var i,n=0,r=e.length;n<r;++n)if((i=e[n]).name===t)return i.value}function Nx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=M5,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Kc.prototype=Ix.prototype={constructor:Kc,on:function(e,t){var i,n=this._,r=A5(e+"",n),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Nx(n[i],e.name,t);else if(null==t)for(i in n)n[i]=Nx(n[i],e.name,null);return this}for(;++s<o;)if((i=(e=r[s]).type)&&(i=T5(n[i],e.name)))return i},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,s,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(s=this._[e]).length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};const Wg=Ix;var Yc,bu,Lo=0,_u=0,wu=0,Qc=0,Cs=0,Zc=0,Du="object"==typeof performance&&performance.now?performance:Date,Px="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Eu(){return Cs||(Px(I5),Cs=Du.now()+Zc)}function I5(){Cs=0}function Cu(){this._call=this._time=this._next=null}function Xc(e,t,n){var r=new Cu;return r.restart(e,t,n),r}function Fx(){Eu(),++Lo;for(var t,e=Yc;e;)(t=Cs-e._time)>=0&&e._call.call(null,t),e=e._next;--Lo}function Rx(){Cs=(Qc=Du.now())+Zc,Lo=_u=0;try{Fx()}finally{Lo=0,function O5(){for(var e,n,t=Yc,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Yc=n);bu=e,Kg(r)}(),Cs=0}}function N5(){var e=Du.now(),t=e-Qc;t>1e3&&(Zc-=t,Qc=e)}function Kg(e){Lo||(_u&&(_u=clearTimeout(_u)),e-Cs>24?(e<1/0&&(_u=setTimeout(Rx,e-Du.now()-Zc)),wu&&(wu=clearInterval(wu))):(wu||(Qc=Du.now(),wu=setInterval(N5,1e3)),Lo=1,Px(Rx)))}function Yg(e,t,n){var r=new Cu;return r.restart(function(i){r.stop(),e(i+t)},t=null==t?0:+t,n),r}Cu.prototype=Xc.prototype={constructor:Cu,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Eu():+n)+(null==t?0:+t),!this._next&&bu!==this&&(bu?bu._next=this:Yc=this,bu=this),this._call=e,this._time=n,Kg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kg())}};var P5=Wg("start","end","cancel","interrupt"),F5=[];function ed(e,t,n,r,i,s){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function R5(e,t,n){var i,r=e.__transition;function o(l){var y,C,M,I;if(1!==n.state)return u();for(y in r)if((I=r[y]).name===n.name){if(3===I.state)return Yg(o);4===I.state?(I.state=6,I.timer.stop(),I.on.call("interrupt",e,e.__data__,I.index,I.group),delete r[y]):+y<t&&(I.state=6,I.timer.stop(),I.on.call("cancel",e,e.__data__,I.index,I.group),delete r[y])}if(Yg(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(M=n.tween.length),y=0,C=-1;y<M;++y)(I=n.tween[y].value.call(e,e.__data__,n.index,n.group))&&(i[++C]=I);i.length=C+1}}function a(l){for(var y=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=5,1),C=-1,M=i.length;++C<M;)i[C].call(e,y);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var l in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Xc(function s(l){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:P5,tween:F5,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function Xg(e,t){var n=Tr(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function zr(e,t){var n=Tr(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Tr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var td,Bx=180/Math.PI,Jg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jx(e,t,n,r,i,s){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Bx,skewX:Math.atan(u)*Bx,scaleX:o,scaleY:a}}function $x(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}return function(l,y){var C=[],M=[];return l=e(l),y=e(y),function s(l,y,C,M,I,O){if(l!==C||y!==M){var k=I.push("translate(",null,t,null,n);O.push({i:k-4,x:zi(l,C)},{i:k-2,x:zi(y,M)})}else(C||M)&&I.push("translate("+C+t+M+n)}(l.translateX,l.translateY,y.translateX,y.translateY,C,M),function o(l,y,C,M){l!==y?(l-y>180?y+=360:y-l>180&&(l+=360),M.push({i:C.push(i(C)+"rotate(",null,r)-2,x:zi(l,y)})):y&&C.push(i(C)+"rotate("+y+r)}(l.rotate,y.rotate,C,M),function a(l,y,C,M){l!==y?M.push({i:C.push(i(C)+"skewX(",null,r)-2,x:zi(l,y)}):y&&C.push(i(C)+"skewX("+y+r)}(l.skewX,y.skewX,C,M),function u(l,y,C,M,I,O){if(l!==C||y!==M){var k=I.push(i(I)+"scale(",null,",",null,")");O.push({i:k-4,x:zi(l,C)},{i:k-2,x:zi(y,M)})}else(1!==C||1!==M)&&I.push(i(I)+"scale("+C+","+M+")")}(l.scaleX,l.scaleY,y.scaleX,y.scaleY,C,M),l=y=null,function(I){for(var j,O=-1,k=M.length;++O<k;)C[(j=M[O]).i]=j.x(I);return C.join("")}}}var j5=$x(function V5(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Jg:jx(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),$5=$x(function B5(e){return null!=e&&(td||(td=document.createElementNS("http://www.w3.org/2000/svg","g")),td.setAttribute("transform",e),e=td.transform.baseVal.consolidate())?jx((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Jg},", ",")",")");function U5(e,t){var n,r;return function(){var i=zr(this,e),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function H5(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=zr(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function qg(e,t,n){var r=e._id;return e.each(function(){var i=zr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Tr(i,r).value[t]}}function em(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ux(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xu(){}var nd=1/.7,Vo="\\s*([+-]?\\d+)\\s*",Mu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z5=/^#([0-9a-f]{3,8})$/,W5=new RegExp("^rgb\\("+[Vo,Vo,Vo]+"\\)$"),K5=new RegExp("^rgb\\("+[Wr,Wr,Wr]+"\\)$"),Y5=new RegExp("^rgba\\("+[Vo,Vo,Vo,Mu]+"\\)$"),Q5=new RegExp("^rgba\\("+[Wr,Wr,Wr,Mu]+"\\)$"),Z5=new RegExp("^hsl\\("+[Mu,Wr,Wr]+"\\)$"),X5=new RegExp("^hsla\\("+[Mu,Wr,Wr,Mu]+"\\)$"),Hx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gx(){return this.rgb().formatHex()}function zx(){return this.rgb().formatRgb()}function Au(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=z5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Wx(t):3===n?new Kn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?rd(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?rd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=W5.exec(e))?new Kn(t[1],t[2],t[3],1):(t=K5.exec(e))?new Kn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Y5.exec(e))?rd(t[1],t[2],t[3],t[4]):(t=Q5.exec(e))?rd(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Z5.exec(e))?Qx(t[1],t[2]/100,t[3]/100,1):(t=X5.exec(e))?Qx(t[1],t[2]/100,t[3]/100,t[4]):Hx.hasOwnProperty(e)?Wx(Hx[e]):"transparent"===e?new Kn(NaN,NaN,NaN,0):null}function Wx(e){return new Kn(e>>16&255,e>>8&255,255&e,1)}function rd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function q5(e){return e instanceof xu||(e=Au(e)),e?new Kn((e=e.rgb()).r,e.g,e.b,e.opacity):new Kn}function id(e,t,n,r){return 1===arguments.length?q5(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Kx(){return"#"+tm(this.r)+tm(this.g)+tm(this.b)}function Yx(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function tm(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Qx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,n,r)}function Zx(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof xu||(e=Au(e)),!e)return new Kr;if(e instanceof Kr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(o=t===s?(n-r)/a+6*(n<r):n===s?(r-t)/a+2:(t-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new Kr(o,a,u,e.opacity)}function Kr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function nm(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Xx(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}em(xu,Au,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Gx,formatHex:Gx,formatHsl:function J5(){return Zx(this).formatHsl()},formatRgb:zx,toString:zx}),em(Kn,id,Ux(xu,{brighter:function(e){return e=null==e?nd:Math.pow(nd,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kx,formatHex:Kx,formatRgb:Yx,toString:Yx})),em(Kr,function e4(e,t,n,r){return 1===arguments.length?Zx(e):new Kr(e,t,n,r??1)},Ux(xu,{brighter:function(e){return e=null==e?nd:Math.pow(nd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Kn(nm(e>=240?e-240:e+120,i,r),nm(e,i,r),nm(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Jx=e=>()=>e;function e1(e,t){var n=t-e;return n?function qx(e,t){return function(n){return e+n*t}}(e,n):Jx(isNaN(e)?t:e)}const t1=function e(t){var n=function i4(e){return 1==(e=+e)?e1:function(t,n){return n-t?function r4(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Jx(isNaN(t)?n:t)}}(t);function r(i,s){var o=n((i=id(i)).r,(s=id(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=e1(i.opacity,s.opacity);return function(y){return i.r=o(y),i.g=a(y),i.b=u(y),i.opacity=l(y),i+""}}return r.gamma=e,r}(1);function n1(e){return function(t){var o,a,n=t.length,r=new Array(n),i=new Array(n),s=new Array(n);for(o=0;o<n;++o)a=id(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=s(u),a+""}}}n1(function t4(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1];return Xx((n-r/t)*t,r>0?e[r-1]:2*i-s,i,s,r<t-1?e[r+2]:2*s-i)}}),n1(function n4(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t);return Xx((n-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}});var rm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,im=new RegExp(rm.source,"g");function a4(e,t){var r,i,s,n=rm.lastIndex=im.lastIndex=0,o=-1,a=[],u=[];for(e+="",t+="";(r=rm.exec(e))&&(i=im.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:zi(r,i)})),n=im.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?function o4(e){return function(t){return e(t)+""}}(u[0].x):function s4(e){return function(){return e}}(t):(t=u.length,function(l){for(var C,y=0;y<t;++y)a[(C=u[y]).i]=C.x(l);return a.join("")})}function r1(e,t){var n;return("number"==typeof t?zi:t instanceof Au?t1:(n=Au(t))?(t=n,t1):a4)(e,t)}function u4(e){return function(){this.removeAttribute(e)}}function l4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c4(e,t,n){var r,s,i=n+"";return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function d4(e,t,n){var r,s,i=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function f4(e,t,n){var r,i,s;return function(){var o,u,a=n(this);return null==a?void this.removeAttribute(e):(o=this.getAttribute(e))===(u=a+"")?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function h4(e,t,n){var r,i,s;return function(){var o,u,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local))===(u=a+"")?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}function g4(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function m4(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function y4(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&m4(e,s)),n}return i._value=t,i}function v4(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&g4(e,s)),n}return i._value=t,i}function w4(e,t){return function(){Xg(this,e).delay=+t.apply(this,arguments)}}function b4(e,t){return t=+t,function(){Xg(this,e).delay=t}}function E4(e,t){return function(){zr(this,e).duration=+t.apply(this,arguments)}}function C4(e,t){return t=+t,function(){zr(this,e).duration=t}}function S4(e,t){if("function"!=typeof t)throw new Error;return function(){zr(this,e).ease=t}}function P4(e,t,n){var r,i,s=function O4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(t)?Xg:zr;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}var B4=vu.prototype.constructor;function i1(e){return function(){this.style.removeProperty(e)}}function W4(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function K4(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&W4(e,o,n)),r}return s._value=t,s}function J4(e){return function(t){this.textContent=e.call(this,t)}}function q4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&J4(i)),t}return r._value=e,r}var rj=0;function wi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function s1(){return++rj}var bi=vu.prototype;wi.prototype=function ij(e){return vu().transition(e)}.prototype={constructor:wi,select:function L4(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Hg(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var y,C,a=r[o],u=a.length,l=s[o]=new Array(u),M=0;M<u;++M)(y=a[M])&&(C=e.call(y,y.__data__,M,a))&&("__data__"in y&&(C.__data__=y.__data__),l[M]=C,ed(l[M],t,n,M,l,Tr(y,n)));return new wi(s,this._parents,t,n)},selectAll:function V4(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=cx(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var y,u=r[a],l=u.length,C=0;C<l;++C)if(y=u[C]){for(var I,M=e.call(y,y.__data__,C,u),O=Tr(y,n),k=0,j=M.length;k<j;++k)(I=M[k])&&ed(I,t,n,k,M,O);s.push(M),o.push(y)}return new wi(s,o,t,n)},selectChild:bi.selectChild,selectChildren:bi.selectChildren,filter:function I4(e){"function"!=typeof e&&(e=dx(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var u,s=t[i],o=s.length,a=r[i]=[],l=0;l<o;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&a.push(u);return new wi(r,this._parents,this._name,this._id)},merge:function N4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=Math.min(r,n.length),o=new Array(r),a=0;a<s;++a)for(var M,u=t[a],l=n[a],y=u.length,C=o[a]=new Array(y),I=0;I<y;++I)(M=u[I]||l[I])&&(C[I]=M);for(;a<r;++a)o[a]=t[a];return new wi(o,this._parents,this._name,this._id)},selection:function j4(){return new B4(this._groups,this._parents)},transition:function tj(){for(var e=this._name,t=this._id,n=s1(),r=this._groups,i=r.length,s=0;s<i;++s)for(var u,o=r[s],a=o.length,l=0;l<a;++l)if(u=o[l]){var y=Tr(u,t);ed(u,e,n,l,o,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new wi(r,this._parents,e,n)},call:bi.call,nodes:bi.nodes,node:bi.node,size:bi.size,empty:bi.empty,each:bi.each,on:function F4(e,t){var n=this._id;return arguments.length<2?Tr(this.node(),n).on.on(e):this.each(P4(n,e,t))},attr:function p4(e,t){var n=Wc(e),r="transform"===n?$5:r1;return this.attrTween(e,"function"==typeof t?(n.local?h4:f4)(n,r,qg(this,"attr."+e,t)):null==t?(n.local?l4:u4)(n):(n.local?d4:c4)(n,r,t))},attrTween:function _4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Wc(e);return this.tween(n,(r.local?y4:v4)(r,t))},style:function z4(e,t,n){var r="transform"==(e+="")?j5:r1;return null==t?this.styleTween(e,function $4(e,t){var n,r,i;return function(){var s=ko(this,e),o=(this.style.removeProperty(e),ko(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}(e,r)).on("end.style."+e,i1(e)):"function"==typeof t?this.styleTween(e,function H4(e,t,n){var r,i,s;return function(){var o=ko(this,e),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(e),u=a=ko(this,e)),o===u?null:o===r&&u===i?s:(i=u,s=t(r=o,a))}}(e,r,qg(this,"style."+e,t))).each(function G4(e,t){var n,r,i,a,s="style."+t,o="end."+s;return function(){var u=zr(this,e),l=u.on,y=null==u.value[s]?a||(a=i1(t)):void 0;(l!==n||i!==y)&&(r=(n=l).copy()).on(o,i=y),u.on=r}}(this._id,e)):this.styleTween(e,function U4(e,t,n){var r,s,i=n+"";return function(){var o=ko(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function Y4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,K4(e,t,n??""))},text:function X4(e){return this.tween("text","function"==typeof e?function Z4(e){return function(){var t=e(this);this.textContent=t??""}}(qg(this,"text",e)):function Q4(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function ej(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,q4(e))},remove:function k4(){return this.on("end.remove",function R4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function G5(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=Tr(this.node(),n).tween,i=0,s=r.length;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?U5:H5)(n,e,t))},delay:function D4(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?w4:b4)(t,e)):Tr(this.node(),t).delay},duration:function x4(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?E4:C4)(t,e)):Tr(this.node(),t).duration},ease:function M4(e){var t=this._id;return arguments.length?this.each(S4(t,e)):Tr(this.node(),t).ease},easeVarying:function T4(e){if("function"!=typeof e)throw new Error;return this.each(function A4(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;zr(this,e).ease=n}}(this._id,e))},end:function nj(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){0==--i&&s()}};n.each(function(){var l=zr(this,r),y=l.on;y!==e&&((t=(e=y).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),0===i&&s()})},[Symbol.iterator]:bi[Symbol.iterator]};var oj={time:null,delay:0,duration:250,ease:function sj(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function aj(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}vu.prototype.interrupt=function L5(e){return this.each(function(){!function k5(e,t){var r,i,o,n=e.__transition,s=!0;if(n){for(o in t=null==t?null:t+"",n)(r=n[o]).name===t?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]):s=!1;s&&delete e.__transition}}(this,e)})},vu.prototype.transition=function uj(e){var t,n;e instanceof wi?(t=e._id,e=e._name):(t=s1(),(n=oj).time=Eu(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var u,o=r[s],a=o.length,l=0;l<a;++l)(u=o[l])&&ed(u,e,t,l,o,n||aj(u,t));return new wi(r,this._parents,e,t)};const lj=["addListener","removeListener"],cj=["addEventListener","removeEventListener"],dj=["on","off"];function sm(e,t,n,r){if(m(n)&&(r=n,n=void 0),r)return sm(e,t,n).pipe(zp(r));const[i,s]=function pj(e){return m(e.addEventListener)&&m(e.removeEventListener)}(e)?cj.map(o=>a=>e[o](t,a,n)):function fj(e){return m(e.addListener)&&m(e.removeListener)}(e)?lj.map(o1(e,t)):function hj(e){return m(e.on)&&m(e.off)}(e)?dj.map(o1(e,t)):[];if(!i&&kd(e))return Qt(o=>sm(o,t,n))(Zn(e));if(!i)throw new TypeError("Invalid event target");return new ie(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function o1(e,t){return n=>r=>e[n](t,r)}class gj extends g{constructor(t,n){super()}schedule(t,n=0){return this}}const sd={setInterval(e,t,...n){const{delegate:r}=sd;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=sd;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},a1={now:()=>(a1.delegate||Date).now(),delegate:void 0};class Tu{constructor(t,n=Tu.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Tu.now=a1.now;const vj=new class yj extends Tu{constructor(t,n=Tu.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class mj extends gj{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return sd.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&sd.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,f(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});function Mj(e){return typeof e>"u"}function Nj(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function Oj(e){return Array.isArray(e)?e:Array.from(e)}function Iu(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(C,M){return{a:C.a*M.a+C.c*M.b,c:C.a*M.c+C.c*M.d,e:C.a*M.e+C.c*M.f+C.e,b:C.b*M.a+C.d*M.b,d:C.b*M.c+C.d*M.d,f:C.b*M.e+C.d*M.f+C.f}};switch((t=Array.isArray(t[0])?t[0]:t).length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return r(t[0],t[1]);default:var i=t,s=Oj(i),o=s[0],a=s[1],u=s.slice(2),l=r(o,a);return Iu.apply(void 0,[l].concat(Nj(u)))}}function c1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e,b:0,d:1,f:t}}function Fj(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;const d1=Symbol("implicit");function f1(){var e=new Map,t=[],n=[],r=d1;function i(s){var o=s+"",a=e.get(o);if(!a){if(r!==d1)return r;e.set(o,a=t.push(s))}return n[(a-1)%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Map;for(const o of s){const a=o+"";e.has(a)||e.set(a,t.push(o))}return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return f1(t,n).unknown(r)},Fj.apply(i,arguments),i}var jo=c(9695);function Rj(e,t){var n;function r(){var i,o,s=n.length,a=0,u=0;for(i=0;i<s;++i)a+=(o=n[i]).x,u+=o.y;for(a=a/s-e,u=u/s-t,i=0;i<s;++i)(o=n[i]).x-=a,o.y-=u}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(e=+i,r):e},r.y=function(i){return arguments.length?(t=+i,r):t},r}function Yt(e){return function(){return e}}function Wi(){return 1e-6*(Math.random()-.5)}function h1(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,C,M,I,O,k,j,Z,ee,s=e._root,o={data:r},a=e._x0,u=e._y0,l=e._x1,y=e._y1;if(!s)return e._root=o,e;for(;s.length;)if((k=t>=(C=(a+l)/2))?a=C:l=C,(j=n>=(M=(u+y)/2))?u=M:y=M,i=s,!(s=s[Z=j<<1|k]))return i[Z]=o,e;if(I=+e._x.call(null,s.data),O=+e._y.call(null,s.data),t===I&&n===O)return o.next=s,i?i[Z]=o:e._root=o,e;do{i=i?i[Z]=new Array(4):e._root=new Array(4),(k=t>=(C=(a+l)/2))?a=C:l=C,(j=n>=(M=(u+y)/2))?u=M:y=M}while((Z=j<<1|k)==(ee=(O>=M)<<1|I>=C));return i[ee]=s,i[Z]=o,e}function Dn(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Yj(e){return e[0]}function Zj(e){return e[1]}function om(e,t,n){var r=new am(t??Yj,n??Zj,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function am(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function p1(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var En=om.prototype=am.prototype;function Jj(e){return e.x+e.vx}function qj(e){return e.y+e.vy}function g1(e){var t,n,r=1,i=1;function s(){for(var u,y,C,M,I,O,k,l=t.length,j=0;j<i;++j)for(y=om(t,Jj,qj).visitAfter(o),u=0;u<l;++u)k=(O=n[(C=t[u]).index])*O,M=C.x+C.vx,I=C.y+C.vy,y.visit(Z);function Z(ee,Q,ae,ye,De){var Ne=ee.data,it=ee.r,Be=O+it;if(!Ne)return Q>M+Be||ye<M-Be||ae>I+Be||De<I-Be;if(Ne.index>C.index){var st=M-Ne.x-Ne.vx,wt=I-Ne.y-Ne.vy,Ce=st*st+wt*wt;Ce<Be*Be&&(0===st&&(Ce+=(st=Wi())*st),0===wt&&(Ce+=(wt=Wi())*wt),Ce=(Be-(Ce=Math.sqrt(Ce)))/Ce*r,C.vx+=(st*=Ce)*(Be=(it*=it)/(k+it)),C.vy+=(wt*=Ce)*Be,Ne.vx-=st*(Be=1-Be),Ne.vy-=wt*Be)}}}function o(u){if(u.data)return u.r=n[u.data.index];for(var l=u.r=0;l<4;++l)u[l]&&u[l].r>u.r&&(u.r=u[l].r)}function a(){if(t){var u,y,l=t.length;for(n=new Array(l),u=0;u<l;++u)n[(y=t[u]).index]=+e(y,u,t)}}return"function"!=typeof e&&(e=Yt(null==e?1:+e)),s.initialize=function(u){t=u,a()},s.iterations=function(u){return arguments.length?(i=+u,s):i},s.strength=function(u){return arguments.length?(r=+u,s):r},s.radius=function(u){return arguments.length?(e="function"==typeof u?u:Yt(+u),a(),s):e},s}En.copy=function(){var n,r,e=new am(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=p1(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=p1(r));return e},En.add=function kj(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return h1(this.cover(t,n),t,n,e)},En.addAll=function Lj(e){var t,n,i,s,r=e.length,o=new Array(r),a=new Array(r),u=1/0,l=1/0,y=-1/0,C=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<u&&(u=i),i>y&&(y=i),s<l&&(l=s),s>C&&(C=s));if(u>y||l>C)return this;for(this.cover(u,l).cover(y,C),n=0;n<r;++n)h1(this,o[n],a[n],e[n]);return this},En.cover=function Vj(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var u,l,o=i-n,a=this._root;n>e||e>=i||r>t||t>=s;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=a,a=u,o*=2,l){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this},En.data=function Bj(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},En.extent=function jj(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},En.find=function $j(e,t,n){var r,o,a,u,l,O,k,i=this._x0,s=this._y0,y=this._x1,C=this._y1,M=[],I=this._root;for(I&&M.push(new Dn(I,i,s,y,C)),null==n?n=1/0:(i=e-n,s=t-n,y=e+n,C=t+n,n*=n);O=M.pop();)if(!(!(I=O.node)||(o=O.x0)>y||(a=O.y0)>C||(u=O.x1)<i||(l=O.y1)<s))if(I.length){var j=(o+u)/2,Z=(a+l)/2;M.push(new Dn(I[3],j,Z,u,l),new Dn(I[2],o,Z,j,l),new Dn(I[1],j,a,u,Z),new Dn(I[0],o,a,j,Z)),(k=(t>=Z)<<1|e>=j)&&(O=M[M.length-1],M[M.length-1]=M[M.length-1-k],M[M.length-1-k]=O)}else{var ee=e-+this._x.call(null,I.data),Q=t-+this._y.call(null,I.data),ae=ee*ee+Q*Q;if(ae<n){var ye=Math.sqrt(n=ae);i=e-ye,s=t-ye,y=e+ye,C=t+ye,r=I.data}}return r},En.remove=function Uj(e){if(isNaN(y=+this._x.call(null,e))||isNaN(C=+this._y.call(null,e)))return this;var t,r,i,s,y,C,M,I,O,k,j,Z,n=this._root,o=this._x0,a=this._y0,u=this._x1,l=this._y1;if(!n)return this;if(n.length)for(;;){if((O=y>=(M=(o+u)/2))?o=M:u=M,(k=C>=(I=(a+l)/2))?a=I:l=I,t=n,!(n=n[j=k<<1|O]))return this;if(!n.length)break;(t[j+1&3]||t[j+2&3]||t[j+3&3])&&(r=t,Z=j)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[j]=s:delete t[j],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[Z]=n:this._root=n),this):(this._root=s,this)},En.removeAll=function Hj(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},En.root=function Gj(){return this._root},En.size=function zj(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},En.visit=function Wj(e){var n,i,s,o,a,u,t=[],r=this._root;for(r&&t.push(new Dn(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,u=n.y1)&&r.length){var l=(s+a)/2,y=(o+u)/2;(i=r[3])&&t.push(new Dn(i,l,y,a,u)),(i=r[2])&&t.push(new Dn(i,s,y,l,u)),(i=r[1])&&t.push(new Dn(i,l,o,a,y)),(i=r[0])&&t.push(new Dn(i,s,o,l,y))}return this},En.visitAfter=function Kj(e){var r,t=[],n=[];for(this._root&&t.push(new Dn(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,u=r.x1,l=r.y1,y=(o+u)/2,C=(a+l)/2;(s=i[0])&&t.push(new Dn(s,o,a,y,C)),(s=i[1])&&t.push(new Dn(s,y,a,u,C)),(s=i[2])&&t.push(new Dn(s,o,C,y,l)),(s=i[3])&&t.push(new Dn(s,y,C,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this},En.x=function Qj(e){return arguments.length?(this._x=e,this):this._x},En.y=function Xj(e){return arguments.length?(this._y=e,this):this._y};var lr="$";function od(){}function m1(e,t){var n=new od;if(e instanceof od)e.each(function(a,u){n.set(u,a)});else if(Array.isArray(e)){var s,r=-1,i=e.length;if(null==t)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(s=e[r],r,e),s)}else if(e)for(var o in e)n.set(o,e[o]);return n}od.prototype=m1.prototype={constructor:od,has:function(e){return lr+e in this},get:function(e){return this[lr+e]},set:function(e,t){return this[lr+e]=t,this},remove:function(e){var t=lr+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===lr&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===lr&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===lr&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===lr&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===lr&&++e;return e},empty:function(){for(var e in this)if(e[0]===lr)return!1;return!0},each:function(e){for(var t in this)t[0]===lr&&e(this[t],t.slice(1),this)}};const um=m1;function ad(){}var xs=um.prototype;function r$(e){return e.index}function _1(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function w1(e){var r,s,o,a,u,t=r$,n=function y(k){return 1/Math.min(a[k.source.index],a[k.target.index])},i=Yt(30),l=1;function C(k){for(var j=0,Z=e.length;j<l;++j)for(var Q,ae,ye,De,Ne,it,Be,ee=0;ee<Z;++ee)De=(ye=(Q=e[ee]).target).x+ye.vx-(ae=Q.source).x-ae.vx||Wi(),Ne=ye.y+ye.vy-ae.y-ae.vy||Wi(),Ne*=it=((it=Math.sqrt(De*De+Ne*Ne))-s[ee])/it*k*r[ee],ye.vx-=(De*=it)*(Be=u[ee]),ye.vy-=Ne*Be,ae.vx+=De*(Be=1-Be),ae.vy+=Ne*Be}function M(){if(o){var k,Q,j=o.length,Z=e.length,ee=um(o,t);for(k=0,a=new Array(j);k<Z;++k)(Q=e[k]).index=k,"object"!=typeof Q.source&&(Q.source=_1(ee,Q.source)),"object"!=typeof Q.target&&(Q.target=_1(ee,Q.target)),a[Q.source.index]=(a[Q.source.index]||0)+1,a[Q.target.index]=(a[Q.target.index]||0)+1;for(k=0,u=new Array(Z);k<Z;++k)u[k]=a[(Q=e[k]).source.index]/(a[Q.source.index]+a[Q.target.index]);r=new Array(Z),I(),s=new Array(Z),O()}}function I(){if(o)for(var k=0,j=e.length;k<j;++k)r[k]=+n(e[k],k,e)}function O(){if(o)for(var k=0,j=e.length;k<j;++k)s[k]=+i(e[k],k,e)}return null==e&&(e=[]),C.initialize=function(k){o=k,M()},C.links=function(k){return arguments.length?(e=k,M(),C):e},C.id=function(k){return arguments.length?(t=k,C):t},C.iterations=function(k){return arguments.length?(l=+k,C):l},C.strength=function(k){return arguments.length?(n="function"==typeof k?k:Yt(+k),I(),C):n},C.distance=function(k){return arguments.length?(i="function"==typeof k?k:Yt(+k),O(),C):i},C}function i$(e){return e.x}function s$(e){return e.y}ad.prototype=function n$(e,t){var n=new ad;if(e instanceof ad)e.each(function(s){n.add(s)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}.prototype={constructor:ad,has:xs.has,add:function(e){return this[lr+(e+="")]=e,this},remove:xs.remove,clear:xs.clear,values:xs.keys,size:xs.size,empty:xs.empty,each:xs.each};var a$=Math.PI*(3-Math.sqrt(5));function b1(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=um(),u=Xc(y),l=Wg("tick","end");function y(){C(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function C(O){var k,Z,j=e.length;void 0===O&&(O=1);for(var ee=0;ee<O;++ee)for(n+=(s-n)*i,a.each(function(Q){Q(n)}),k=0;k<j;++k)null==(Z=e[k]).fx?Z.x+=Z.vx*=o:(Z.x=Z.fx,Z.vx=0),null==Z.fy?Z.y+=Z.vy*=o:(Z.y=Z.fy,Z.vy=0);return t}function M(){for(var j,O=0,k=e.length;O<k;++O){if((j=e[O]).index=O,null!=j.fx&&(j.x=j.fx),null!=j.fy&&(j.y=j.fy),isNaN(j.x)||isNaN(j.y)){var Z=10*Math.sqrt(O),ee=O*a$;j.x=Z*Math.cos(ee),j.y=Z*Math.sin(ee)}(isNaN(j.vx)||isNaN(j.vy))&&(j.vx=j.vy=0)}}function I(O){return O.initialize&&O.initialize(e),O}return null==e&&(e=[]),M(),t={tick:C,restart:function(){return u.restart(y),t},stop:function(){return u.stop(),t},nodes:function(O){return arguments.length?(e=O,M(),a.each(I),t):e},alpha:function(O){return arguments.length?(n=+O,t):n},alphaMin:function(O){return arguments.length?(r=+O,t):r},alphaDecay:function(O){return arguments.length?(i=+O,t):+i},alphaTarget:function(O){return arguments.length?(s=+O,t):s},velocityDecay:function(O){return arguments.length?(o=1-O,t):1-o},force:function(O,k){return arguments.length>1?(null==k?a.remove(O):a.set(O,I(k)),t):a.get(O)},find:function(O,k,j){var Q,ae,ye,De,Ne,Z=0,ee=e.length;for(null==j?j=1/0:j*=j,Z=0;Z<ee;++Z)(ye=(Q=O-(De=e[Z]).x)*Q+(ae=k-De.y)*ae)<j&&(Ne=De,j=ye);return Ne},on:function(O,k){return arguments.length>1?(l.on(O,k),t):l.on(O)}}}function D1(){var e,t,n,i,r=Yt(-30),s=1,o=1/0,a=.81;function u(M){var I,O=e.length,k=om(e,i$,s$).visitAfter(y);for(n=M,I=0;I<O;++I)t=e[I],k.visit(C)}function l(){if(e){var M,O,I=e.length;for(i=new Array(I),M=0;M<I;++M)i[(O=e[M]).index]=+r(O,M,e)}}function y(M){var O,k,Z,ee,Q,I=0,j=0;if(M.length){for(Z=ee=Q=0;Q<4;++Q)(O=M[Q])&&(k=Math.abs(O.value))&&(I+=O.value,j+=k,Z+=k*O.x,ee+=k*O.y);M.x=Z/j,M.y=ee/j}else{(O=M).x=O.data.x,O.y=O.data.y;do{I+=i[O.data.index]}while(O=O.next)}M.value=I}function C(M,I,O,k){if(!M.value)return!0;var j=M.x-t.x,Z=M.y-t.y,ee=k-I,Q=j*j+Z*Z;if(ee*ee/a<Q)return Q<o&&(0===j&&(Q+=(j=Wi())*j),0===Z&&(Q+=(Z=Wi())*Z),Q<s&&(Q=Math.sqrt(s*Q)),t.vx+=j*M.value*n/Q,t.vy+=Z*M.value*n/Q),!0;if(!(M.length||Q>=o)){(M.data!==t||M.next)&&(0===j&&(Q+=(j=Wi())*j),0===Z&&(Q+=(Z=Wi())*Z),Q<s&&(Q=Math.sqrt(s*Q)));do{M.data!==t&&(t.vx+=j*(ee=i[M.data.index]*n/Q),t.vy+=Z*ee)}while(M=M.next)}}return u.initialize=function(M){e=M,l()},u.strength=function(M){return arguments.length?(r="function"==typeof M?M:Yt(+M),l(),u):r},u.distanceMin=function(M){return arguments.length?(s=M*M,u):Math.sqrt(s)},u.distanceMax=function(M){return arguments.length?(o=M*M,u):Math.sqrt(o)},u.theta=function(M){return arguments.length?(a=M*M,u):Math.sqrt(a)},u}function u$(e,t,n){var r,s,o,i=Yt(.1);function a(l){for(var y=0,C=r.length;y<C;++y){var M=r[y],I=M.x-t||1e-6,O=M.y-n||1e-6,k=Math.sqrt(I*I+O*O),j=(o[y]-k)*s[y]*l/k;M.vx+=I*j,M.vy+=O*j}}function u(){if(r){var l,y=r.length;for(s=new Array(y),o=new Array(y),l=0;l<y;++l)o[l]=+e(r[l],l,r),s[l]=isNaN(o[l])?0:+i(r[l],l,r)}}return"function"!=typeof e&&(e=Yt(+e)),null==t&&(t=0),null==n&&(n=0),a.initialize=function(l){r=l,u()},a.strength=function(l){return arguments.length?(i="function"==typeof l?l:Yt(+l),u(),a):i},a.radius=function(l){return arguments.length?(e="function"==typeof l?l:Yt(+l),u(),a):e},a.x=function(l){return arguments.length?(t=+l,a):t},a.y=function(l){return arguments.length?(n=+l,a):n},a}function l$(e){var n,r,i,t=Yt(.1);function s(a){for(var y,u=0,l=n.length;u<l;++u)(y=n[u]).vx+=(i[u]-y.x)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=Yt(null==e?0:+e)),s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t="function"==typeof a?a:Yt(+a),o(),s):t},s.x=function(a){return arguments.length?(e="function"==typeof a?a:Yt(+a),o(),s):e},s}function c$(e){var n,r,i,t=Yt(.1);function s(a){for(var y,u=0,l=n.length;u<l;++u)(y=n[u]).vy+=(i[u]-y.y)*r[u]*a}function o(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=Yt(null==e?0:+e)),s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t="function"==typeof a?a:Yt(+a),o(),s):t},s.y=function(a){return arguments.length?(e="function"==typeof a?a:Yt(+a),o(),s):e},s}var d$=c(7824);function f$(e,t,n){var r=new Cu,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Eu():+n,r.restart(function s(o){o+=i,r.restart(s,i+=t,n),e(o)},t,n),r)}const h$=["linkTemplate"],p$=["nodeTemplate"],g$=["clusterTemplate"],m$=["defsTemplate"],y$=["miniMapNodeTemplate"],v$=["nodeElement"],_$=["linkElement"];function w$(e,t){1&e&&(pt(),Fi(0,14)),2&e&&ze("ngTemplateOutlet",Qe(2).defsTemplate)}function b$(e,t){if(1&e&&(pt(),On(0,"path",15)),2&e){const n=t.$implicit;rt("d",n.textPath)("id",n.id)}}const Nu=function(e){return{$implicit:e}};function D$(e,t){if(1&e&&(pt(),Fi(0,20)),2&e){const n=Qe().$implicit;ze("ngTemplateOutlet",Qe(2).clusterTemplate)("ngTemplateOutletContext",bo(2,Nu,n))}}function E$(e,t){if(1&e&&(pt(),et(0,"g",21),On(1,"rect"),et(2,"text",22),jr(3),ft()()),2&e){const n=Qe().$implicit;Re(1),rt("width",n.dimension.width)("height",n.dimension.height)("fill",null==n.data?null:n.data.color),Re(1),rt("x",10)("y",n.dimension.height/2),Re(1),nr(" ",n.label," ")}}function C$(e,t){if(1&e){const n=mo();pt(),et(0,"g",16,17),Ct("click",function(){const s=Pr(n).$implicit;return Fr(Qe(2).onClick(s))}),gt(2,D$,1,4,"ng-container",18),gt(3,E$,4,6,"g",19),ft()}if(2&e){const n=t.$implicit,r=Qe(2);Ri("old-node",r.animate&&r.oldClusters.has(n.id)),ze("id",n.id),rt("transform",n.transform),Re(2),ze("ngIf",r.clusterTemplate),Re(1),ze("ngIf",!r.clusterTemplate)}}function x$(e,t){if(1&e&&(pt(),Fi(0,20)),2&e){const n=Qe().$implicit;ze("ngTemplateOutlet",Qe(2).linkTemplate)("ngTemplateOutletContext",bo(2,Nu,n))}}function S$(e,t){1&e&&(pt(),On(0,"path",26)),2&e&&rt("d",Qe().$implicit.line)}function M$(e,t){if(1&e&&(pt(),et(0,"g",23,24),gt(2,x$,1,4,"ng-container",18),gt(3,S$,1,1,"path",25),ft()),2&e){const n=t.$implicit,r=Qe(2);ze("id",n.id),Re(2),ze("ngIf",r.linkTemplate),Re(1),ze("ngIf",!r.linkTemplate)}}function A$(e,t){if(1&e&&(pt(),Fi(0,20)),2&e){const n=Qe().$implicit;ze("ngTemplateOutlet",Qe(2).nodeTemplate)("ngTemplateOutletContext",bo(2,Nu,n))}}function T$(e,t){if(1&e&&(pt(),On(0,"circle",30)),2&e){const n=Qe().$implicit;rt("cx",n.dimension.width/2)("cy",n.dimension.height/2)("fill",null==n.data?null:n.data.color)}}function I$(e,t){if(1&e){const n=mo();pt(),et(0,"g",27,28),Ct("click",function(){const s=Pr(n).$implicit;return Fr(Qe(2).onClick(s))})("mousedown",function(i){const o=Pr(n).$implicit;return Fr(Qe(2).onNodeMouseDown(i,o))}),gt(2,A$,1,4,"ng-container",18),gt(3,T$,1,3,"circle",29),ft()}if(2&e){const n=t.$implicit,r=Qe(2);Ri("old-node",r.animate&&r.oldNodes.has(n.id)),ze("id",n.id),rt("transform",n.transform),Re(2),ze("ngIf",r.nodeTemplate),Re(1),ze("ngIf",!r.nodeTemplate)}}function N$(e,t){if(1&e){const n=mo();pt(),et(0,"g",4),Ct("touchstart",function(i){return Pr(n),Fr(Qe().onTouchStart(i))})("touchend",function(i){return Pr(n),Fr(Qe().onTouchEnd(i))}),et(1,"defs"),gt(2,w$,1,1,"ng-container",5),gt(3,b$,1,2,"path",6),ft(),et(4,"rect",7),Ct("mousedown",function(){return Pr(n),Fr(Qe().isPanning=!0)}),ft(),function C0(e,t=0,n){const r=fe(),i=nt(),s=io(i,22+e,16,null,n||null);null===s.projection&&(s.projection=t),nf(),64!=(64&s.flags)&&function qT(e,t,n){Uv(t[11],0,t,n,Pv(e,n,t),Lv(n.parent||t[6],n,t))}(i,r,s)}(5),et(6,"g",8),gt(7,C$,4,6,"g",9),ft(),et(8,"g",10),gt(9,M$,4,3,"g",11),ft(),et(10,"g",12),gt(11,I$,4,6,"g",13),ft()()}if(2&e){const n=Qe();rt("transform",n.transform),Re(2),ze("ngIf",n.defsTemplate),Re(1),ze("ngForOf",n.graph.edges),Re(1),rt("width",100*n.dims.width)("height",100*n.dims.height)("transform","translate("+50*(-n.dims.width||0)+","+50*(-n.dims.height||0)+")"),Re(3),ze("ngForOf",n.graph.clusters)("ngForTrackBy",n.trackNodeBy),Re(2),ze("ngForOf",n.graph.edges)("ngForTrackBy",n.trackLinkBy),Re(2),ze("ngForOf",n.graph.nodes)("ngForTrackBy",n.trackNodeBy)}}function O$(e,t){if(1&e&&(pt(),Fi(0,20)),2&e){const n=Qe().$implicit;ze("ngTemplateOutlet",Qe(2).miniMapNodeTemplate)("ngTemplateOutletContext",bo(2,Nu,n))}}function P$(e,t){if(1&e&&(pt(),Fi(0,20)),2&e){const n=Qe().$implicit;ze("ngTemplateOutlet",Qe(2).nodeTemplate)("ngTemplateOutletContext",bo(2,Nu,n))}}function F$(e,t){if(1&e&&(pt(),On(0,"circle",30)),2&e){const n=Qe().$implicit,r=Qe(2);rt("cx",n.dimension.width/2/r.minimapScaleCoefficient)("cy",n.dimension.height/2/r.minimapScaleCoefficient)("fill",null==n.data?null:n.data.color)}}function R$(e,t){if(1&e&&(pt(),et(0,"g",36,28),gt(2,O$,1,4,"ng-container",18),gt(3,P$,1,4,"ng-container",18),gt(4,F$,1,3,"circle",29),ft()),2&e){const n=t.$implicit,r=Qe(2);Ri("old-node",r.animate&&r.oldNodes.has(n.id)),ze("id",n.id),rt("transform",n.transform),Re(2),ze("ngIf",r.miniMapNodeTemplate),Re(1),ze("ngIf",!r.miniMapNodeTemplate&&r.nodeTemplate),Re(1),ze("ngIf",!r.nodeTemplate&&!r.miniMapNodeTemplate)}}function k$(e,t){if(1&e){const n=mo();pt(),et(0,"g",31)(1,"rect",32),Ct("mousedown",function(i){return Pr(n),Fr(Qe().onMinimapPanTo(i))}),ft(),et(2,"g")(3,"g",33),gt(4,R$,5,7,"g",34),ft(),et(5,"rect",35),Ct("mousedown",function(){return Pr(n),Fr(Qe().onMinimapDragMouseDown())}),ft()()()}if(2&e){const n=Qe();rt("transform",n.minimapTransform)("clip-path","url(#"+n.minimapClipPathId+")"),Re(1),rt("width",n.graphDims.width/n.minimapScaleCoefficient)("height",n.graphDims.height/n.minimapScaleCoefficient),Re(1),vo("transform","translate("+-n.minimapOffsetX/n.minimapScaleCoefficient+"px,"+-n.minimapOffsetY/n.minimapScaleCoefficient+"px)"),Re(1),vo("transform","scale("+1/n.minimapScaleCoefficient+")"),Re(1),ze("ngForOf",n.graph.nodes)("ngForTrackBy",n.trackNodeBy),Re(1),Ri("panning",n.isMinimapPanning),rt("transform","translate("+n.panOffsetX/n.zoomLevel/-n.minimapScaleCoefficient+","+n.panOffsetY/n.zoomLevel/-n.minimapScaleCoefficient+")")("width",n.width/n.minimapScaleCoefficient/n.zoomLevel)("height",n.height/n.minimapScaleCoefficient/n.zoomLevel)}}const L$=["*"],E1={};function Di(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,E1[e]?Di():(E1[e]=!0,e)}var $o=(()=>{return(e=$o||($o={})).Both="both",e.Horizontal="horizontal",e.Vertical="vertical",$o;var e})(),Uo=(()=>{return(e=Uo||(Uo={})).UpperLeft="UpperLeft",e.UpperRight="UpperRight",Uo;var e})();function V$(e,t,n){n=n||{};let r,i,s,o=null,a=0;function u(){a=!1===n.leading?0:+new Date,o=null,s=e.apply(r,i)}return function(...l){const y=+new Date;!a&&!1===n.leading&&(a=y);const C=t-(y-a);return r=this,i=l,C<=0?(clearTimeout(o),o=null,a=y,s=e.apply(r,i)):!o&&!1!==n.trailing&&(o=setTimeout(u,C)),s}}function B$(e,t){return function(r,i,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:s.enumerable,value:V$(s.value,e,t)}),this[i]}}}}const C1=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class j${constructor(t,n,r){"string"==typeof t&&(t=C1.find(i=>i.name===t)),this.colorDomain=t.domain,this.domain=n,this.customColors=r,this.scale=this.generateColorScheme(t,this.domain)}generateColorScheme(t,n){return"string"==typeof t&&(t=C1.find(r=>r.name===t)),f1().range(t.domain).domain(n)}getColor(t){if(null==t)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(t);const n=t.toString();let r;return this.customColors&&this.customColors.length>0&&(r=this.customColors.find(i=>i.name.toLowerCase()===n.toLowerCase())),r?r.value:this.scale(t)}}let U$=(()=>{class e{constructor(n,r){this.element=n,this.zone=r,this.visible=new lt,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const n=()=>{if(!this.element)return;const{offsetHeight:r,offsetWidth:i}=this.element.nativeElement;r&&i?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}}return e.\u0275fac=function(n){return new(n||e)(ce(_n),ce(Tt))},e.\u0275dir=Fe({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();var Ho=(()=>{return(e=Ho||(Ho={})).LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",Ho;var e})();function Go(e){return"string"==typeof e?{id:e,x:0,y:0}:e}function S1(e,t){return"number"==typeof t?e[t]:t}const M1={dagre:class H${constructor(){this.defaultSettings={orientation:Ho.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(t){this.createDagreGraph(t),jo.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(const n in this.dagreGraph._nodes){const r=this.dagreGraph._nodes[n],i=t.nodes.find(s=>s.id===r.id);i.position={x:r.x,y:r.y},i.dimension={width:r.width,height:r.height}}return t}updateEdge(t,n){const r=t.nodes.find(u=>u.id===n.source),i=t.nodes.find(u=>u.id===n.target),s=r.position.y<=i.position.y?-1:1;return n.points=[{x:r.position.x,y:r.position.y-s*(r.dimension.height/2)},{x:i.position.x,y:i.position.y+s*(i.dimension.height/2)}],t}createDagreGraph(t){const n=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new jo.graphlib.Graph({compound:n.compound,multigraph:n.multigraph}),this.dagreGraph.setGraph({rankdir:n.orientation,marginx:n.marginX,marginy:n.marginY,edgesep:n.edgePadding,ranksep:n.rankPadding,nodesep:n.nodePadding,align:n.align,acyclicer:n.acyclicer,ranker:n.ranker,multigraph:n.multigraph,compound:n.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(r=>{const i=Object.assign({},r);return i.width=r.dimension.width,i.height=r.dimension.height,i.x=r.position.x,i.y=r.position.y,i}),this.dagreEdges=t.edges.map(r=>{const i=Object.assign({},r);return i.id||(i.id=Di()),i});for(const r of this.dagreNodes)r.width||(r.width=20),r.height||(r.height=30),this.dagreGraph.setNode(r.id,r);for(const r of this.dagreEdges)n.multigraph?this.dagreGraph.setEdge(r.source,r.target,r,r.id):this.dagreGraph.setEdge(r.source,r.target);return this.dagreGraph}},dagreCluster:class G${constructor(){this.defaultSettings={orientation:Ho.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(t){this.createDagreGraph(t),jo.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;const n=r=>{const i=this.dagreGraph._nodes[r.id];return{...r,position:{x:i.x,y:i.y},dimension:{width:i.width,height:i.height}}};return t.clusters=(t.clusters||[]).map(n),t.nodes=t.nodes.map(n),t}updateEdge(t,n){const r=t.nodes.find(u=>u.id===n.source),i=t.nodes.find(u=>u.id===n.target),s=r.position.y<=i.position.y?-1:1;return n.points=[{x:r.position.x,y:r.position.y-s*(r.dimension.height/2)},{x:i.position.x,y:i.position.y+s*(i.dimension.height/2)}],t}createDagreGraph(t){const n=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new jo.graphlib.Graph({compound:n.compound,multigraph:n.multigraph}),this.dagreGraph.setGraph({rankdir:n.orientation,marginx:n.marginX,marginy:n.marginY,edgesep:n.edgePadding,ranksep:n.rankPadding,nodesep:n.nodePadding,align:n.align,acyclicer:n.acyclicer,ranker:n.ranker,multigraph:n.multigraph,compound:n.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(r=>{const i=Object.assign({},r);return i.width=r.dimension.width,i.height=r.dimension.height,i.x=r.position.x,i.y=r.position.y,i}),this.dagreClusters=t.clusters||[],this.dagreEdges=t.edges.map(r=>{const i=Object.assign({},r);return i.id||(i.id=Di()),i});for(const r of this.dagreNodes)this.dagreGraph.setNode(r.id,r);for(const r of this.dagreClusters)this.dagreGraph.setNode(r.id,r),r.childNodeIds.forEach(i=>{this.dagreGraph.setParent(i,r.id)});for(const r of this.dagreEdges)n.multigraph?this.dagreGraph.setEdge(r.source,r.target,r,r.id):this.dagreGraph.setEdge(r.source,r.target);return this.dagreGraph}},dagreNodesOnly:class W${constructor(){this.defaultSettings={orientation:Ho.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(t){this.createDagreGraph(t),jo.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(const n in this.dagreGraph._nodes){const r=this.dagreGraph._nodes[n],i=t.nodes.find(s=>s.id===r.id);i.position={x:r.x,y:r.y},i.dimension={width:r.width,height:r.height}}for(const n of t.edges)this.updateEdge(t,n);return t}updateEdge(t,n){const r=t.nodes.find(O=>O.id===n.source),i=t.nodes.find(O=>O.id===n.target),s="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",o="y"===s?"x":"y",a="y"===s?"height":"width",u=r.position[s]<=i.position[s]?-1:1,l={[o]:r.position[o],[s]:r.position[s]-u*(r.dimension[a]/2)},y={[o]:i.position[o],[s]:i.position[s]+u*(i.dimension[a]/2)},C=this.settings.curveDistance||this.defaultSettings.curveDistance;n.points=[l,{[o]:l[o],[s]:l[s]-u*C},{[o]:y[o],[s]:y[s]+u*C},y];const I=t.edgeLabels[`${n.source}\x01${n.target}\x01\0`];return I&&(I.points=n.points),t}createDagreGraph(t){const n=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new jo.graphlib.Graph({compound:n.compound,multigraph:n.multigraph}),this.dagreGraph.setGraph({rankdir:n.orientation,marginx:n.marginX,marginy:n.marginY,edgesep:n.edgePadding,ranksep:n.rankPadding,nodesep:n.nodePadding,align:n.align,acyclicer:n.acyclicer,ranker:n.ranker,multigraph:n.multigraph,compound:n.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(r=>{const i=Object.assign({},r);return i.width=r.dimension.width,i.height=r.dimension.height,i.x=r.position.x,i.y=r.position.y,i}),this.dagreEdges=t.edges.map(r=>{const i=Object.assign({},r);return i.id||(i.id=Di()),i});for(const r of this.dagreNodes)r.width||(r.width=20),r.height||(r.height=30),this.dagreGraph.setNode(r.id,r);for(const r of this.dagreEdges)n.multigraph?this.dagreGraph.setEdge(r.source,r.target,r,r.id):this.dagreGraph.setEdge(r.source,r.target);return this.dagreGraph}},d3ForceDirected:class K${constructor(){this.defaultSettings={force:b1().force("charge",D1().strength(-150)).force("collide",g1(5)),forceLink:w1().id(t=>t.id).distance(()=>100)},this.settings={},this.outputGraph$=new re}run(t){return this.inputGraph=t,this.d3Graph={nodes:[...this.inputGraph.nodes.map(n=>({...n}))],edges:[...this.inputGraph.edges.map(n=>({...n}))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(t,n){const r=Object.assign({},this.defaultSettings,this.settings);return r.force&&r.force.nodes(this.d3Graph.nodes).force("link",r.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(t){return this.outputGraph.nodes=this.d3Graph.nodes.map(n=>({...n,id:n.id||Di(),position:{x:n.x,y:n.y},dimension:{width:n.dimension&&n.dimension.width||20,height:n.dimension&&n.dimension.height||20},transform:`translate(${n.x-(n.dimension&&n.dimension.width||20)/2||0}, ${n.y-(n.dimension&&n.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(n=>({...n,source:Go(n.source).id,target:Go(n.target).id,points:[{x:Go(n.source).x,y:Go(n.source).y},{x:Go(n.target).x,y:Go(n.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,n){this.settings.force.alphaTarget(.3).restart();const r=this.d3Graph.nodes.find(i=>i.id===t.id);!r||(this.draggingStart={x:n.x-r.x,y:n.y-r.y},r.fx=n.x-this.draggingStart.x,r.fy=n.y-this.draggingStart.y)}onDrag(t,n){if(!t)return;const r=this.d3Graph.nodes.find(i=>i.id===t.id);!r||(r.fx=n.x-this.draggingStart.x,r.fy=n.y-this.draggingStart.y)}onDragEnd(t,n){if(!t)return;const r=this.d3Graph.nodes.find(i=>i.id===t.id);!r||(this.settings.force.alphaTarget(0),r.fx=void 0,r.fy=void 0)}},colaForceDirected:class Y${constructor(){this.defaultSettings={force:(0,d$.d3adaptor)({...b,...D,...E}).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new re}run(t){return this.inputGraph=t,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(n=>({...n,width:n.dimension?n.dimension.width:20,height:n.dimension?n.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(n=>({padding:5,groups:n.childNodeIds.map(r=>this.inputGraph.clusters.findIndex(i=>i.id===r)).filter(r=>r>=0),leaves:n.childNodeIds.map(r=>this.inputGraph.nodes.findIndex(i=>i.id===r)).filter(r=>r>=0)}))],links:[...this.inputGraph.edges.map(n=>{const r=this.inputGraph.nodes.findIndex(s=>n.source===s.id),i=this.inputGraph.nodes.findIndex(s=>n.target===s.id);if(-1!==r&&-1!==i)return{...n,source:r,target:i}}).filter(n=>!!n)],groupLinks:[...this.inputGraph.edges.map(n=>{const r=this.inputGraph.nodes.findIndex(s=>n.source===s.id),i=this.inputGraph.nodes.findIndex(s=>n.target===s.id);if(!(r>=0&&i>=0))return n}).filter(n=>!!n)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(t,n){const r=Object.assign({},this.defaultSettings,this.settings);return r.force&&r.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(t){return this.outputGraph.nodes=t.nodes.map(n=>({...n,id:n.id||Di(),position:{x:n.x,y:n.y},dimension:{width:n.dimension&&n.dimension.width||20,height:n.dimension&&n.dimension.height||20},transform:`translate(${n.x-(n.dimension&&n.dimension.width||20)/2||0}, ${n.y-(n.dimension&&n.dimension.height||20)/2||0})`})),this.outputGraph.edges=t.links.map(n=>{const r=S1(t.nodes,n.source),i=S1(t.nodes,n.target);return{...n,source:r.id,target:i.id,points:[r.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy()),i.bounds.rayIntersection(r.bounds.cx(),r.bounds.cy())]}}).concat(t.groupLinks.map(n=>{const r=t.nodes.find(a=>a.id===n.source),i=t.nodes.find(a=>a.id===n.target),s=r||t.groups.find(a=>a.id===n.source),o=i||t.groups.find(a=>a.id===n.target);return{...n,source:s.id,target:o.id,points:[s.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy()),o.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy())]}})),this.outputGraph.clusters=t.groups.map((n,r)=>({...this.inputGraph.clusters[r],dimension:{width:n.bounds?n.bounds.width():20,height:n.bounds?n.bounds.height():20},position:{x:n.bounds?n.bounds.x+n.bounds.width()/2:0,y:n.bounds?n.bounds.y+n.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,n){const r=this.outputGraph.nodes.findIndex(s=>s.id===t.id),i=this.internalGraph.nodes[r];!i||(this.draggingStart={x:i.x-n.x,y:i.y-n.y},i.fixed=1,this.settings.force.start())}onDrag(t,n){if(!t)return;const r=this.outputGraph.nodes.findIndex(s=>s.id===t.id),i=this.internalGraph.nodes[r];!i||(i.x=this.draggingStart.x+n.x,i.y=this.draggingStart.y+n.y)}onDragEnd(t,n){if(!t)return;const r=this.outputGraph.nodes.findIndex(s=>s.id===t.id),i=this.internalGraph.nodes[r];!i||(i.fixed=0)}}};let A1=(()=>{class e{getLayout(n){if(M1[n])return new M1[n];throw new Error(`Unknown layout type '${n}'`)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Q$=(()=>{class e{constructor(){this.mouseWheelUp=new lt,this.mouseWheelDown=new lt}onMouseWheelChrome(n){this.mouseWheelFunc(n)}onMouseWheelFirefox(n){this.mouseWheelFunc(n)}onWheel(n){this.mouseWheelFunc(n)}onMouseWheelIE(n){this.mouseWheelFunc(n)}mouseWheelFunc(n){window.event&&(n=window.event);const r=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail||n.deltaY||n.deltaX)),s=n.wheelDelta?r<0:r>0;(n.wheelDelta?r>0:r<0)?this.mouseWheelUp.emit(n):s&&this.mouseWheelDown.emit(n),n.returnValue=!1,n.preventDefault&&n.preventDefault()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Fe({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(n,r){1&n&&Ct("mousewheel",function(s){return r.onMouseWheelChrome(s)})("DOMMouseScroll",function(s){return r.onMouseWheelFirefox(s)})("wheel",function(s){return r.onWheel(s)})("onmousewheel",function(s){return r.onMouseWheelIE(s)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),e})(),Z$=(()=>{class e{constructor(n,r,i,s){this.el=n,this.zone=r,this.cd=i,this.layoutService=s,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=$o.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=Uo.UpperRight,this.scheme="cool",this.animations=!0,this.select=new lt,this.activate=new lt,this.deactivate=new lt,this.zoomChange=new lt,this.clickHandler=new lt,this.isMouseMoveCalled=!1,this.graphSubscription=new g,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=o=>o.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(n){this.zoomTo(Number(n))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(n){this.panTo(Number(n),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(n){this.panTo(null,Number(n))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(n=>{this.panToNodeId(n)})),this.minimapClipPathId=`minimapClip${Di()}`}ngOnChanges(n){this.basicUpdate();const{layoutSettings:i}=n;this.setLayout(this.layout),i&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(n){this.initialized=!1,n||(n="dagre"),"string"==typeof n&&(this.layout=this.layoutService.getLayout(n),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(n){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=n)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const n of this.subscriptions)n.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new U$(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=Cg.beta(1)),this.zone.run(()=>{this.dims=function $$({width:e,height:t}){let n=e,r=t;return n=Math.max(0,n),r=Math.max(0,r),{width:Math.floor(n),height:Math.floor(r)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new g;const n=r=>(r.meta||(r.meta={}),r.id||(r.id=Di()),r.dimension?r.meta.forceDimensions=void 0===r.meta.forceDimensions||r.meta.forceDimensions:(r.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},r.meta.forceDimensions=!1),r.position||(r.position={x:0,y:0}),r.data=r.data?r.data:{},r);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(n):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(n):[],edges:this.links.length>0?[...this.links].map(r=>(r.id||(r.id=Di()),r)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const n=this.layout.run(this.graph),r=n instanceof ie?n:Me(n);this.graphSubscription.add(r.subscribe(i=>{this.graph=i,this.tick()})),0!==this.graph.nodes.length&&r.pipe(mi()).subscribe(()=>this.applyNodeDimensions())}tick(){const n=new Set;this.graph.nodes.map(s=>{s.transform=`translate(${s.position.x-s.dimension.width/2||0}, ${s.position.y-s.dimension.height/2||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),n.add(s.id)});const r=new Set;(this.graph.clusters||[]).map(s=>{s.transform=`translate(${s.position.x-s.dimension.width/2||0}, ${s.position.y-s.dimension.height/2||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),r.add(s.id)}),setTimeout(()=>{this.oldNodes=n,this.oldClusters=r},500);const i=[];for(const s in this.graph.edgeLabels){const o=this.graph.edgeLabels[s],a=s.replace(/[^\w-]*/g,""),u=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let l=this._oldLinks.find(u?k=>`${k.source}${k.target}${k.id}`===a:k=>`${k.source}${k.target}`===a);const y=this.graph.edges.find(u?k=>`${k.source}${k.target}${k.id}`===a:k=>`${k.source}${k.target}`===a);l?l.data&&y&&y.data&&JSON.stringify(l.data)!==JSON.stringify(y.data)&&(l.data=y.data):l=y||o,l.oldLine=l.line;const C=o.points,M=this.generateLine(C),I=Object.assign({},l);I.line=M,I.points=C,this.updateMidpointOnEdge(I,C);const O=C[Math.floor(C.length/2)];O&&(I.textTransform=`translate(${O.x||0},${O.y||0})`),I.textAngle=0,I.oldLine||(I.oldLine=I.line),this.calcDominantBaseline(I),i.push(I)}this.graph.edges=i,this.graph.edges&&(this._oldLinks=this.graph.edges.map(s=>{const o=Object.assign({},s);return o.oldLine=s.line,o})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case Uo.UpperLeft:return"";case Uo.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let n=1/0,r=-1/0,i=1/0,s=-1/0;for(let o=0;o<this.graph.nodes.length;o++){const a=this.graph.nodes[o];n=a.position.x<n?a.position.x:n,i=a.position.y<i?a.position.y:i,r=a.position.x+a.dimension.width>r?a.position.x+a.dimension.width:r,s=a.position.y+a.dimension.height>s?a.position.y+a.dimension.height:s}n-=100,i-=100,r+=100,s+=100,this.graphDims.width=r-n,this.graphDims.height=s-i,this.minimapOffsetX=n,this.minimapOffsetY=i}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(n=>{const r=n.nativeElement,i=this.graph.nodes.find(o=>o.id===r.id);if(!i)return;let s;try{if(s=r.getBBox(),!s.width||!s.height)return}catch{return}if(i.dimension.height=this.nodeHeight?i.dimension.height&&i.meta.forceDimensions?i.dimension.height:this.nodeHeight:i.dimension.height&&i.meta.forceDimensions?i.dimension.height:s.height,this.nodeMaxHeight&&(i.dimension.height=Math.max(i.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(i.dimension.height=Math.min(i.dimension.height,this.nodeMinHeight)),this.nodeWidth)i.dimension.width=i.dimension.width&&i.meta.forceDimensions?i.dimension.width:this.nodeWidth;else if(r.getElementsByTagName("text").length){let o;try{for(const a of r.getElementsByTagName("text")){const u=a.getBBox();o?(u.width>o.width&&(o.width=u.width),u.height>o.height&&(o.height=u.height)):o=u}}catch{return}i.dimension.width=i.dimension.width&&i.meta.forceDimensions?i.dimension.width:o.width+20}else i.dimension.width=i.dimension.width&&i.meta.forceDimensions?i.dimension.width:s.width;this.nodeMaxWidth&&(i.dimension.width=Math.max(i.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(i.dimension.width=Math.min(i.dimension.width,this.nodeMinWidth))})}redrawLines(n=this.animate){this.linkElements.map(r=>{const i=this.graph.edges.find(s=>s.id===r.nativeElement.id);i&&(Sx(r.nativeElement).select(".line").attr("d",i.oldLine).transition().ease(Tx).duration(n?500:0).attr("d",i.line),Sx(this.el.nativeElement).select(`#${i.id}`).attr("d",i.oldTextPath).transition().ease(Tx).duration(n?500:0).attr("d",i.textPath),this.updateMidpointOnEdge(i,i.points))})}calcDominantBaseline(n){const r=n.points[0],i=n.points[n.points.length-1];n.oldTextPath=n.textPath,i.x<r.x?(n.dominantBaseline="text-before-edge",n.textPath=this.generateLine([...n.points].reverse())):(n.dominantBaseline="text-after-edge",n.textPath=n.line)}generateLine(n){return Hc().x(i=>i.x).y(i=>i.y).curve(this.curve)(n)}onZoom(n,r){if(this.enableTrackpadSupport&&!n.ctrlKey)return void this.pan(-1*n.deltaX,-1*n.deltaY);const i=1+("in"===r?this.zoomSpeed:-this.zoomSpeed),s=this.zoomLevel*i;if(!(s<=this.minZoomLevel||s>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&n){const o=n.clientX,a=n.clientY,u=this.el.nativeElement.querySelector("svg"),l=u.querySelector("g.chart"),y=u.createSVGPoint();y.x=o,y.y=a;const C=y.matrixTransform(l.getScreenCTM().inverse());this.pan(C.x,C.y,!0),this.zoom(i),this.pan(-C.x,-C.y,!0)}else this.zoom(i)}pan(n,r,i=!1){const s=i?1:this.zoomLevel;this.transformationMatrix=Iu(this.transformationMatrix,c1(n/s,r/s)),this.updateTransform()}panTo(n,r){null==n||isNaN(n)||null==r||isNaN(r)||(this.transformationMatrix=Iu(this.transformationMatrix,c1((-this.panOffsetX-n*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-r*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(n){this.transformationMatrix=Iu(this.transformationMatrix,function Aj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Mj(t)&&(t=e),{a:e,c:0,e:0,b:0,d:t,f:0}}(n,n)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(n){this.transformationMatrix.a=isNaN(n)?this.transformationMatrix.a:Number(n),this.transformationMatrix.d=isNaN(n)?this.transformationMatrix.d:Number(n),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(n){if(!this.draggingEnabled)return;const r=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(r,n),r.position.x+=n.movementX/this.zoomLevel,r.position.y+=n.movementY/this.zoomLevel,r.transform=`translate(${r.position.x-r.dimension.width/2}, ${r.position.y-r.dimension.height/2})`;for(const o of this.graph.edges)if((o.target===r.id||o.source===r.id||o.target.id===r.id||o.source.id===r.id)&&this.layout&&"string"!=typeof this.layout){const a=this.layout.updateEdge(this.graph,o),u=a instanceof ie?a:Me(a);this.graphSubscription.add(u.subscribe(l=>{this.graph=l,this.redrawEdge(o)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(n){const r=this.generateLine(n.points);this.calcDominantBaseline(n),n.oldLine=n.line,n.line=r}updateTransform(){this.transform=function Ij(e){return function l1(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}(e)}(function Pj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(e.a*t)/t,b:Math.round(e.b*t)/t,c:Math.round(e.c*t)/t,d:Math.round(e.d*t)/t,e:Math.round(e.e*t)/t,f:Math.round(e.f*t)/t}}(this.transformationMatrix,100))}onClick(n){this.select.emit(n)}onActivate(n){this.activeEntries.indexOf(n)>-1||(this.activeEntries=[n,...this.activeEntries],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n){const r=this.activeEntries.indexOf(n);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(n=>this.groupResultsBy(n)).reduce((n,r)=>-1!==n.indexOf(r)?n:n.concat([r]),[]).sort()}trackLinkBy(n,r){return r.id}trackNodeBy(n,r){return r.id}setColors(){this.colors=new j$(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(n){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,n):this.isDragging&&this.draggingEnabled&&this.onDrag(n)}onMouseDown(n){this.isMouseMoveCalled=!1}graphClick(n){this.isMouseMoveCalled||this.clickHandler.emit(n)}onTouchStart(n){this._touchLastX=n.changedTouches[0].clientX,this._touchLastY=n.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(n){if(this.isPanning&&this.panningEnabled){const r=n.changedTouches[0].clientX,i=n.changedTouches[0].clientY,s=r-this._touchLastX,o=i-this._touchLastY;this._touchLastX=r,this._touchLastY=i,this.pan(s,o)}}onTouchEnd(n){this.isPanning=!1}onMouseUp(n){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,n)}onNodeMouseDown(n,r){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=r,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(r,n))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(n){this.panTo((n.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(n.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let i=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);i<this.minZoomLevel&&(i=this.minZoomLevel),i>this.maxZoomLevel&&(i=this.maxZoomLevel),i!==this.zoomLevel&&(this.zoomLevel=i,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(n){const r=this.graph.nodes.find(i=>i.id===n);!r||this.panTo(r.position.x,r.position.y)}panWithConstraints(n,r){let i=r.movementX,s=r.movementY;switch(this.isMinimapPanning&&(i=-this.minimapScaleCoefficient*i*this.zoomLevel,s=-this.minimapScaleCoefficient*s*this.zoomLevel),n){case $o.Horizontal:this.pan(i,0);break;case $o.Vertical:this.pan(0,s);break;default:this.pan(i,s)}}updateMidpointOnEdge(n,r){if(n&&r)if(r.length%2==1)n.midPoint=r[Math.floor(r.length/2)];else{const i=r[r.length/2],s=r[r.length/2-1];n.midPoint={x:(i.x+s.x)/2,y:(i.y+s.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,r;const i=this.el.nativeElement;if(null!==i.parentNode){const s=i.parentNode.getBoundingClientRect();n=s.width,r=s.height}return n&&r?{width:n,height:r}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const r=sm(window,"resize").pipe(function _j(e,t=vj){return ve((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function u(){const l=o+e,y=t.now();if(y<l)return i=this.schedule(void 0,l-y),void r.add(i);a()}n.subscribe(me(r,l=>{s=l,o=t.now(),i||(i=t.schedule(u,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(200)).subscribe(i=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=r}}return e.\u0275fac=function(n){return new(n||e)(ce(_n),ce(Tt),ce(Wa),ce(A1))},e.\u0275cmp=Fs({type:e,selectors:[["ngx-graph"]],contentQueries:function(n,r,i){if(1&n&&(ki(i,h$,5),ki(i,p$,5),ki(i,g$,5),ki(i,m$,5),ki(i,y$,5)),2&n){let s;Cr(s=xr())&&(r.linkTemplate=s.first),Cr(s=xr())&&(r.nodeTemplate=s.first),Cr(s=xr())&&(r.clusterTemplate=s.first),Cr(s=xr())&&(r.defsTemplate=s.first),Cr(s=xr())&&(r.miniMapNodeTemplate=s.first)}},viewQuery:function(n,r){if(1&n&&(Ul(v$,5),Ul(_$,5)),2&n){let i;Cr(i=xr())&&(r.nodeElements=i),Cr(i=xr())&&(r.linkElements=i)}},hostBindings:function(n,r){1&n&&Ct("mousemove",function(s){return r.onMouseMove(s)},0,to)("mousedown",function(s){return r.onMouseDown(s)},!1,to)("click",function(s){return r.graphClick(s)},!1,to)("touchmove",function(s){return r.onTouchMove(s)},!1,to)("mouseup",function(s){return r.onMouseUp(s)},!1,to)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[In],ngContentSelectors:L$,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(n,r){1&n&&(function E0(e){const t=fe()[16][6];if(!t.projection){const r=t.projection=da(e?e.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=e?FO(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),et(0,"div",0),Ct("mouseWheelUp",function(s){return r.onZoom(s,"in")})("mouseWheelDown",function(s){return r.onZoom(s,"out")}),pt(),et(1,"svg",1),gt(2,N$,12,12,"g",2),et(3,"clipPath"),On(4,"rect"),ft(),gt(5,k$,6,15,"g",3),ft()()),2&n&&(vo("width",r.width,"px"),ze("@animationState","active")("@.disabled",!r.animations),Re(1),rt("width",r.width)("height",r.height),Re(1),ze("ngIf",r.initialized&&r.graph),Re(1),rt("id",r.minimapClipPathId),Re(1),rt("width",r.graphDims.width/r.minimapScaleCoefficient)("height",r.graphDims.height/r.minimapScaleCoefficient),Re(1),ze("ngIf",r.showMiniMap))},dependencies:[Q$,Op,CD,Np],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[s8("animationState",[a8(":enter",[Gc({opacity:0}),o8("500ms 100ms",Gc({opacity:1}))])])]},changeDetection:0}),function Zr(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([B$(500)],e.prototype,"updateMinimap",null),e})(),X$=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({providers:[A1],imports:[[ac]]}),e})(),J$=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({imports:[[ac],X$]}),e})(),T1=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(ce(oi),ce(_n))},e.\u0275dir=Fe({type:e}),e})(),Ss=(()=>{class e extends T1{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=rn(e)))(r||e)}}(),e.\u0275dir=Fe({type:e,features:[yt]}),e})();const Yr=new Te("NgValueAccessor"),t6={provide:Yr,useExisting:bt(()=>lm),multi:!0},r6=new Te("CompositionEventMode");let lm=(()=>{class e extends T1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function n6(){const e=$r()?$r().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(ce(oi),ce(_n),ce(r6,8))},e.\u0275dir=Fe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ct("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Mt([t6]),yt]}),e})();const fn=new Te("NgValidators"),Yi=new Te("NgAsyncValidators");function j1(e){return null!=e}function $1(e){return Oa(e)?Lt(e):e}function U1(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function H1(e,t){return t.map(n=>n(e))}function G1(e){return e.map(t=>function o6(e){return!e.validate}(t)?t:n=>t.validate(n))}function cm(e){return null!=e?function z1(e){if(!e)return null;const t=e.filter(j1);return 0==t.length?null:function(n){return U1(H1(n,t))}}(G1(e)):null}function dm(e){return null!=e?function W1(e){if(!e)return null;const t=e.filter(j1);return 0==t.length?null:function(n){return function q$(...e){const t=hy(e),{args:n,keys:r}=ZD(e),i=new ie(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let y=0;y<o;y++){let C=!1;Zn(n[y]).subscribe(me(s,M=>{C||(C=!0,l--),a[y]=M},()=>u--,void 0,()=>{(!u||!C)&&(l||s.next(r?XD(r,a):a),s.complete())}))}});return t?i.pipe(zp(t)):i}(H1(n,t).map($1)).pipe(Se(U1))}}(G1(e)):null}function K1(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function fm(e){return e?Array.isArray(e)?e:[e]:[]}function ld(e,t){return Array.isArray(e)?e.includes(t):e===t}function Z1(e,t){const n=fm(t);return fm(e).forEach(i=>{ld(n,i)||n.push(i)}),n}function X1(e,t){return fm(t).filter(n=>!ld(e,n))}class J1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Cn extends J1{get formDirective(){return null}get path(){return null}}class Qi extends J1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let eS=(()=>{class e extends class q1{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(ce(Qi,2))},e.\u0275dir=Fe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ri("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yt]}),e})();const Ou="VALID",dd="INVALID",zo="PENDING",Pu="DISABLED";function nS(e){return Array.isArray(e)?cm(e):e||null}function rS(e){return Array.isArray(e)?dm(e):e||null}function fd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Fu(e,t){(function _m(e,t){const n=function Y1(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(K1(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function Q1(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(K1(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();gd(t._rawValidators,i),gd(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),e.disabled&&t.valueAccessor.setDisabledState?.(!0),function m6(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&aS(e,t)})}(e,t),function v6(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function y6(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&aS(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function g6(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function gd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function aS(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function fS(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const S6={provide:Qi,useExisting:bt(()=>Em)},mS=(()=>Promise.resolve())();let Em=(()=>{class e extends Qi{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new class extends class oS{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=nS(this._rawValidators),this._composedAsyncValidatorFn=rS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ou}get invalid(){return this.status===dd}get pending(){return this.status==zo}get disabled(){return this.status===Pu}get enabled(){return this.status!==Pu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rS(t)}addValidators(t){this.setValidators(Z1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Z1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X1(t,this._rawAsyncValidators))}hasValidator(t){return ld(this._rawValidators,t)}hasAsyncValidator(t){return ld(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=zo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Pu,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ou,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ou||this.status===zo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pu:Ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator=!0;const n=$1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?Pu:this.errors?dd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(dd)?dd:Ou}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,n,r){super(function mm(e){return(fd(e)?e.validators:e)||null}(n),function ym(e,t){return(fd(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=fS(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){fS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new lt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function bm(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===lm?n=s:function b6(e){return Object.getPrototypeOf(e.constructor)===Ss}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function wm(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){mS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function hi(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);mS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function hd(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(ce(Cn,9),ce(fn,10),ce(Yi,10),ce(Yr,10),ce(Wa,8))},e.\u0275dir=Fe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mt([S6]),yt,In]}),e})(),vS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({}),e})();const L6={provide:Yr,useExisting:bt(()=>yd),multi:!0};function xS(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let yd=(()=>{class e extends Ss{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=xS(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function V6(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=rn(e)))(r||e)}}(),e.\u0275dir=Fe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Ct("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mt([L6]),yt]}),e})(),SS=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(xS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(ce(_n),ce(oi),ce(yd,9))},e.\u0275dir=Fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const B6={provide:Yr,useExisting:bt(()=>Mm),multi:!0};function MS(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Mm=(()=>{class e extends Ss{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function j6(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=rn(e)))(r||e)}}(),e.\u0275dir=Fe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Ct("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mt([B6]),yt]}),e})(),AS=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(MS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(MS(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(ce(_n),ce(oi),ce(Mm,9))},e.\u0275dir=Fe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Q6=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({imports:[vS]}),e})(),Z6=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({imports:[Q6]}),e})();function J6(e,t){if(1&e&&(et(0,"option",13),jr(1),ft()),2&e){const n=t.$implicit;ze("ngValue",n.value),Re(1),nr(" ",n.name," ")}}function q6(e,t){1&e&&(pt(),et(0,"marker",14),On(1,"path",15),ft())}function eU(e,t){if(1&e){const n=mo();pt(),et(0,"text",16),jr(1),ft(),et(2,"g",17)(3,"rect",18),Ct("click",function(){return Pr(n),Fr(Qe().onCLickEvent())}),ft()()}if(2&e){const n=t.$implicit,r=Qe();rt("x",20)("y",20),Re(1),nr(" ",n.label," "),Re(2),wr(r.styleCluster),rt("width",n.dimension.width)("height",n.dimension.height)}}function tU(e,t){if(1&e&&(pt(),On(0,"image",24)),2&e){const n=Qe().$implicit;rt("width",n.nodeWidth)("height",n.nodeWidth)("href",n.img,null,"xlink")}}function nU(e,t){if(1&e&&(pt(),On(0,"rect",25)),2&e){const n=Qe().$implicit;rt("width",n.dimension.width)("height",n.dimension.height+6)}}function rU(e,t){if(1&e&&(pt(),et(0,"text",26),jr(1),ft()),2&e){const n=Qe().$implicit;rt("x",10)("y",10),Re(1),nr(" ",n.label," ")}}function iU(e,t){if(1&e&&(pt(),et(0,"tspan",30),jr(1),et(2,"tspan",31),jr(3),ft()()),2&e){const n=Qe().$implicit;Re(1),nr(' "',n.key,'" '),Re(2),nr(' "',n.value,'" ')}}function sU(e,t){if(1&e&&(pt(),et(0,"tspan",30),jr(1),et(2,"tspan",32),jr(3),ft()()),2&e){const n=Qe().$implicit;Re(1),nr(' "',n.key,'" '),Re(2),nr(' "',n.value,'" ')}}function oU(e,t){if(1&e&&(pt(),Pl(0),gt(1,iU,4,2,"tspan",29),gt(2,sU,4,2,"tspan",29),Fl()),2&e){const n=t.$implicit;Re(1),ze("ngIf","string"===n.type),Re(1),ze("ngIf","date"===n.type)}}function aU(e,t){if(1&e&&(pt(),et(0,"text",27),gt(1,oU,3,2,"ng-container",28),ft()),2&e){const n=Qe().$implicit;rt("y",30),Re(1),ze("ngForOf",n.detail)}}function uU(e,t){if(1&e&&(pt(),et(0,"g",19),gt(1,tU,1,3,"image",20),gt(2,nU,1,2,"rect",21),gt(3,rU,2,3,"text",22),gt(4,aU,2,2,"text",23),ft()),2&e){const n=t.$implicit;Re(1),ze("ngIf",n.img),Re(1),ze("ngIf",!n.img),Re(1),ze("ngIf",!n.img),Re(1),ze("ngIf",n&&!n.img)}}function lU(e,t){if(1&e&&(pt(),et(0,"g",33),On(1,"path",34),et(2,"text",35)(3,"textPath",36),jr(4),ft()()()),2&e){const n=t.$implicit;Re(3),vo("dominant-baseline",n.dominantBaseline),rt("href","#"+n.id),Re(1),nr(" ",n.label," ")}}let cU=(()=>{class e{constructor(){this.theme="vs-dark",this.styleCluster="fill: #c7cfd3;stroke-width:4;stroke:rgb(239, 239, 115);stroke-dasharray: 10 5;stroke-dashoffset: 5;",this.curve=No,this.curves=[{name:"Curva Basica",value:hC},{name:"Curva Carcasa",value:Cg},{name:"Curva Cardinal",value:gC},{name:"Curva Catmull",value:_C},{name:"Curva Linear",value:No},{name:"Curva Monotona X",value:xC},{name:"Curva Monotona Y",value:SC},{name:"Curva Natural",value:TC},{name:"Curva Step",value:IC},{name:"Curva Step After",value:OC},{name:"Curva Step Before",value:NC}],this.flag=!1,this.links=[],this.nodes=[],this.clusters=[],this.shape=d,this.codeModel={language:"json",uri:"main.json",value:'{\n      "nodes": \n      [\n        {\n          "id": "primero",\n          "label": "APP",\n          "img":"https://store-images.s-microsoft.com/image/apps.52235.13510798887147936.687ea6ab-2b7d-4a43-b80f-5fd6ba5da222.eff77ef6-22f9-4f40-b039-02a0a5aa527f?mode=scale&q=90&h=300&w=300",\n          "nodeWidth": 70\n        },\n        {\n          "id": "segundo",\n          "label": "BFF-AUTENTICACION",\n          "detail": [\n            {\n              "key": "name: ",\n              "value": "BFF-AUTENTICACION",\n              "type": "string"\n            },\n            {\n              "key": "area: ",\n              "value": "Arquitectura",\n              "type": "string"\n            },\n            {\n              "key": "fecha: ",\n              "value": "22-02-1989",\n              "type": "date"\n            }\n          ]\n        },\n        {\n          "id": "tercero",\n          "label": "BFF-HOME",\n          "detail": [\n            {\n              "key": "name: ",\n              "value": "BFF-HOME",\n              "type": "string"\n            },\n            {\n              "key": "area: ",\n              "value": "Arquitectura",\n              "type": "string"\n            }\n          ]\n        },\n        {\n          "id": "cuarto",\n          "label": "BFF-TRANSFERENCIAS",\n          "detail": [\n            {\n              "key": "name: ",\n              "value": "BFF-TRANSFERENCIAS",\n              "type": "string"\n            },\n            {\n              "key": "area: ",\n              "value": "Arquitectura",\n              "type": "string"\n            }\n          ]\n        },\n        {\n          "id": "quinto",\n          "label": "API-CREDITOS",\n          "detail": [\n            {\n              "key": "name: ",\n              "value": "BFF-CREDITOS",\n              "type": "string"\n            },\n            {\n              "key": "area: ",\n              "value": "Arquitectura",\n              "type": "string"\n            },\n            {\n              "key": "fecha: ",\n              "value": "23-02-2023",\n              "type": "date"\n            }\n          ]\n        },\n        {\n          "id": "sexto",\n          "label": "API-MOVIMIENTOS",\n          "detail": [\n            {\n              "key": "name: ",\n              "value": "BFF-MOVIMIENTOS",\n              "type": "string"\n            },\n            {\n              "key": "area: ",\n              "value": "Arquitectura",\n              "type": "string"\n            }\n          ]\n        },\n        {\n          "id": "septimo",\n          "label": "API-CONNECT",\n          "img": "https://cdn-icons-png.flaticon.com/512/2612/2612467.png",\n          "nodeWidth": 200\n        },\n        {\n          "id": "octavo",\n          "label": "BBDD",\n          "img": "https://www.wyzowl.com/wp-content/uploads/2021/12/giphy.gif",\n          "nodeWidth": 160\n        },\n        {\n          "id": "google1",\n          "label": "APP",\n          "img":"https://logos-world.net/wp-content/uploads/2021/02/Google-Analytics-Logo.png",\n          "nodeWidth": 100\n        },\n        {\n          "id": "google2",\n          "label": "APP",\n          "img":"https://www.gstatic.com/devrel-devsite/prod/vc1297c14e883386d1f62a6331e02f40717d89cc8c6640263fbfdb91f0f9a5401/firebase/images/touchicon-180.png",\n          "nodeWidth": 100\n        },\n        {\n          "id": "google3",\n          "label": "APP",\n          "img":"https://cloud.google.com/_static/cloud/images/social-icon-google-cloud-1200-630.png",\n          "nodeWidth": 100\n        },\n        {\n          "id": "einsteing",\n          "label": "",\n          "img": "https://www.pngall.com/wp-content/uploads/5/Scientist-Albert-Einstein-PNG-Image.png",\n          "nodeWidth": 300\n        }\n      ],\n      "links": [\n              {\n                "id": "a",\n                "source": "primero",\n                "target": "segundo",\n                "label": "https services"\n              },\n              {\n                "id": "b",\n                "source": "primero",\n                "target": "tercero",\n                "label": "https services"\n              },\n              {\n                "id": "quinto",\n                "source": "primero",\n                "target": "cuarto",\n                "label": "https services"\n              },\n              {\n                "id": "e",\n                "source": "primero",\n                "target": "quinto",\n                "label": "https services"\n              },\n              {\n                "id": "f",\n                "source": "primero",\n                "target": "sexto",\n                "label": "https services"\n              },\n{\n                "id": "g",\n                "source": "quinto",\n                "target": "septimo",\n                "label": "sql"\n              },\n{\n                "id": "x",\n                "source": "sexto",\n                "target": "septimo",\n                "label": "sql"\n              },\n{\n                "id": "t",\n                "source": "cuarto",\n                "target": "septimo",\n                "label": "sql"\n              },\n{\n                "id": "xx",\n                "source": "tercero",\n                "target": "septimo",\n                "label": "sql"\n              },\n{\n                "id": "ge",\n                "source": "segundo",\n                "target": "septimo",\n                "label": "sql"\n              },\n{\n                "id": "gee",\n                "source": "septimo",\n                "target": "octavo",\n                "label": "bus"\n              },\n              {\n                "id": "wwww",\n                "source": "octavo",\n                "target": "google1",\n                "label": "sss"\n              },\n              {\n                "id": "eee",\n                "source": "octavo",\n                "target": "google2",\n                "label": "sss"\n              },\n              {\n                "id": "rrr",\n                "source": "octavo",\n                "target": "google3",\n                "label": "sss"\n              }\n            ],\n      "clusters": [\n        {\n          "id": "bffs",\n          "label": "bff services",\n          "childNodeIds": ["segundo", "tercero", "cuarto"]\n        },\n        {\n          "id": "apis",\n          "label": "api services",\n          "childNodeIds": ["quinto", "sexto"]\n        }\n      ],\n      "layout": "dagreCluster"\n    }'},this.options={contextmenu:!0,minimap:{enabled:!0}}}ngOnInit(){this.links=this.parseJson(this.codeModel.value).links,this.nodes=this.parseJson(this.codeModel.value).nodes,this.clusters=this.parseJson(this.codeModel.value).clusters}addElement(){this.nodes.push({id:"w",label:"W"}),console.log("this.nodes..."),console.log(this.nodes),console.log("this.nodes...")}onCodeChanged(n){this.flag=!0,console.log("CODE",n);const r=JSON.parse(n);console.log("data..."),console.log(r),console.log("data..."),this.links=r.links,this.nodes=r.nodes,this.clusters=r.clusters}parseJson(n){const r=JSON.parse(n);return console.log("fff..."),console.log(r),console.log("fff..."),r}onCLickEvent(){alert("hola mundo")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Fs({type:e,selectors:[["app-root"]],decls:17,vars:15,consts:[[1,"row-main"],[1,"row-editor"],[3,"theme","codeModel","options","valueChanged"],[1,"row-options"],["name","curves","id","curves",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row-diagram"],[1,"diagram"],["layout","dagreCluster",1,"chart-container",3,"curve","autoCenter","panOnZoom","autoZoom","maxZoomLevel","minZoomLevel","zoomLevel","links","nodes","clusters"],["defsTemplate",""],["clusterTemplate",""],["nodeTemplate",""],["linkTemplate",""],[3,"ngValue"],["id","arrow","viewBox","0 -5 10 10","refX","8","refY","0","markerWidth","5","markerHeight","5","orient","auto",2,"fill","#485a74"],["d","M0,-5L10,0L0,5",1,"arrow-head"],["alignment-baseline","central",2,"fill","#c7cfd3","font-weight","600"],[1,"node","cluster"],["rx","6","ry","6",3,"click"],[1,"node"],["class","main-img",4,"ngIf"],["rx","2","ry","2","style","fill: #2b2c40; stroke-width: 1; stroke: #545677",4,"ngIf"],["alignment-baseline","central","style","font-size: 10px; fill: #dbe3e6",4,"ngIf"],["alignment-baseline","central","style","width: 100%",4,"ngIf"],[1,"main-img"],["rx","2","ry","2",2,"fill","#2b2c40","stroke-width","1","stroke","#545677"],["alignment-baseline","central",2,"font-size","10px","fill","#dbe3e6"],["alignment-baseline","central",2,"width","100%"],[4,"ngFor","ngForOf"],["x","10","dy","16","style","font-size: 12px; fill: #59b8ff",4,"ngIf"],["x","10","dy","16",2,"font-size","12px","fill","#59b8ff"],["dx","6",1,"person-name",2,"font-size","11px","fill","#dbe3e6"],["dx","6",1,"person-name",2,"font-size","11px","fill","#e8c479"],[1,"edge"],["stroke","#485a74","stroke-width","2","marker-end","url(#arrow)",1,"line"],["text-anchor","middle",1,"edge-label"],["startOffset","50%",1,"text-path",2,"fill","#939697"]],template:function(n,r){1&n&&(et(0,"div",0)(1,"div",1)(2,"ngs-code-editor",2),Ct("valueChanged",function(s){return r.onCodeChanged(s)}),ft()(),et(3,"div",3)(4,"select",4),Ct("ngModelChange",function(s){return r.curve=s}),gt(5,J6,2,2,"option",5),ft()(),et(6,"div",6)(7,"div",7)(8,"ngx-graph",8),gt(9,q6,2,0,"ng-template",null,9,$a),gt(11,eU,4,7,"ng-template",null,10,$a),gt(13,uU,5,4,"ng-template",null,11,$a),gt(15,lU,5,4,"ng-template",null,12,$a),ft()()()()),2&n&&(Re(2),ze("theme",r.theme)("codeModel",r.codeModel)("options",r.options),Re(2),ze("ngModel",r.curve),Re(1),ze("ngForOf",r.curves),Re(3),ze("curve",r.curve)("autoCenter",!0)("panOnZoom",!1)("autoZoom",!1)("maxZoomLevel",1.2)("minZoomLevel",.6)("zoomLevel",.6)("links",r.links)("nodes",r.nodes)("clusters",r.clusters))},dependencies:[Np,Op,t8,Z$,SS,AS,yd,eS,Em],styles:[".row-main[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:hidden}.row-editor[_ngcontent-%COMP%]{width:600px;height:100vh;background-color:purple;float:left}.row-options[_ngcontent-%COMP%]{height:6vh;float:left;width:calc(100% - 600px);background-color:#252729;display:flex;justify-content:space-evenly;align-items:center}.row-diagram[_ngcontent-%COMP%]{height:94vh;width:calc(100% - 600px);background-color:#2e3136;float:left;display:flex;justify-content:center;align-items:center}.row-diagram[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{width:100%;height:100%}ngs-code-editor[_ngcontent-%COMP%]{height:100vh}.node[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{border:1px dotted red}"]}),e})();function VS(e){return new ue(3e3,!1)}function zU(){return typeof window<"u"&&typeof window.document<"u"}function Tm(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zi(e){switch(e.length){case 0:return new yu;case 1:return e[0];default:return new lx(e)}}function BS(e,t,n,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,l=null;if(r.forEach(y=>{const C=y.get("offset"),M=C==u,I=M&&l||new Map;y.forEach((O,k)=>{let j=k,Z=O;if("offset"!==k)switch(j=t.normalizePropertyName(j,o),Z){case"!":Z=i.get(k);break;case _i:Z=s.get(k);break;default:Z=t.normalizeStyleValue(k,j,Z,o)}I.set(j,Z)}),M||a.push(I),l=I,u=C}),o.length)throw function PU(e){return new ue(3502,!1)}();return a}function Im(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&Nm(n,"start",e)));break;case"done":e.onDone(()=>r(n&&Nm(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&Nm(n,"destroy",e)))}}function Nm(e,t,n){const s=Om(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),o=e._data;return null!=o&&(s._data=o),s}function Om(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Yn(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function jS(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}let Pm=(e,t)=>!1,$S=(e,t,n)=>[],US=null;function Fm(e){const t=e.parentNode||e.host;return t===US?null:t}(Tm()||typeof Element<"u")&&(zU()?(US=(()=>document.documentElement)(),Pm=(e,t)=>{for(;t;){if(t===e)return!0;t=Fm(t)}return!1}):Pm=(e,t)=>e.contains(t),$S=(e,t,n)=>{if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]});let As=null,HS=!1;const GS=Pm,zS=$S;let WS=(()=>{class e{validateStyleProperty(n){return function KU(e){As||(As=function YU(){return typeof document<"u"?document.body:null}()||{},HS=!!As.style&&"WebkitAppearance"in As.style);let t=!0;return As.style&&!function WU(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in As.style,!t&&HS&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in As.style)),t}(n)}matchesElement(n,r){return!1}containsElement(n,r){return GS(n,r)}getParentElement(n){return Fm(n)}query(n,r,i){return zS(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],u){return new yu(i,s)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})(),Rm=(()=>{class e{}return e.NOOP=new WS,e})();const km="ng-enter",vd="ng-leave",_d="ng-trigger",wd=".ng-trigger",YS="ng-animating",Lm=".ng-animating";function Ei(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Vm(parseFloat(t[1]),t[2])}function Vm(e,t){return"s"===t?1e3*e:e}function bd(e,t,n){return e.hasOwnProperty("duration")?e:function XU(e,t,n){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(VS()),{duration:0,delay:0,easing:""};i=Vm(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=Vm(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=e;if(!n){let a=!1,u=t.length;i<0&&(t.push(function dU(){return new ue(3100,!1)}()),a=!0),s<0&&(t.push(function fU(){return new ue(3101,!1)}()),a=!0),a&&t.splice(u,0,VS())}return{duration:i,delay:s,easing:o}}(e,t,n)}function ku(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function QS(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Xi(e,t=new Map,n){if(n)for(let[r,i]of n)t.set(r,i);for(let[r,i]of e)t.set(r,i);return t}function XS(e,t,n){return n?t+":"+n+";":""}function JS(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=XS(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=XS(0,tH(n),e.style[n]));e.setAttribute("style",t)}function Qr(e,t,n){e.style&&(t.forEach((r,i)=>{const s=jm(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r}),Tm()&&JS(e))}function Ts(e,t){e.style&&(t.forEach((n,r)=>{const i=jm(r);e.style[i]=""}),Tm()&&JS(e))}function Lu(e){return Array.isArray(e)?1==e.length?e[0]:ax(e):e}const Bm=new RegExp("{{\\s*(.+?)\\s*}}","g");function qS(e){let t=[];if("string"==typeof e){let n;for(;n=Bm.exec(e);)t.push(n[1]);Bm.lastIndex=0}return t}function Vu(e,t,n){const r=e.toString(),i=r.replace(Bm,(s,o)=>{let a=t[o];return null==a&&(n.push(function pU(e){return new ue(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function Dd(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const eH=/-+([a-z0-9])/g;function jm(e){return e.replace(eH,(...t)=>t[1].toUpperCase())}function tH(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qn(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function gU(e){return new ue(3004,!1)}()}}function eM(e,t){return window.getComputedStyle(e)[t]}function aH(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function uH(e,t,n){if(":"==e[0]){const u=function lH(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function TU(e){return new ue(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof u)return void t.push(u);e=u}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function AU(e){return new ue(3015,!1)}()),t;const i=r[1],s=r[2],o=r[3];t.push(tM(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(tM(o,i))}(r,n,t)):n.push(e),n}const Sd=new Set(["true","1"]),Md=new Set(["false","0"]);function tM(e,t){const n=Sd.has(e)||Md.has(e),r=Sd.has(t)||Md.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?Sd.has(e):Md.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?Sd.has(t):Md.has(t)),o&&a}}const cH=new RegExp("s*:selfs*,?","g");function $m(e,t,n,r){return new dH(e).build(t,n,r)}class dH{constructor(t){this._driver=t}build(t,n,r){const i=new pH(n);return this._resetContextStyleTimingState(i),Qn(this,Lu(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&n.errors.push(function yU(){return new ue(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(y=>{u.name=y,s.push(this.visitState(u,n))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function vU(){return new ue(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{qS(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Dd(s.values()),n.errors.push(function _U(e,t){return new ue(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=Qn(this,Lu(t.animation),n);return{type:1,matchers:aH(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Is(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>Qn(this,r,n)),options:Is(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const s=t.steps.map(o=>{n.currentTime=r;const a=Qn(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:Is(t.options)}}visitAnimate(t,n){const r=function mH(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return Um(bd(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Um(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=bd(n,t);return Um(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:Gc({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=Gc(l)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===_i?r.push(a):n.errors.push(new ue(3002,!1)):r.push(QS(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=n.collectedStyles.get(n.currentQuerySelector),y=l.get(u);let C=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(n.errors.push(function bU(e,t,n,r,i){return new ue(3010,!1)}()),C=!1),s=y.startTime),C&&l.set(u,{startTime:s,endTime:i}),n.options&&function qU(e,t,n){const r=t.params||{},i=qS(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function hU(e){return new ue(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function DU(){return new ue(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const y=t.steps.map(Z=>{const ee=this._makeStyleAst(Z,n);let Q=null!=ee.offset?ee.offset:function gH(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(ee.styles),ae=0;return null!=Q&&(s++,ae=ee.offset=Q),u=u||ae<0||ae>1,a=a||ae<l,l=ae,o.push(ae),ee});u&&n.errors.push(function EU(){return new ue(3012,!1)}()),a&&n.errors.push(function CU(){return new ue(3200,!1)}());const C=t.steps.length;let M=0;s>0&&s<C?n.errors.push(function xU(){return new ue(3202,!1)}()):0==s&&(M=1/(C-1));const I=C-1,O=n.currentTime,k=n.currentAnimateTimings,j=k.duration;return y.forEach((Z,ee)=>{const Q=M>0?ee==I?1:M*ee:o[ee],ae=Q*j;n.currentTime=O+k.delay+ae,k.duration=ae,this._validateStyleAst(Z,n),Z.offset=Q,r.styles.push(Z)}),r}visitReference(t,n){return{type:8,animation:Qn(this,Lu(t.animation),n),options:Is(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:Is(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:Is(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[s,o]=function fH(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(cH,"")),e=e.replace(/@\*/g,wd).replace(/@\w+/g,n=>wd+"-"+n.slice(1)).replace(/:animating/g,Lm),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,Yn(n.collectedStyles,n.currentQuerySelector,new Map);const a=Qn(this,Lu(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Is(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function SU(){return new ue(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:bd(t.timings,n.errors,!0);return{type:12,animation:Qn(this,Lu(t.animation),n),timings:r,options:null}}}class pH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Is(e){return e?(e=ku(e)).params&&(e.params=function hH(e){return e?ku(e):null}(e.params)):e={},e}function Um(e,t,n){return{duration:e,delay:t,easing:n}}function Hm(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ad{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const _H=new RegExp(":enter","g"),bH=new RegExp(":leave","g");function Gm(e,t,n,r,i,s=new Map,o=new Map,a,u,l=[]){return(new DH).buildKeyframes(e,t,n,r,i,s,o,a,u,l)}class DH{buildKeyframes(t,n,r,i,s,o,a,u,l,y=[]){l=l||new Ad;const C=new zm(t,n,l,i,s,y,[]);C.options=u;const M=u.delay?Ei(u.delay):0;C.currentTimeline.delayNextStep(M),C.currentTimeline.setStyles([o],null,C.errors,u),Qn(this,r,C);const I=C.timelines.filter(O=>O.containsAnimation());if(I.length&&a.size){let O;for(let k=I.length-1;k>=0;k--){const j=I[k];if(j.element===n){O=j;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([a],null,C.errors,u)}return I.length?I.map(O=>O.buildKeyframes()):[Hm(n,[],[],[],0,M,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const s=i?.delay;if(s){const o="number"==typeof s?s:Ei(Vu(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Ei(r.duration):null,a=null!=r.delay?Ei(r.delay):null;return 0!==o&&t.forEach(u=>{const l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),Qn(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Td);const o=Ei(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Qn(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ei(t.options.delay):0;t.steps.forEach(o=>{const a=n.createSubContext(t.options);s&&a.delayNextStep(s),Qn(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return bd(n.params?Vu(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?Ei(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Td);let o=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,y)=>{n.currentQueryIndex=y;const C=n.createSubContext(t.options,l);s&&C.delayNextStep(s),l===n.element&&(u=C.currentTimeline),Qn(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,C.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const y=n.currentTimeline;u&&y.delayNextStep(u);const C=y.currentTime;Qn(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-C+(i.startTime-r.currentTimeline.startTime)}}const Td={};class zm{constructor(t,n,r,i,s,o,a,u){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Td,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Id(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Ei(r.duration)),null!=r.delay&&(i.delay=Ei(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Vu(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,s=new zm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Td,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new EH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(_H,"."+this._enterClassName)).replace(bH,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function MU(e){return new ue(3014,!1)}()),a}}class Id{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new Id(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||_i),this._currentKeyframe.set(n,_i);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function CH(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)n.set(s,_i)}else Xi(i,n)}),n}(t,this._globalTimelineStyles);for(let[a,u]of o){const l=Vu(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_i),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Xi(a,new Map,this._backFill);l.forEach((y,C)=>{"!"===y?t.add(C):y===_i&&n.add(C)}),r||l.set("offset",u/this.duration),i.push(l)});const s=t.size?Dd(t.values()):[],o=n.size?Dd(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return Hm(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class EH extends Id{constructor(t,n,r,i,s,o,a=!1){super(t,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=Xi(t[0]);u.set("offset",0),s.push(u);const l=Xi(t[0]);l.set("offset",iM(a)),s.push(l);const y=t.length-1;for(let C=1;C<=y;C++){let M=Xi(t[C]);const I=M.get("offset");M.set("offset",iM((n+I*r)/o)),s.push(M)}r=o,n=0,i="",t=s}return Hm(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function iM(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Wm{}const xH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class SH extends Wm{normalizePropertyName(t,n){return jm(t)}normalizeStyleValue(t,n,r,i){let s="";const o=r.toString().trim();if(xH.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function mU(e,t){return new ue(3005,!1)}())}return o+s}}function sM(e,t,n,r,i,s,o,a,u,l,y,C,M){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:y,totalTime:C,errors:M}}const Km={};class oM{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function MH(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,o,a,u,l,y){const C=[],M=this.ast.options&&this.ast.options.params||Km,O=this.buildStyles(r,a&&a.params||Km,C),k=u&&u.params||Km,j=this.buildStyles(i,k,C),Z=new Set,ee=new Map,Q=new Map,ae="void"===i,ye={params:AH(k,M),delay:this.ast.options?.delay},De=y?[]:Gm(t,n,this.ast.animation,s,o,O,j,ye,l,C);let Ne=0;if(De.forEach(Be=>{Ne=Math.max(Be.duration+Be.delay,Ne)}),C.length)return sM(n,this._triggerName,r,i,ae,O,j,[],[],ee,Q,Ne,C);De.forEach(Be=>{const st=Be.element,wt=Yn(ee,st,new Set);Be.preStyleProps.forEach(Ye=>wt.add(Ye));const Ce=Yn(Q,st,new Set);Be.postStyleProps.forEach(Ye=>Ce.add(Ye)),st!==n&&Z.add(st)});const it=Dd(Z.values());return sM(n,this._triggerName,r,i,ae,O,j,De,it,ee,Q,Ne)}}function AH(e,t){const n=ku(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(n[r]=e[r]);return n}class TH{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=ku(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Vu(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(u,o)})}),r}}class NH{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new TH(i.style,i.options&&i.options.params||{},r))}),aM(this.states,"true","1"),aM(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new oM(t,i,this.states))}),this.fallbackTransition=function OH(e,t,n){return new oM(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(o=>o.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function aM(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const PH=new Ad;class FH{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],s=$m(this._driver,n,r,[]);if(r.length)throw function FU(e){return new ue(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,r){const i=t.element,s=BS(0,this._normalizer,0,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=Gm(this._driver,n,s,km,vd,new Map,new Map,r,PH,i),o.forEach(y=>{const C=Yn(a,y.element,new Map);y.postStyleProps.forEach(M=>C.set(M,null))})):(i.push(function RU(){return new ue(3300,!1)}()),o=[]),i.length)throw function kU(e){return new ue(3504,!1)}();a.forEach((y,C)=>{y.forEach((M,I)=>{y.set(I,this._driver.computeStyle(C,I,_i))})});const l=Zi(o.map(y=>{const C=a.get(y.element);return this._buildPlayer(y,new Map,C)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function LU(e){return new ue(3301,!1)}();return n}listen(t,n,r,i){const s=Om(n,"","","");return Im(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const uM="ng-animate-queued",Ym="ng-animate-disabled",BH=[],lM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed";class Qm{constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function GH(e){return e??null}(r?t.value:t),r){const s=ku(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Bu="void",Zm=new Qm(Bu);class $H{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dr(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function VU(e,t){return new ue(3302,!1)}();if(null==r||0==r.length)throw function BU(e){return new ue(3303,!1)}();if(!function zH(e){return"start"==e||"done"==e}(r))throw function jU(e,t){return new ue(3400,!1)}();const s=Yn(this._elementListeners,t,[]),o={name:n,phase:r,callback:i};s.push(o);const a=Yn(this._engine.statesByElement,t,new Map);return a.has(n)||(dr(t,_d),dr(t,_d+"-"+n),a.set(n,Zm)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function $U(e){return new ue(3401,!1)}();return n}trigger(t,n,r,i=!0){const s=this._getTrigger(n),o=new Xm(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(dr(t,_d),dr(t,_d+"-"+n),this._engine.statesByElement.set(t,a=new Map));let u=a.get(n);const l=new Qm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=Zm),l.value!==Bu&&u.value===l.value){if(!function YH(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(u.params,l.params)){const k=[],j=s.matchStyles(u.value,u.params,k),Z=s.matchStyles(l.value,l.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{Ts(t,j),Qr(t,Z)})}return}const M=Yn(this._engine.playersByElement,t,[]);M.forEach(k=>{k.namespaceId==this.id&&k.triggerName==n&&k.queued&&k.destroy()});let I=s.matchTransition(u.value,l.value,t,l.params),O=!1;if(!I){if(!i)return;I=s.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:I,fromState:u,toState:l,player:o,isFallbackTransition:O}),O||(dr(t,uM),o.onStart(()=>{Wo(t,uM)})),o.onDone(()=>{let k=this.players.indexOf(o);k>=0&&this.players.splice(k,1);const j=this._engine.playersByElement.get(t);if(j){let Z=j.indexOf(o);Z>=0&&j.splice(Z,1)}}),this.players.push(o),M.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,wd,!0);r.forEach(i=>{if(i[cr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const y=this.trigger(t,l,Bu,i);y&&a.push(y)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),r&&Zi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||Zm,y=new Qm(Bu),C=new Xm(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:u,fromState:l,toState:y,player:C,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const s=t[cr];(!s||s===lM)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){dr(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=Om(s,r.triggerName,r.fromState.value,r.toState.value);u._data=t,Im(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(r=>r.element===t)||n,n}}class UH{constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new $H(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(t,n,r,i){if(Nd(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!Nd(n))return;const s=n[cr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dr(t,Ym)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Wo(t,Ym))}removeNode(t,n,r,i){if(Nd(n)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(n,i):this.markElementAsRemoved(t,n,!1,i),r){const o=this.namespacesByHostElement.get(n);o&&o.id!==t&&o.removeNode(n,i)}}else this._onRemovalComplete(n,i)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[cr]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return Nd(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,wd,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,Lm,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Zi(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[cr];if(n&&n.setForRemoval){if(t[cr]=lM,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(Ym)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)dr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Zi(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function UU(e){return new ue(3402,!1)}()}_flushAnimations(t,n){const r=new Ad,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,y=new Set;this.disabledNodes.forEach(we=>{y.add(we);const xe=this.driver.query(we,".ng-animate-queued",!0);for(let Ae=0;Ae<xe.length;Ae++)y.add(xe[Ae])});const C=this.bodyNode,M=Array.from(this.statesByElement.keys()),I=fM(M,this.collectedEnterElements),O=new Map;let k=0;I.forEach((we,xe)=>{const Ae=km+k++;O.set(xe,Ae),we.forEach(qe=>dr(qe,Ae))});const j=[],Z=new Set,ee=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const xe=this.collectedLeaveElements[we],Ae=xe[cr];Ae&&Ae.setForRemoval&&(j.push(xe),Z.add(xe),Ae.hasAnimation?this.driver.query(xe,".ng-star-inserted",!0).forEach(qe=>Z.add(qe)):ee.add(xe))}const Q=new Map,ae=fM(M,Array.from(Z));ae.forEach((we,xe)=>{const Ae=vd+k++;Q.set(xe,Ae),we.forEach(qe=>dr(qe,Ae))}),t.push(()=>{I.forEach((we,xe)=>{const Ae=O.get(xe);we.forEach(qe=>Wo(qe,Ae))}),ae.forEach((we,xe)=>{const Ae=Q.get(xe);we.forEach(qe=>Wo(qe,Ae))}),j.forEach(we=>{this.processLeaveNode(we)})});const ye=[],De=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(n).forEach(Ae=>{const qe=Ae.player,Nt=Ae.element;if(ye.push(qe),this.collectedEnterElements.length){const Ut=Nt[cr];if(Ut&&Ut.setForMove){if(Ut.previousTriggersValues&&Ut.previousTriggersValues.has(Ae.triggerName)){const Ir=Ut.previousTriggersValues.get(Ae.triggerName),Sn=this.statesByElement.get(Ae.element);if(Sn&&Sn.has(Ae.triggerName)){const Ns=Sn.get(Ae.triggerName);Ns.value=Ir,Sn.set(Ae.triggerName,Ns)}}return void qe.destroy()}}const xn=!C||!this.driver.containsElement(C,Nt),qt=Q.get(Nt),fr=O.get(Nt),ut=this._buildInstruction(Ae,r,fr,qt,xn);if(ut.errors&&ut.errors.length)return void De.push(ut);if(xn)return qe.onStart(()=>Ts(Nt,ut.fromStyles)),qe.onDestroy(()=>Qr(Nt,ut.toStyles)),void i.push(qe);if(Ae.isFallbackTransition)return qe.onStart(()=>Ts(Nt,ut.fromStyles)),qe.onDestroy(()=>Qr(Nt,ut.toStyles)),void i.push(qe);const Ko=[];ut.timelines.forEach(Ut=>{Ut.stretchStartingKeyframe=!0,this.disabledNodes.has(Ut.element)||Ko.push(Ut)}),ut.timelines=Ko,r.append(Nt,ut.timelines),o.push({instruction:ut,player:qe,element:Nt}),ut.queriedElements.forEach(Ut=>Yn(a,Ut,[]).push(qe)),ut.preStyleProps.forEach((Ut,Ir)=>{if(Ut.size){let Sn=u.get(Ir);Sn||u.set(Ir,Sn=new Set),Ut.forEach((Ns,ey)=>Sn.add(ey))}}),ut.postStyleProps.forEach((Ut,Ir)=>{let Sn=l.get(Ir);Sn||l.set(Ir,Sn=new Set),Ut.forEach((Ns,ey)=>Sn.add(ey))})});if(De.length){const we=[];De.forEach(xe=>{we.push(function HU(e,t){return new ue(3505,!1)}())}),ye.forEach(xe=>xe.destroy()),this.reportError(we)}const Ne=new Map,it=new Map;o.forEach(we=>{const xe=we.element;r.has(xe)&&(it.set(xe,xe),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,Ne))}),i.forEach(we=>{const xe=we.element;this._getPreviousPlayers(xe,!1,we.namespaceId,we.triggerName,null).forEach(qe=>{Yn(Ne,xe,[]).push(qe),qe.destroy()})});const Be=j.filter(we=>pM(we,u,l)),st=new Map;dM(st,this.driver,ee,l,_i).forEach(we=>{pM(we,u,l)&&Be.push(we)});const Ce=new Map;I.forEach((we,xe)=>{dM(Ce,this.driver,new Set(we),u,"!")}),Be.forEach(we=>{const xe=st.get(we),Ae=Ce.get(we);st.set(we,new Map([...Array.from(xe?.entries()??[]),...Array.from(Ae?.entries()??[])]))});const Ye=[],Fn=[],Rn={};o.forEach(we=>{const{element:xe,player:Ae,instruction:qe}=we;if(r.has(xe)){if(y.has(xe))return Ae.onDestroy(()=>Qr(xe,qe.toStyles)),Ae.disabled=!0,Ae.overrideTotalTime(qe.totalTime),void i.push(Ae);let Nt=Rn;if(it.size>1){let qt=xe;const fr=[];for(;qt=qt.parentNode;){const ut=it.get(qt);if(ut){Nt=ut;break}fr.push(qt)}fr.forEach(ut=>it.set(ut,Nt))}const xn=this._buildAnimation(Ae.namespaceId,qe,Ne,s,Ce,st);if(Ae.setRealPlayer(xn),Nt===Rn)Ye.push(Ae);else{const qt=this.playersByElement.get(Nt);qt&&qt.length&&(Ae.parentPlayer=Zi(qt)),i.push(Ae)}}else Ts(xe,qe.fromStyles),Ae.onDestroy(()=>Qr(xe,qe.toStyles)),Fn.push(Ae),y.has(xe)&&i.push(Ae)}),Fn.forEach(we=>{const xe=s.get(we.element);if(xe&&xe.length){const Ae=Zi(xe);we.setRealPlayer(Ae)}}),i.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<j.length;we++){const xe=j[we],Ae=xe[cr];if(Wo(xe,vd),Ae&&Ae.hasAnimation)continue;let qe=[];if(a.size){let xn=a.get(xe);xn&&xn.length&&qe.push(...xn);let qt=this.driver.query(xe,Lm,!0);for(let fr=0;fr<qt.length;fr++){let ut=a.get(qt[fr]);ut&&ut.length&&qe.push(...ut)}}const Nt=qe.filter(xn=>!xn.destroyed);Nt.length?WH(this,xe,Nt):this.processLeaveNode(xe)}return j.length=0,Ye.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const xe=this.players.indexOf(we);this.players.splice(xe,1)}),we.play()}),Ye}elementContainsData(t,n){let r=!1;const i=n[cr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(n)&&(r=!0),this.playersByQueriedElement.has(n)&&(r=!0),this.statesByElement.has(n)&&(r=!0),this._fetchNamespace(t).elementContainsData(n)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const u=!s||s==Bu;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,n,r){const s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const l=u.element,y=l!==s,C=Yn(r,l,[]);this._getPreviousPlayers(l,y,o,a,n.toState).forEach(I=>{const O=I.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),I.destroy(),C.push(I)})}Ts(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,o){const a=n.triggerName,u=n.element,l=[],y=new Set,C=new Set,M=n.timelines.map(O=>{const k=O.element;y.add(k);const j=k[cr];if(j&&j.removedBeforeQueried)return new yu(O.duration,O.delay);const Z=k!==u,ee=function KH(e){const t=[];return hM(e,t),t}((r.get(k)||BH).map(Ne=>Ne.getRealPlayer())).filter(Ne=>!!Ne.element&&Ne.element===k),Q=s.get(k),ae=o.get(k),ye=BS(0,this._normalizer,0,O.keyframes,Q,ae),De=this._buildPlayer(O,ye,ee);if(O.subTimeline&&i&&C.add(k),Z){const Ne=new Xm(t,a,k);Ne.setRealPlayer(De),l.push(Ne)}return De});l.forEach(O=>{Yn(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function HH(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,O.element,O))}),y.forEach(O=>dr(O,YS));const I=Zi(M);return I.onDestroy(()=>{y.forEach(O=>Wo(O,YS)),Qr(u,n.toStyles)}),C.forEach(O=>{Yn(i,O,[]).push(I)}),I}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new yu(t.duration,t.delay)}}class Xm{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new yu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Im(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Yn(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function Nd(e){return e&&1===e.nodeType}function cM(e,t){const n=e.style.display;return e.style.display=t??"none",n}function dM(e,t,n,r,i){const s=[];n.forEach(u=>s.push(cM(u)));const o=[];r.forEach((u,l)=>{const y=new Map;u.forEach(C=>{const M=t.computeStyle(l,C,i);y.set(C,M),(!M||0==M.length)&&(l[cr]=jH,o.push(l))}),e.set(l,y)});let a=0;return n.forEach(u=>cM(u,s[a++])),o}function fM(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=n.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return t.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function dr(e,t){e.classList?.add(t)}function Wo(e,t){e.classList?.remove(t)}function WH(e,t,n){Zi(n).onDone(()=>e.processLeaveNode(t))}function hM(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof lx?hM(r.players,t):t.push(r)}}function pM(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}class Od{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new UH(t,n,r),this._timelineEngine=new FH(t,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],y=$m(this._driver,s,u,[]);if(u.length)throw function OU(e,t){return new ue(3404,!1)}();a=function IH(e,t,n){return new NH(e,t,n)}(i,y,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r,i){this._transitionEngine.removeNode(t,n,i||!1,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[s,o]=jS(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=jS(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ZH=(()=>{class e{constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qr(this._element,this._initialStyles),this._endStyles&&(Qr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ts(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ts(this._element,this._endStyles),this._endStyles=null),Qr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Jm(e){let t=null;return e.forEach((n,r)=>{(function XH(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,n))}),t}class gM{constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:eM(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class JH{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return GS(t,n)}getParentElement(t){return Fm(t)}query(t,n,r){return zS(t,n,r)}computeStyle(t,n,r){return window.getComputedStyle(t)[n]}animate(t,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,y=o.filter(I=>I instanceof gM);(function nH(e,t){return 0===e||0===t})(r,i)&&y.forEach(I=>{I.currentSnapshot.forEach((O,k)=>l.set(k,O))});let C=function JU(e){return e.length?e[0]instanceof Map?e:e.map(t=>QS(t)):[]}(n).map(I=>Xi(I));C=function rH(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,eM(e,a)))}}return t}(t,C,l);const M=function QH(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=Jm(t[0]),t.length>1&&(r=Jm(t[t.length-1]))):t instanceof Map&&(n=Jm(t)),n||r?new ZH(e,n,r):null}(t,C);return new gM(t,C,u,M)}}let qH=(()=>{class e extends ox{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:pr.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(n)?ax(n):n;return mM(this._renderer,null,r,"register",[i]),new eG(r,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(Ee(Sa),Ee(an))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class eG extends class i8{}{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new tG(this._id,t,n||{},this._renderer)}}class tG{constructor(t,n,r,i){this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return mM(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mM(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const yM="@.disabled";let nG=(()=>{class e{constructor(n,r,i){this.delegate=n,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(n,r){const s=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let y=this._rendererCache.get(s);return y||(y=new vM("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,y)),y}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const u=y=>{Array.isArray(y)?y.forEach(u):this.engine.registerTrigger(o,a,n,y.name,y)};return r.data.animation.forEach(u),new rG(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,i){n>=0&&n<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(Ee(Sa),Ee(Od),Ee(Tt))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})();class vM{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>n.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate,r)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==yM?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class rG extends vM{constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==yM?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function iG(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function sG(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,n,r)}}const _M=[{provide:ox,useClass:qH},{provide:Wm,useFactory:function aG(){return new SH}},{provide:Od,useClass:(()=>{class e extends Od{constructor(n,r,i,s){super(n.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(Ee(an),Ee(Rm),Ee(Wm),Ee(za))},e.\u0275prov=Oe({token:e,factory:e.\u0275fac}),e})()},{provide:Sa,useFactory:function uG(e,t,n){return new nG(e,t,n)},deps:[hc,Od,Tt]}],qm=[{provide:Rm,useFactory:()=>new JH},{provide:Nb,useValue:"BrowserAnimations"},..._M],wM=[{provide:Rm,useClass:WS},{provide:Nb,useValue:"NoopAnimations"},..._M];let lG=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?wM:qm}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e}),e.\u0275inj=hn({providers:qm,imports:[WD]}),e})(),cG=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Mn({type:e,bootstrap:[cU]}),e.\u0275inj=hn({imports:[WD,aB,r8.forRoot(),J$,lG,Z6]}),e})();(function HR(){Yb=!1})(),_L().bootstrapModule(cG).catch(e=>console.error(e))},9695:(x,T,c)=>{x.exports={graphlib:c(6456),layout:c(4850),debug:c(1914),util:{time:c(1510).time,notime:c(1510).notime},version:c(8126)}},2234:(x,T,c)=>{"use strict";var d=c(5760),D=c(7365);x.exports={run:function b(_){var h="greedy"===_.graph().acyclicer?D(_,function f(g){return function(v){return g.edge(v).weight}}(_)):function E(_){var h=[],f={},g={};return d.forEach(_.nodes(),function v(p){d.has(g,p)||(g[p]=!0,f[p]=!0,d.forEach(_.outEdges(p),function(w){d.has(f,w.w)?h.push(w):v(w.w)}),delete f[p])}),h}(_);d.forEach(h,function(g){var v=_.edge(g);_.removeEdge(g),v.forwardName=g.name,v.reversed=!0,_.setEdge(g.w,g.v,v,d.uniqueId("rev"))})},undo:function m(_){d.forEach(_.edges(),function(h){var f=_.edge(h);if(f.reversed){_.removeEdge(h);var g=f.forwardName;delete f.reversed,delete f.forwardName,_.setEdge(h.w,h.v,f,g)}})}}},9999:(x,T,c)=>{var d=c(5760),D=c(1510);function E(m,_,h,f,g,v){var w=g[_][v-1],S=D.addDummyNode(m,"border",{width:0,height:0,rank:v,borderType:_},h);g[_][v]=S,m.setParent(S,f),w&&m.setEdge(w,S,{weight:1})}x.exports=function b(m){d.forEach(m.children(),function _(h){var f=m.children(h),g=m.node(h);if(f.length&&d.forEach(f,_),d.has(g,"minRank")){g.borderLeft=[],g.borderRight=[];for(var v=g.minRank,p=g.maxRank+1;v<p;++v)E(m,"borderLeft","_bl",h,g,v),E(m,"borderRight","_br",h,g,v)}})}},3870:(x,T,c)=>{"use strict";var d=c(5760);function E(v){d.forEach(v.nodes(),function(p){m(v.node(p))}),d.forEach(v.edges(),function(p){m(v.edge(p))})}function m(v){var p=v.width;v.width=v.height,v.height=p}function h(v){v.y=-v.y}function g(v){var p=v.x;v.x=v.y,v.y=p}x.exports={adjust:function D(v){var p=v.graph().rankdir.toLowerCase();("lr"===p||"rl"===p)&&E(v)},undo:function b(v){var p=v.graph().rankdir.toLowerCase();("bt"===p||"rl"===p)&&function _(v){d.forEach(v.nodes(),function(p){h(v.node(p))}),d.forEach(v.edges(),function(p){var w=v.edge(p);d.forEach(w.points,h),d.has(w,"y")&&h(w)})}(v),("lr"===p||"rl"===p)&&(function f(v){d.forEach(v.nodes(),function(p){g(v.node(p))}),d.forEach(v.edges(),function(p){var w=v.edge(p);d.forEach(w.points,g),d.has(w,"x")&&g(w)})}(v),E(v))}}},3226:x=>{function T(){var D={};D._next=D._prev=D,this._sentinel=D}function c(D){D._prev._next=D._next,D._next._prev=D._prev,delete D._next,delete D._prev}function d(D,b){if("_next"!==D&&"_prev"!==D)return b}x.exports=T,T.prototype.dequeue=function(){var D=this._sentinel,b=D._prev;if(b!==D)return c(b),b},T.prototype.enqueue=function(D){var b=this._sentinel;D._prev&&D._next&&c(D),D._next=b._next,b._next._prev=D,b._next=D,D._prev=b},T.prototype.toString=function(){for(var D=[],b=this._sentinel,E=b._prev;E!==b;)D.push(JSON.stringify(E,d)),E=E._prev;return"["+D.join(", ")+"]"}},1914:(x,T,c)=>{var d=c(5760),D=c(1510),b=c(6456).Graph;x.exports={debugOrdering:function E(m){var _=D.buildLayerMatrix(m),h=new b({compound:!0,multigraph:!0}).setGraph({});return d.forEach(m.nodes(),function(f){h.setNode(f,{label:f}),h.setParent(f,"layer"+m.node(f).rank)}),d.forEach(m.edges(),function(f){h.setEdge(f.v,f.w,{},f.name)}),d.forEach(_,function(f,g){h.setNode("layer"+g,{rank:"same"}),d.reduce(f,function(p,w){return h.setEdge(p,w,{style:"invis"}),w})}),h}}},6456:(x,T,c)=>{var d;try{d=c(5510)}catch{}d||(d=window.graphlib),x.exports=d},7365:(x,T,c)=>{var d=c(5760),D=c(6456).Graph,b=c(3226);x.exports=function m(v,p){if(v.nodeCount()<=1)return[];var w=function f(v,p){var w=new D,S=0,A=0;d.forEach(v.nodes(),function(F){w.setNode(F,{v:F,in:0,out:0})}),d.forEach(v.edges(),function(F){var L=w.edge(F.v,F.w)||0,R=p(F);w.setEdge(F.v,F.w,L+R),A=Math.max(A,w.node(F.v).out+=R),S=Math.max(S,w.node(F.w).in+=R)});var N=d.range(A+S+3).map(function(){return new b}),P=S+1;return d.forEach(w.nodes(),function(F){g(N,P,w.node(F))}),{graph:w,buckets:N,zeroIdx:P}}(v,p||E),S=function _(v,p,w){for(var P,S=[],A=p[p.length-1],N=p[0];v.nodeCount();){for(;P=N.dequeue();)h(v,p,w,P);for(;P=A.dequeue();)h(v,p,w,P);if(v.nodeCount())for(var F=p.length-2;F>0;--F)if(P=p[F].dequeue()){S=S.concat(h(v,p,w,P,!0));break}}return S}(w.graph,w.buckets,w.zeroIdx);return d.flatten(d.map(S,function(A){return v.outEdges(A.v,A.w)}),!0)};var E=d.constant(1);function h(v,p,w,S,A){var N=A?[]:void 0;return d.forEach(v.inEdges(S.v),function(P){var F=v.edge(P),L=v.node(P.v);A&&N.push({v:P.v,w:P.w}),L.out-=F,g(p,w,L)}),d.forEach(v.outEdges(S.v),function(P){var F=v.edge(P),R=v.node(P.w);R.in-=F,g(p,w,R)}),v.removeNode(S.v),N}function g(v,p,w){w.out?w.in?v[w.out-w.in+p].enqueue(w):v[v.length-1].enqueue(w):v[0].enqueue(w)}},4850:(x,T,c)=>{"use strict";var d=c(5760),D=c(2234),b=c(1496),E=c(4124),m=c(1510).normalizeRanks,_=c(162),h=c(1510).removeEmptyRanks,f=c(1230),g=c(9999),v=c(3870),p=c(2974),w=c(8226),S=c(1510),A=c(6456).Graph;x.exports=function N(ne,re){var le=re&&re.debugTiming?S.time:S.notime;le("layout",function(){var pe=le("  buildLayoutGraph",function(){return function B(ne){var re=new A({multigraph:!0,compound:!0}),le=je(ne.graph());return re.setGraph(d.merge({},R,ge(le,L),d.pick(le,H))),d.forEach(ne.nodes(),function(pe){var ve=je(ne.node(pe));re.setNode(pe,d.defaults(ge(ve,K),X)),re.setParent(pe,ne.parent(pe))}),d.forEach(ne.edges(),function(pe){var ve=je(ne.edge(pe));re.setEdge(pe,d.merge({},q,ge(ve,Y),d.pick(ve,V)))}),re}(ne)});le("  runLayout",function(){!function P(ne,re){re("    makeSpaceForEdgeLabels",function(){!function $(ne){var re=ne.graph();re.ranksep/=2,d.forEach(ne.edges(),function(le){var pe=ne.edge(le);pe.minlen*=2,"c"!==pe.labelpos.toLowerCase()&&("TB"===re.rankdir||"BT"===re.rankdir?pe.width+=pe.labeloffset:pe.height+=pe.labeloffset)})}(ne)}),re("    removeSelfEdges",function(){!function de(ne){d.forEach(ne.edges(),function(re){if(re.v===re.w){var le=ne.node(re.v);le.selfEdges||(le.selfEdges=[]),le.selfEdges.push({e:re,label:ne.edge(re)}),ne.removeEdge(re)}})}(ne)}),re("    acyclic",function(){D.run(ne)}),re("    nestingGraph.run",function(){f.run(ne)}),re("    rank",function(){E(S.asNonCompoundGraph(ne))}),re("    injectEdgeLabelProxies",function(){!function U(ne){d.forEach(ne.edges(),function(re){var le=ne.edge(re);if(le.width&&le.height){var pe=ne.node(re.v),ve=ne.node(re.w);S.addDummyNode(ne,"edge-proxy",{rank:(ve.rank-pe.rank)/2+pe.rank,e:re},"_ep")}})}(ne)}),re("    removeEmptyRanks",function(){h(ne)}),re("    nestingGraph.cleanup",function(){f.cleanup(ne)}),re("    normalizeRanks",function(){m(ne)}),re("    assignRankMinMax",function(){!function G(ne){var re=0;d.forEach(ne.nodes(),function(le){var pe=ne.node(le);pe.borderTop&&(pe.minRank=ne.node(pe.borderTop).rank,pe.maxRank=ne.node(pe.borderBottom).rank,re=d.max(re,pe.maxRank))}),ne.graph().maxRank=re}(ne)}),re("    removeEdgeLabelProxies",function(){!function J(ne){d.forEach(ne.nodes(),function(re){var le=ne.node(re);"edge-proxy"===le.dummy&&(ne.edge(le.e).labelRank=le.rank,ne.removeNode(re))})}(ne)}),re("    normalize.run",function(){b.run(ne)}),re("    parentDummyChains",function(){_(ne)}),re("    addBorderSegments",function(){g(ne)}),re("    order",function(){p(ne)}),re("    insertSelfEdges",function(){!function ie(ne){var re=S.buildLayerMatrix(ne);d.forEach(re,function(le){var pe=0;d.forEach(le,function(ve,me){var He=ne.node(ve);He.order=me+pe,d.forEach(He.selfEdges,function(Se){S.addDummyNode(ne,"selfedge",{width:Se.label.width,height:Se.label.height,rank:He.rank,order:me+ ++pe,e:Se.e,label:Se.label},"_se")}),delete He.selfEdges})})}(ne)}),re("    adjustCoordinateSystem",function(){v.adjust(ne)}),re("    position",function(){w(ne)}),re("    positionSelfEdges",function(){!function he(ne){d.forEach(ne.nodes(),function(re){var le=ne.node(re);if("selfedge"===le.dummy){var pe=ne.node(le.e.v),ve=pe.x+pe.width/2,me=pe.y,He=le.x-ve,Se=pe.height/2;ne.setEdge(le.e,le.label),ne.removeNode(re),le.label.points=[{x:ve+2*He/3,y:me-Se},{x:ve+5*He/6,y:me-Se},{x:ve+He,y:me},{x:ve+5*He/6,y:me+Se},{x:ve+2*He/3,y:me+Se}],le.label.x=le.x,le.label.y=le.y}})}(ne)}),re("    removeBorderNodes",function(){!function se(ne){d.forEach(ne.nodes(),function(re){if(ne.children(re).length){var le=ne.node(re),pe=ne.node(le.borderTop),ve=ne.node(le.borderBottom),me=ne.node(d.last(le.borderLeft)),He=ne.node(d.last(le.borderRight));le.width=Math.abs(He.x-me.x),le.height=Math.abs(ve.y-pe.y),le.x=me.x+le.width/2,le.y=pe.y+le.height/2}}),d.forEach(ne.nodes(),function(re){"border"===ne.node(re).dummy&&ne.removeNode(re)})}(ne)}),re("    normalize.undo",function(){b.undo(ne)}),re("    fixupEdgeLabelCoords",function(){!function z(ne){d.forEach(ne.edges(),function(re){var le=ne.edge(re);if(d.has(le,"x"))switch(("l"===le.labelpos||"r"===le.labelpos)&&(le.width-=le.labeloffset),le.labelpos){case"l":le.x-=le.width/2+le.labeloffset;break;case"r":le.x+=le.width/2+le.labeloffset}})}(ne)}),re("    undoCoordinateSystem",function(){v.undo(ne)}),re("    translateGraph",function(){!function oe(ne){var re=Number.POSITIVE_INFINITY,le=0,pe=Number.POSITIVE_INFINITY,ve=0,me=ne.graph(),He=me.marginx||0,Se=me.marginy||0;function kn(kt){var Ht=kt.x,ot=kt.y,Zr=kt.width,at=kt.height;re=Math.min(re,Ht-Zr/2),le=Math.max(le,Ht+Zr/2),pe=Math.min(pe,ot-at/2),ve=Math.max(ve,ot+at/2)}d.forEach(ne.nodes(),function(kt){kn(ne.node(kt))}),d.forEach(ne.edges(),function(kt){var Ht=ne.edge(kt);d.has(Ht,"x")&&kn(Ht)}),re-=He,pe-=Se,d.forEach(ne.nodes(),function(kt){var Ht=ne.node(kt);Ht.x-=re,Ht.y-=pe}),d.forEach(ne.edges(),function(kt){var Ht=ne.edge(kt);d.forEach(Ht.points,function(ot){ot.x-=re,ot.y-=pe}),d.has(Ht,"x")&&(Ht.x-=re),d.has(Ht,"y")&&(Ht.y-=pe)}),me.width=le-re+He,me.height=ve-pe+Se}(ne)}),re("    assignNodeIntersects",function(){!function W(ne){d.forEach(ne.edges(),function(re){var me,He,le=ne.edge(re),pe=ne.node(re.v),ve=ne.node(re.w);le.points?(me=le.points[0],He=le.points[le.points.length-1]):(le.points=[],me=ve,He=pe),le.points.unshift(S.intersectRect(pe,me)),le.points.push(S.intersectRect(ve,He))})}(ne)}),re("    reversePoints",function(){!function te(ne){d.forEach(ne.edges(),function(re){var le=ne.edge(re);le.reversed&&le.points.reverse()})}(ne)}),re("    acyclic.undo",function(){D.undo(ne)})}(pe,le)}),le("  updateInputGraph",function(){!function F(ne,re){d.forEach(ne.nodes(),function(le){var pe=ne.node(le),ve=re.node(le);pe&&(pe.x=ve.x,pe.y=ve.y,re.children(le).length&&(pe.width=ve.width,pe.height=ve.height))}),d.forEach(ne.edges(),function(le){var pe=ne.edge(le),ve=re.edge(le);pe.points=ve.points,d.has(ve,"x")&&(pe.x=ve.x,pe.y=ve.y)}),ne.graph().width=re.graph().width,ne.graph().height=re.graph().height}(ne,pe)})})};var L=["nodesep","edgesep","ranksep","marginx","marginy"],R={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],K=["width","height"],X={width:0,height:0},Y=["minlen","weight","width","height","labeloffset"],q={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V=["labelpos"];function ge(ne,re){return d.mapValues(d.pick(ne,re),Number)}function je(ne){var re={};return d.forEach(ne,function(le,pe){re[pe.toLowerCase()]=le}),re}},5760:(x,T,c)=>{var d;try{d={cloneDeep:c(733),constant:c(6684),defaults:c(8800),each:c(5474),filter:c(5281),find:c(2516),flatten:c(2274),forEach:c(9851),forIn:c(1176),has:c(4842),isUndefined:c(4235),last:c(5809),map:c(9984),mapValues:c(203),max:c(8176),merge:c(567),min:c(9439),minBy:c(9525),now:c(1710),pick:c(6372),range:c(361),reduce:c(1337),sortBy:c(2906),uniqueId:c(1541),values:c(377),zipObject:c(1617)}}catch{}d||(d=window._),x.exports=d},1230:(x,T,c)=>{var d=c(5760),D=c(1510);function E(f,g,v,p,w,S,A){var N=f.children(A);if(N.length){var P=D.addBorderNode(f,"_bt"),F=D.addBorderNode(f,"_bb"),L=f.node(A);f.setParent(P,A),L.borderTop=P,f.setParent(F,A),L.borderBottom=F,d.forEach(N,function(R){E(f,g,v,p,w,S,R);var H=f.node(R),K=H.borderTop?H.borderTop:R,X=H.borderBottom?H.borderBottom:R,Y=H.borderTop?p:2*p,q=K!==X?1:w-S[A]+1;f.setEdge(P,K,{weight:Y,minlen:q,nestingEdge:!0}),f.setEdge(X,F,{weight:Y,minlen:q,nestingEdge:!0})}),f.parent(A)||f.setEdge(g,P,{weight:0,minlen:w+S[A]})}else A!==g&&f.setEdge(g,A,{weight:0,minlen:v})}x.exports={run:function b(f){var g=D.addDummyNode(f,"root",{},"_root"),v=function m(f){var g={};function v(p,w){var S=f.children(p);S&&S.length&&d.forEach(S,function(A){v(A,w+1)}),g[p]=w}return d.forEach(f.children(),function(p){v(p,1)}),g}(f),p=d.max(d.values(v))-1,w=2*p+1;f.graph().nestingRoot=g,d.forEach(f.edges(),function(A){f.edge(A).minlen*=w});var S=function _(f){return d.reduce(f.edges(),function(g,v){return g+f.edge(v).weight},0)}(f)+1;d.forEach(f.children(),function(A){E(f,g,w,S,p,v,A)}),f.graph().nodeRankFactor=w},cleanup:function h(f){var g=f.graph();f.removeNode(g.nestingRoot),delete g.nestingRoot,d.forEach(f.edges(),function(v){f.edge(v).nestingEdge&&f.removeEdge(v)})}}},1496:(x,T,c)=>{"use strict";var d=c(5760),D=c(1510);x.exports={run:function b(_){_.graph().dummyChains=[],d.forEach(_.edges(),function(h){!function E(_,h){var f=h.v,g=_.node(f).rank,v=h.w,p=_.node(v).rank,w=h.name,S=_.edge(h),A=S.labelRank;if(p!==g+1){var N,P,F;for(_.removeEdge(h),F=0,++g;g<p;++F,++g)S.points=[],N=D.addDummyNode(_,"edge",P={width:0,height:0,edgeLabel:S,edgeObj:h,rank:g},"_d"),g===A&&(P.width=S.width,P.height=S.height,P.dummy="edge-label",P.labelpos=S.labelpos),_.setEdge(f,N,{weight:S.weight},w),0===F&&_.graph().dummyChains.push(N),f=N;_.setEdge(f,v,{weight:S.weight},w)}}(_,h)})},undo:function m(_){d.forEach(_.graph().dummyChains,function(h){var v,f=_.node(h),g=f.edgeLabel;for(_.setEdge(f.edgeObj,g);f.dummy;)v=_.successors(h)[0],_.removeNode(h),g.points.push({x:f.x,y:f.y}),"edge-label"===f.dummy&&(g.x=f.x,g.y=f.y,g.width=f.width,g.height=f.height),f=_.node(h=v)})}}},3034:(x,T,c)=>{var d=c(5760);x.exports=function D(b,E,m){var h,_={};d.forEach(m,function(f){for(var v,p,g=b.parent(f);g;){if((v=b.parent(g))?(p=_[v],_[v]=g):(p=h,h=g),p&&p!==g)return void E.setEdge(p,g);g=v}})}},1323:(x,T,c)=>{var d=c(5760);x.exports=function D(b,E){return d.map(E,function(m){var _=b.inEdges(m);if(_.length){var h=d.reduce(_,function(f,g){var v=b.edge(g),p=b.node(g.v);return{sum:f.sum+v.weight*p.order,weight:f.weight+v.weight}},{sum:0,weight:0});return{v:m,barycenter:h.sum/h.weight,weight:h.weight}}return{v:m}})}},1686:(x,T,c)=>{var d=c(5760),D=c(6456).Graph;x.exports=function b(m,_,h){var f=function E(m){for(var _;m.hasNode(_=d.uniqueId("_root")););return _}(m),g=new D({compound:!0}).setGraph({root:f}).setDefaultNodeLabel(function(v){return m.node(v)});return d.forEach(m.nodes(),function(v){var p=m.node(v),w=m.parent(v);(p.rank===_||p.minRank<=_&&_<=p.maxRank)&&(g.setNode(v),g.setParent(v,w||f),d.forEach(m[h](v),function(S){var A=S.v===v?S.w:S.v,N=g.edge(A,v),P=d.isUndefined(N)?0:N.weight;g.setEdge(A,v,{weight:m.edge(S).weight+P})}),d.has(p,"minRank")&&g.setNode(v,{borderLeft:p.borderLeft[_],borderRight:p.borderRight[_]}))}),g}},8796:(x,T,c)=>{"use strict";var d=c(5760);function b(E,m,_){for(var h=d.zipObject(_,d.map(_,function(S,A){return A})),f=d.flatten(d.map(m,function(S){return d.sortBy(d.map(E.outEdges(S),function(A){return{pos:h[A.w],weight:E.edge(A).weight}}),"pos")}),!0),g=1;g<_.length;)g<<=1;var v=2*g-1;g-=1;var p=d.map(new Array(v),function(){return 0}),w=0;return d.forEach(f.forEach(function(S){var A=S.pos+g;p[A]+=S.weight;for(var N=0;A>0;)A%2&&(N+=p[A+1]),p[A=A-1>>1]+=S.weight;w+=S.weight*N})),w}x.exports=function D(E,m){for(var _=0,h=1;h<m.length;++h)_+=b(E,m[h-1],m[h]);return _}},2974:(x,T,c)=>{"use strict";var d=c(5760),D=c(9402),b=c(8796),E=c(1057),m=c(1686),_=c(3034),h=c(6456).Graph,f=c(1510);function v(S,A,N){return d.map(A,function(P){return m(S,P,N)})}function p(S,A){var N=new h;d.forEach(S,function(P){var F=P.graph().root,L=E(P,F,N,A);d.forEach(L.vs,function(R,H){P.node(R).order=H}),_(P,N,L.vs)})}function w(S,A){d.forEach(A,function(N){d.forEach(N,function(P,F){S.node(P).order=F})})}x.exports=function g(S){var A=f.maxRank(S),N=v(S,d.range(1,A+1),"inEdges"),P=v(S,d.range(A-1,-1,-1),"outEdges"),F=D(S);w(S,F);for(var R,L=Number.POSITIVE_INFINITY,H=0,K=0;K<4;++H,++K){p(H%2?N:P,H%4>=2),F=f.buildLayerMatrix(S);var X=b(S,F);X<L&&(K=0,R=d.cloneDeep(F),L=X)}w(S,R)}},9402:(x,T,c)=>{"use strict";var d=c(5760);x.exports=function D(b){var E={},m=d.filter(b.nodes(),function(v){return!b.children(v).length}),_=d.max(d.map(m,function(v){return b.node(v).rank})),h=d.map(d.range(_+1),function(){return[]}),g=d.sortBy(m,function(v){return b.node(v).rank});return d.forEach(g,function f(v){if(!d.has(E,v)){E[v]=!0;var p=b.node(v);h[p.rank].push(v),d.forEach(b.successors(v),f)}}),h}},3826:(x,T,c)=>{"use strict";var d=c(5760);x.exports=function D(m,_){var h={};return d.forEach(m,function(g,v){var p=h[g.v]={indegree:0,in:[],out:[],vs:[g.v],i:v};d.isUndefined(g.barycenter)||(p.barycenter=g.barycenter,p.weight=g.weight)}),d.forEach(_.edges(),function(g){var v=h[g.v],p=h[g.w];!d.isUndefined(v)&&!d.isUndefined(p)&&(p.indegree++,v.out.push(h[g.w]))}),function b(m){var _=[];function h(v){return function(p){p.merged||(d.isUndefined(p.barycenter)||d.isUndefined(v.barycenter)||p.barycenter>=v.barycenter)&&function E(m,_){var h=0,f=0;m.weight&&(h+=m.barycenter*m.weight,f+=m.weight),_.weight&&(h+=_.barycenter*_.weight,f+=_.weight),m.vs=_.vs.concat(m.vs),m.barycenter=h/f,m.weight=f,m.i=Math.min(_.i,m.i),_.merged=!0}(v,p)}}function f(v){return function(p){p.in.push(v),0==--p.indegree&&m.push(p)}}for(;m.length;){var g=m.pop();_.push(g),d.forEach(g.in.reverse(),h(g)),d.forEach(g.out,f(g))}return d.map(d.filter(_,function(v){return!v.merged}),function(v){return d.pick(v,["vs","i","barycenter","weight"])})}(d.filter(h,function(g){return!g.indegree}))}},1057:(x,T,c)=>{var d=c(5760),D=c(1323),b=c(3826),E=c(3803);x.exports=function m(f,g,v,p){var w=f.children(g),S=f.node(g),A=S?S.borderLeft:void 0,N=S?S.borderRight:void 0,P={};A&&(w=d.filter(w,function(X){return X!==A&&X!==N}));var F=D(f,w);d.forEach(F,function(X){if(f.children(X.v).length){var Y=m(f,X.v,v,p);P[X.v]=Y,d.has(Y,"barycenter")&&function h(f,g){d.isUndefined(f.barycenter)?(f.barycenter=g.barycenter,f.weight=g.weight):(f.barycenter=(f.barycenter*f.weight+g.barycenter*g.weight)/(f.weight+g.weight),f.weight+=g.weight)}(X,Y)}});var L=b(F,v);!function _(f,g){d.forEach(f,function(v){v.vs=d.flatten(v.vs.map(function(p){return g[p]?g[p].vs:p}),!0)})}(L,P);var R=E(L,p);if(A&&(R.vs=d.flatten([A,R.vs,N],!0),f.predecessors(A).length)){var H=f.node(f.predecessors(A)[0]),K=f.node(f.predecessors(N)[0]);d.has(R,"barycenter")||(R.barycenter=0,R.weight=0),R.barycenter=(R.barycenter*R.weight+H.order+K.order)/(R.weight+2),R.weight+=2}return R}},3803:(x,T,c)=>{var d=c(5760),D=c(1510);function E(_,h,f){for(var g;h.length&&(g=d.last(h)).i<=f;)h.pop(),_.push(g.vs),f++;return f}x.exports=function b(_,h){var f=D.partition(_,function(P){return d.has(P,"barycenter")}),g=f.lhs,v=d.sortBy(f.rhs,function(P){return-P.i}),p=[],w=0,S=0,A=0;g.sort(function m(_){return function(h,f){return h.barycenter<f.barycenter?-1:h.barycenter>f.barycenter?1:_?f.i-h.i:h.i-f.i}}(!!h)),A=E(p,v,A),d.forEach(g,function(P){A+=P.vs.length,p.push(P.vs),w+=P.barycenter*P.weight,S+=P.weight,A=E(p,v,A)});var N={vs:d.flatten(p,!0)};return S&&(N.barycenter=w/S,N.weight=S),N}},162:(x,T,c)=>{var d=c(5760);x.exports=function D(m){var _=function E(m){var _={},h=0;return d.forEach(m.children(),function f(g){var v=h;d.forEach(m.children(g),f),_[g]={low:v,lim:h++}}),_}(m);d.forEach(m.graph().dummyChains,function(h){for(var f=m.node(h),g=f.edgeObj,v=function b(m,_,h,f){var S,A,g=[],v=[],p=Math.min(_[h].low,_[f].low),w=Math.max(_[h].lim,_[f].lim);S=h;do{S=m.parent(S),g.push(S)}while(S&&(_[S].low>p||w>_[S].lim));for(A=S,S=f;(S=m.parent(S))!==A;)v.push(S);return{path:g.concat(v.reverse()),lca:A}}(m,_,g.v,g.w),p=v.path,w=v.lca,S=0,A=p[S],N=!0;h!==g.w;){if(f=m.node(h),N){for(;(A=p[S])!==w&&m.node(A).maxRank<f.rank;)S++;A===w&&(N=!1)}if(!N){for(;S<p.length-1&&m.node(A=p[S+1]).minRank<=f.rank;)S++;A=p[S]}m.setParent(h,A),h=m.successors(h)[0]}})}},4058:(x,T,c)=>{"use strict";var d=c(5760),D=c(6456).Graph,b=c(1510);function E(L,R){var H={};return d.reduce(R,function K(X,Y){var q=0,V=0,B=X.length,$=d.last(Y);return d.forEach(Y,function(U,G){var J=function _(L,R){if(L.node(R).dummy)return d.find(L.predecessors(R),function(H){return L.node(H).dummy})}(L,U),oe=J?L.node(J).order:B;(J||U===$)&&(d.forEach(Y.slice(V,G+1),function(W){d.forEach(L.predecessors(W),function(z){var te=L.node(z),se=te.order;(se<q||oe<se)&&(!te.dummy||!L.node(W).dummy)&&h(H,z,W)})}),V=G+1,q=oe)}),Y}),H}function m(L,R){var H={};function K(Y,q,V,B,$){var U;d.forEach(d.range(q,V),function(G){L.node(U=Y[G]).dummy&&d.forEach(L.predecessors(U),function(J){var oe=L.node(J);oe.dummy&&(oe.order<B||oe.order>$)&&h(H,J,U)})})}return d.reduce(R,function X(Y,q){var B,V=-1,$=0;return d.forEach(q,function(U,G){if("border"===L.node(U).dummy){var J=L.predecessors(U);J.length&&(B=L.node(J[0]).order,K(q,$,G,V,B),$=G,V=B)}K(q,$,q.length,B,Y.length)}),q}),H}function h(L,R,H){if(R>H){var K=R;R=H,H=K}var X=L[R];X||(L[R]=X={}),X[H]=!0}function f(L,R,H){if(R>H){var K=R;R=H,H=K}return d.has(L[R],H)}function g(L,R,H,K){var X={},Y={},q={};return d.forEach(R,function(V){d.forEach(V,function(B,$){X[B]=B,Y[B]=B,q[B]=$})}),d.forEach(R,function(V){var B=-1;d.forEach(V,function($){var U=K($);if(U.length)for(var G=((U=d.sortBy(U,function(z){return q[z]})).length-1)/2,J=Math.floor(G),oe=Math.ceil(G);J<=oe;++J){var W=U[J];Y[$]===$&&B<q[W]&&!f(H,$,W)&&(Y[W]=$,Y[$]=X[$]=X[W],B=q[W])}})}),{root:X,align:Y}}function v(L,R,H,K,X){var Y={},q=function p(L,R,H,K){var X=new D,Y=L.graph(),q=function P(L,R,H){return function(K,X,Y){var $,q=K.node(X),V=K.node(Y),B=0;if(B+=q.width/2,d.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":$=-q.width/2;break;case"r":$=q.width/2}if($&&(B+=H?$:-$),$=0,B+=(q.dummy?R:L)/2,B+=(V.dummy?R:L)/2,B+=V.width/2,d.has(V,"labelpos"))switch(V.labelpos.toLowerCase()){case"l":$=V.width/2;break;case"r":$=-V.width/2}return $&&(B+=H?$:-$),$=0,B}}(Y.nodesep,Y.edgesep,K);return d.forEach(R,function(V){var B;d.forEach(V,function($){var U=H[$];if(X.setNode(U),B){var G=H[B],J=X.edge(G,U);X.setEdge(G,U,Math.max(q(L,$,B),J||0))}B=$})}),X}(L,R,H,X),V=X?"borderLeft":"borderRight";function B(G,J){for(var oe=q.nodes(),W=oe.pop(),z={};W;)z[W]?G(W):(z[W]=!0,oe.push(W),oe=oe.concat(J(W))),W=oe.pop()}return B(function $(G){Y[G]=q.inEdges(G).reduce(function(J,oe){return Math.max(J,Y[oe.v]+q.edge(oe))},0)},q.predecessors.bind(q)),B(function U(G){var J=q.outEdges(G).reduce(function(W,z){return Math.min(W,Y[z.w]-q.edge(z))},Number.POSITIVE_INFINITY),oe=L.node(G);J!==Number.POSITIVE_INFINITY&&oe.borderType!==V&&(Y[G]=Math.max(Y[G],J))},q.successors.bind(q)),d.forEach(K,function(G){Y[G]=Y[H[G]]}),Y}function w(L,R){return d.minBy(d.values(R),function(H){var K=Number.NEGATIVE_INFINITY,X=Number.POSITIVE_INFINITY;return d.forIn(H,function(Y,q){var V=function F(L,R){return L.node(R).width}(L,q)/2;K=Math.max(Y+V,K),X=Math.min(Y-V,X)}),K-X})}function S(L,R){var H=d.values(R),K=d.min(H),X=d.max(H);d.forEach(["u","d"],function(Y){d.forEach(["l","r"],function(q){var $,V=Y+q,B=L[V];if(B!==R){var U=d.values(B);($="l"===q?K-d.min(U):X-d.max(U))&&(L[V]=d.mapValues(B,function(G){return G+$}))}})})}function A(L,R){return d.mapValues(L.ul,function(H,K){if(R)return L[R.toLowerCase()][K];var X=d.sortBy(d.map(L,K));return(X[1]+X[2])/2})}x.exports={positionX:function N(L){var X,R=b.buildLayerMatrix(L),H=d.merge(E(L,R),m(L,R)),K={};d.forEach(["u","d"],function(q){X="u"===q?R:d.values(R).reverse(),d.forEach(["l","r"],function(V){"r"===V&&(X=d.map(X,function(G){return d.values(G).reverse()}));var B=("u"===q?L.predecessors:L.successors).bind(L),$=g(0,X,H,B),U=v(L,X,$.root,$.align,"r"===V);"r"===V&&(U=d.mapValues(U,function(G){return-G})),K[q+V]=U})});var Y=w(L,K);return S(K,Y),A(K,L.graph().align)},findType1Conflicts:E,findType2Conflicts:m,addConflict:h,hasConflict:f,verticalAlignment:g,horizontalCompaction:v,alignCoordinates:S,findSmallestWidthAlignment:w,balance:A}},8226:(x,T,c)=>{"use strict";var d=c(5760),D=c(1510),b=c(4058).positionX;x.exports=function E(_){(function m(_){var h=D.buildLayerMatrix(_),f=_.graph().ranksep,g=0;d.forEach(h,function(v){var p=d.max(d.map(v,function(w){return _.node(w).height}));d.forEach(v,function(w){_.node(w).y=g+p/2}),g+=p+f})})(_=D.asNonCompoundGraph(_)),d.forEach(b(_),function(h,f){_.node(f).x=h})}},6632:(x,T,c)=>{"use strict";var d=c(5760),D=c(6456).Graph,b=c(1916).slack;function m(f,g){return d.forEach(f.nodes(),function v(p){d.forEach(g.nodeEdges(p),function(w){var S=w.v,A=p===S?w.w:S;!f.hasNode(A)&&!b(g,w)&&(f.setNode(A,{}),f.setEdge(p,A,{}),v(A))})}),f.nodeCount()}function _(f,g){return d.minBy(g.edges(),function(v){if(f.hasNode(v.v)!==f.hasNode(v.w))return b(g,v)})}function h(f,g,v){d.forEach(f.nodes(),function(p){g.node(p).rank+=v})}x.exports=function E(f){var w,S,g=new D({directed:!1}),v=f.nodes()[0],p=f.nodeCount();for(g.setNode(v,{});m(g,f)<p;)w=_(g,f),S=g.hasNode(w.v)?b(f,w):-b(f,w),h(g,f,S);return g}},4124:(x,T,c)=>{"use strict";var D=c(1916).longestPath,b=c(6632),E=c(3804);x.exports=function m(g){switch(g.graph().ranker){case"network-simplex":default:!function f(g){E(g)}(g);break;case"tight-tree":!function h(g){D(g),b(g)}(g);break;case"longest-path":_(g)}};var _=D},3804:(x,T,c)=>{"use strict";var d=c(5760),D=c(6632),b=c(1916).slack,E=c(1916).longestPath,m=c(6456).alg.preorder,_=c(6456).alg.postorder,h=c(1510).simplify;function f(H){H=h(H),E(H);var X,K=D(H);for(w(K),g(K,H);X=A(K);)P(K,H,X,N(K,H,X))}function g(H,K){var X=_(H,H.nodes());X=X.slice(0,X.length-1),d.forEach(X,function(Y){!function v(H,K,X){var Y=H.node(X);H.edge(X,Y.parent).cutvalue=p(H,K,X)}(H,K,Y)})}function p(H,K,X){var q=H.node(X).parent,V=!0,B=K.edge(X,q),$=0;return B||(V=!1,B=K.edge(q,X)),$=B.weight,d.forEach(K.nodeEdges(X),function(U){var G=U.v===X,J=G?U.w:U.v;if(J!==q){var oe=G===V,W=K.edge(U).weight;if($+=oe?W:-W,function L(H,K,X){return H.hasEdge(K,X)}(H,X,J)){var z=H.edge(X,J).cutvalue;$+=oe?-z:z}}}),$}function w(H,K){arguments.length<2&&(K=H.nodes()[0]),S(H,{},1,K)}function S(H,K,X,Y,q){var V=X,B=H.node(Y);return K[Y]=!0,d.forEach(H.neighbors(Y),function($){d.has(K,$)||(X=S(H,K,X,$,Y))}),B.low=V,B.lim=X++,q?B.parent=q:delete B.parent,X}function A(H){return d.find(H.edges(),function(K){return H.edge(K).cutvalue<0})}function N(H,K,X){var Y=X.v,q=X.w;K.hasEdge(Y,q)||(Y=X.w,q=X.v);var V=H.node(Y),B=H.node(q),$=V,U=!1;V.lim>B.lim&&($=B,U=!0);var G=d.filter(K.edges(),function(J){return U===R(0,H.node(J.v),$)&&U!==R(0,H.node(J.w),$)});return d.minBy(G,function(J){return b(K,J)})}function P(H,K,X,Y){H.removeEdge(X.v,X.w),H.setEdge(Y.v,Y.w,{}),w(H),g(H,K),function F(H,K){var X=d.find(H.nodes(),function(q){return!K.node(q).parent}),Y=m(H,X);Y=Y.slice(1),d.forEach(Y,function(q){var V=H.node(q).parent,B=K.edge(q,V),$=!1;B||(B=K.edge(V,q),$=!0),K.node(q).rank=K.node(V).rank+($?B.minlen:-B.minlen)})}(H,K)}function R(H,K,X){return X.low<=K.lim&&K.lim<=X.lim}x.exports=f,f.initLowLimValues=w,f.initCutValues=g,f.calcCutValue=p,f.leaveEdge=A,f.enterEdge=N,f.exchangeEdges=P},1916:(x,T,c)=>{"use strict";var d=c(5760);x.exports={longestPath:function D(E){var m={};d.forEach(E.sources(),function _(h){var f=E.node(h);if(d.has(m,h))return f.rank;m[h]=!0;var g=d.min(d.map(E.outEdges(h),function(v){return _(v.w)-E.edge(v).minlen}));return(g===Number.POSITIVE_INFINITY||null==g)&&(g=0),f.rank=g})},slack:function b(E,m){return E.node(m.w).rank-E.node(m.v).rank-E.edge(m).minlen}}},1510:(x,T,c)=>{"use strict";var d=c(5760),D=c(6456).Graph;function b(F,L,R,H){var K;do{K=d.uniqueId(H)}while(F.hasNode(K));return R.dummy=L,F.setNode(K,R),K}function S(F){return d.max(d.map(F.nodes(),function(L){var R=F.node(L).rank;if(!d.isUndefined(R))return R}))}x.exports={addDummyNode:b,simplify:function E(F){var L=(new D).setGraph(F.graph());return d.forEach(F.nodes(),function(R){L.setNode(R,F.node(R))}),d.forEach(F.edges(),function(R){var H=L.edge(R.v,R.w)||{weight:0,minlen:1},K=F.edge(R);L.setEdge(R.v,R.w,{weight:H.weight+K.weight,minlen:Math.max(H.minlen,K.minlen)})}),L},asNonCompoundGraph:function m(F){var L=new D({multigraph:F.isMultigraph()}).setGraph(F.graph());return d.forEach(F.nodes(),function(R){F.children(R).length||L.setNode(R,F.node(R))}),d.forEach(F.edges(),function(R){L.setEdge(R,F.edge(R))}),L},successorWeights:function _(F){var L=d.map(F.nodes(),function(R){var H={};return d.forEach(F.outEdges(R),function(K){H[K.w]=(H[K.w]||0)+F.edge(K).weight}),H});return d.zipObject(F.nodes(),L)},predecessorWeights:function h(F){var L=d.map(F.nodes(),function(R){var H={};return d.forEach(F.inEdges(R),function(K){H[K.v]=(H[K.v]||0)+F.edge(K).weight}),H});return d.zipObject(F.nodes(),L)},intersectRect:function f(F,L){var V,B,R=F.x,H=F.y,K=L.x-R,X=L.y-H,Y=F.width/2,q=F.height/2;if(!K&&!X)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(X)*Y>Math.abs(K)*q?(X<0&&(q=-q),V=q*K/X,B=q):(K<0&&(Y=-Y),V=Y,B=Y*X/K),{x:R+V,y:H+B}},buildLayerMatrix:function g(F){var L=d.map(d.range(S(F)+1),function(){return[]});return d.forEach(F.nodes(),function(R){var H=F.node(R),K=H.rank;d.isUndefined(K)||(L[K][H.order]=R)}),L},normalizeRanks:function v(F){var L=d.min(d.map(F.nodes(),function(R){return F.node(R).rank}));d.forEach(F.nodes(),function(R){var H=F.node(R);d.has(H,"rank")&&(H.rank-=L)})},removeEmptyRanks:function p(F){var L=d.min(d.map(F.nodes(),function(X){return F.node(X).rank})),R=[];d.forEach(F.nodes(),function(X){var Y=F.node(X).rank-L;R[Y]||(R[Y]=[]),R[Y].push(X)});var H=0,K=F.graph().nodeRankFactor;d.forEach(R,function(X,Y){d.isUndefined(X)&&Y%K!=0?--H:H&&d.forEach(X,function(q){F.node(q).rank+=H})})},addBorderNode:function w(F,L,R,H){var K={width:0,height:0};return arguments.length>=4&&(K.rank=R,K.order=H),b(F,"border",K,L)},maxRank:S,partition:function A(F,L){var R={lhs:[],rhs:[]};return d.forEach(F,function(H){L(H)?R.lhs.push(H):R.rhs.push(H)}),R},time:function N(F,L){var R=d.now();try{return L()}finally{console.log(F+" time: "+(d.now()-R)+"ms")}},notime:function P(F,L){return L()}}},8126:x=>{x.exports="0.8.5"},5510:(x,T,c)=>{var d=c(1838);x.exports={Graph:d.Graph,json:c(1088),alg:c(3430),version:d.version}},6730:(x,T,c)=>{var d=c(9138);x.exports=function D(b){var _,E={},m=[];function h(f){d.has(E,f)||(E[f]=!0,_.push(f),d.each(b.successors(f),h),d.each(b.predecessors(f),h))}return d.each(b.nodes(),function(f){_=[],h(f),_.length&&m.push(_)}),m}},2163:(x,T,c)=>{var d=c(9138);function b(E,m,_,h,f,g){d.has(h,m)||(h[m]=!0,_||g.push(m),d.each(f(m),function(v){b(E,v,_,h,f,g)}),_&&g.push(m))}x.exports=function D(E,m,_){d.isArray(m)||(m=[m]);var h=(E.isDirected()?E.successors:E.neighbors).bind(E),f=[],g={};return d.each(m,function(v){if(!E.hasNode(v))throw new Error("Graph does not have node: "+v);b(E,v,"post"===_,g,h,f)}),f}},5668:(x,T,c)=>{var d=c(1718),D=c(9138);x.exports=function b(E,m,_){return D.transform(E.nodes(),function(h,f){h[f]=d(E,f,m,_)},{})}},1718:(x,T,c)=>{var d=c(9138),D=c(1919);x.exports=function E(_,h,f,g){return function m(_,h,f,g){var w,S,v={},p=new D,A=function(N){var P=N.v!==w?N.v:N.w,F=v[P],L=f(N),R=S.distance+L;if(L<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+N+" Weight: "+L);R<F.distance&&(F.distance=R,F.predecessor=w,p.decrease(P,R))};for(_.nodes().forEach(function(N){var P=N===h?0:Number.POSITIVE_INFINITY;v[N]={distance:P},p.add(N,P)});p.size()>0&&(w=p.removeMin(),(S=v[w]).distance!==Number.POSITIVE_INFINITY);)g(w).forEach(A);return v}(_,String(h),f||b,g||function(v){return _.outEdges(v)})};var b=d.constant(1)},9611:(x,T,c)=>{var d=c(9138),D=c(3585);x.exports=function b(E){return d.filter(D(E),function(m){return m.length>1||1===m.length&&E.hasEdge(m[0],m[0])})}},2881:(x,T,c)=>{var d=c(9138);x.exports=function b(m,_,h){return function E(m,_,h){var f={},g=m.nodes();return g.forEach(function(v){f[v]={},f[v][v]={distance:0},g.forEach(function(p){v!==p&&(f[v][p]={distance:Number.POSITIVE_INFINITY})}),h(v).forEach(function(p){var w=p.v===v?p.w:p.v,S=_(p);f[v][w]={distance:S,predecessor:v}})}),g.forEach(function(v){var p=f[v];g.forEach(function(w){var S=f[w];g.forEach(function(A){var P=p[A],F=S[A],L=S[v].distance+P.distance;L<F.distance&&(F.distance=L,F.predecessor=P.predecessor)})})}),f}(m,_||D,h||function(f){return m.outEdges(f)})};var D=d.constant(1)},3430:(x,T,c)=>{x.exports={components:c(6730),dijkstra:c(1718),dijkstraAll:c(5668),findCycles:c(9611),floydWarshall:c(2881),isAcyclic:c(6693),postorder:c(6694),preorder:c(5330),prim:c(6823),tarjan:c(3585),topsort:c(2180)}},6693:(x,T,c)=>{var d=c(2180);x.exports=function D(b){try{d(b)}catch(E){if(E instanceof d.CycleException)return!1;throw E}return!0}},6694:(x,T,c)=>{var d=c(2163);x.exports=function D(b,E){return d(b,E,"post")}},5330:(x,T,c)=>{var d=c(2163);x.exports=function D(b,E){return d(b,E,"pre")}},6823:(x,T,c)=>{var d=c(9138),D=c(6568),b=c(1919);x.exports=function E(m,_){var v,h=new D,f={},g=new b;function p(S){var A=S.v===v?S.w:S.v,N=g.priority(A);if(void 0!==N){var P=_(S);P<N&&(f[A]=v,g.decrease(A,P))}}if(0===m.nodeCount())return h;d.each(m.nodes(),function(S){g.add(S,Number.POSITIVE_INFINITY),h.setNode(S)}),g.decrease(m.nodes()[0],0);for(var w=!1;g.size()>0;){if(v=g.removeMin(),d.has(f,v))h.setEdge(v,f[v]);else{if(w)throw new Error("Input graph is not connected: "+m);w=!0}m.nodeEdges(v).forEach(p)}return h}},3585:(x,T,c)=>{var d=c(9138);x.exports=function D(b){var E=0,m=[],_={},h=[];function f(g){var v=_[g]={onStack:!0,lowlink:E,index:E++};if(m.push(g),b.successors(g).forEach(function(S){d.has(_,S)?_[S].onStack&&(v.lowlink=Math.min(v.lowlink,_[S].index)):(f(S),v.lowlink=Math.min(v.lowlink,_[S].lowlink))}),v.lowlink===v.index){var w,p=[];do{w=m.pop(),_[w].onStack=!1,p.push(w)}while(g!==w);h.push(p)}}return b.nodes().forEach(function(g){d.has(_,g)||f(g)}),h}},2180:(x,T,c)=>{var d=c(9138);function D(E){var m={},_={},h=[];if(d.each(E.sinks(),function f(g){if(d.has(_,g))throw new b;d.has(m,g)||(_[g]=!0,m[g]=!0,d.each(E.predecessors(g),f),delete _[g],h.push(g))}),d.size(m)!==E.nodeCount())throw new b;return h}function b(){}x.exports=D,D.CycleException=b,b.prototype=new Error},1919:(x,T,c)=>{var d=c(9138);function D(){this._arr=[],this._keyIndices={}}x.exports=D,D.prototype.size=function(){return this._arr.length},D.prototype.keys=function(){return this._arr.map(function(b){return b.key})},D.prototype.has=function(b){return d.has(this._keyIndices,b)},D.prototype.priority=function(b){var E=this._keyIndices[b];if(void 0!==E)return this._arr[E].priority},D.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},D.prototype.add=function(b,E){var m=this._keyIndices;if(b=String(b),!d.has(m,b)){var _=this._arr,h=_.length;return m[b]=h,_.push({key:b,priority:E}),this._decrease(h),!0}return!1},D.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var b=this._arr.pop();return delete this._keyIndices[b.key],this._heapify(0),b.key},D.prototype.decrease=function(b,E){var m=this._keyIndices[b];if(E>this._arr[m].priority)throw new Error("New priority is greater than current priority. Key: "+b+" Old: "+this._arr[m].priority+" New: "+E);this._arr[m].priority=E,this._decrease(m)},D.prototype._heapify=function(b){var E=this._arr,m=2*b,_=m+1,h=b;m<E.length&&(h=E[m].priority<E[h].priority?m:h,_<E.length&&(h=E[_].priority<E[h].priority?_:h),h!==b&&(this._swap(b,h),this._heapify(h)))},D.prototype._decrease=function(b){for(var _,E=this._arr,m=E[b].priority;0!==b&&!(E[_=b>>1].priority<m);)this._swap(b,_),b=_},D.prototype._swap=function(b,E){var m=this._arr,_=this._keyIndices,h=m[b],f=m[E];m[b]=f,m[E]=h,_[f.key]=b,_[h.key]=E}},6568:(x,T,c)=>{"use strict";var d=c(9138);x.exports=m;var b="\0";function m(p){this._isDirected=!d.has(p,"directed")||p.directed,this._isMultigraph=!!d.has(p,"multigraph")&&p.multigraph,this._isCompound=!!d.has(p,"compound")&&p.compound,this._label=void 0,this._defaultNodeLabelFn=d.constant(void 0),this._defaultEdgeLabelFn=d.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[b]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function _(p,w){p[w]?p[w]++:p[w]=1}function h(p,w){--p[w]||delete p[w]}function f(p,w,S,A){var N=""+w,P=""+S;if(!p&&N>P){var F=N;N=P,P=F}return N+"\x01"+P+"\x01"+(d.isUndefined(A)?"\0":A)}function g(p,w,S,A){var N=""+w,P=""+S;if(!p&&N>P){var F=N;N=P,P=F}var L={v:N,w:P};return A&&(L.name=A),L}function v(p,w){return f(p,w.v,w.w,w.name)}m.prototype._nodeCount=0,m.prototype._edgeCount=0,m.prototype.isDirected=function(){return this._isDirected},m.prototype.isMultigraph=function(){return this._isMultigraph},m.prototype.isCompound=function(){return this._isCompound},m.prototype.setGraph=function(p){return this._label=p,this},m.prototype.graph=function(){return this._label},m.prototype.setDefaultNodeLabel=function(p){return d.isFunction(p)||(p=d.constant(p)),this._defaultNodeLabelFn=p,this},m.prototype.nodeCount=function(){return this._nodeCount},m.prototype.nodes=function(){return d.keys(this._nodes)},m.prototype.sources=function(){var p=this;return d.filter(this.nodes(),function(w){return d.isEmpty(p._in[w])})},m.prototype.sinks=function(){var p=this;return d.filter(this.nodes(),function(w){return d.isEmpty(p._out[w])})},m.prototype.setNodes=function(p,w){var S=arguments,A=this;return d.each(p,function(N){S.length>1?A.setNode(N,w):A.setNode(N)}),this},m.prototype.setNode=function(p,w){return d.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=w),this):(this._nodes[p]=arguments.length>1?w:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=b,this._children[p]={},this._children[b][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},m.prototype.node=function(p){return this._nodes[p]},m.prototype.hasNode=function(p){return d.has(this._nodes,p)},m.prototype.removeNode=function(p){var w=this;if(d.has(this._nodes,p)){var S=function(A){w.removeEdge(w._edgeObjs[A])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],d.each(this.children(p),function(A){w.setParent(A)}),delete this._children[p]),d.each(d.keys(this._in[p]),S),delete this._in[p],delete this._preds[p],d.each(d.keys(this._out[p]),S),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},m.prototype.setParent=function(p,w){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d.isUndefined(w))w=b;else{for(var S=w+="";!d.isUndefined(S);S=this.parent(S))if(S===p)throw new Error("Setting "+w+" as parent of "+p+" would create a cycle");this.setNode(w)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=w,this._children[w][p]=!0,this},m.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},m.prototype.parent=function(p){if(this._isCompound){var w=this._parent[p];if(w!==b)return w}},m.prototype.children=function(p){if(d.isUndefined(p)&&(p=b),this._isCompound){var w=this._children[p];if(w)return d.keys(w)}else{if(p===b)return this.nodes();if(this.hasNode(p))return[]}},m.prototype.predecessors=function(p){var w=this._preds[p];if(w)return d.keys(w)},m.prototype.successors=function(p){var w=this._sucs[p];if(w)return d.keys(w)},m.prototype.neighbors=function(p){var w=this.predecessors(p);if(w)return d.union(w,this.successors(p))},m.prototype.isLeaf=function(p){return 0===(this.isDirected()?this.successors(p):this.neighbors(p)).length},m.prototype.filterNodes=function(p){var w=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});w.setGraph(this.graph());var S=this;d.each(this._nodes,function(P,F){p(F)&&w.setNode(F,P)}),d.each(this._edgeObjs,function(P){w.hasNode(P.v)&&w.hasNode(P.w)&&w.setEdge(P,S.edge(P))});var A={};function N(P){var F=S.parent(P);return void 0===F||w.hasNode(F)?(A[P]=F,F):F in A?A[F]:N(F)}return this._isCompound&&d.each(w.nodes(),function(P){w.setParent(P,N(P))}),w},m.prototype.setDefaultEdgeLabel=function(p){return d.isFunction(p)||(p=d.constant(p)),this._defaultEdgeLabelFn=p,this},m.prototype.edgeCount=function(){return this._edgeCount},m.prototype.edges=function(){return d.values(this._edgeObjs)},m.prototype.setPath=function(p,w){var S=this,A=arguments;return d.reduce(p,function(N,P){return A.length>1?S.setEdge(N,P,w):S.setEdge(N,P),P}),this},m.prototype.setEdge=function(){var p,w,S,A,N=!1,P=arguments[0];"object"==typeof P&&null!==P&&"v"in P?(p=P.v,w=P.w,S=P.name,2===arguments.length&&(A=arguments[1],N=!0)):(p=P,w=arguments[1],S=arguments[3],arguments.length>2&&(A=arguments[2],N=!0)),p=""+p,w=""+w,d.isUndefined(S)||(S=""+S);var F=f(this._isDirected,p,w,S);if(d.has(this._edgeLabels,F))return N&&(this._edgeLabels[F]=A),this;if(!d.isUndefined(S)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(w),this._edgeLabels[F]=N?A:this._defaultEdgeLabelFn(p,w,S);var L=g(this._isDirected,p,w,S);return p=L.v,w=L.w,Object.freeze(L),this._edgeObjs[F]=L,_(this._preds[w],p),_(this._sucs[p],w),this._in[w][F]=L,this._out[p][F]=L,this._edgeCount++,this},m.prototype.edge=function(p,w,S){var A=1===arguments.length?v(this._isDirected,arguments[0]):f(this._isDirected,p,w,S);return this._edgeLabels[A]},m.prototype.hasEdge=function(p,w,S){var A=1===arguments.length?v(this._isDirected,arguments[0]):f(this._isDirected,p,w,S);return d.has(this._edgeLabels,A)},m.prototype.removeEdge=function(p,w,S){var A=1===arguments.length?v(this._isDirected,arguments[0]):f(this._isDirected,p,w,S),N=this._edgeObjs[A];return N&&(p=N.v,w=N.w,delete this._edgeLabels[A],delete this._edgeObjs[A],h(this._preds[w],p),h(this._sucs[p],w),delete this._in[w][A],delete this._out[p][A],this._edgeCount--),this},m.prototype.inEdges=function(p,w){var S=this._in[p];if(S){var A=d.values(S);return w?d.filter(A,function(N){return N.v===w}):A}},m.prototype.outEdges=function(p,w){var S=this._out[p];if(S){var A=d.values(S);return w?d.filter(A,function(N){return N.w===w}):A}},m.prototype.nodeEdges=function(p,w){var S=this.inEdges(p,w);if(S)return S.concat(this.outEdges(p,w))}},1838:(x,T,c)=>{x.exports={Graph:c(6568),version:c(5089)}},1088:(x,T,c)=>{var d=c(9138),D=c(6568);function E(h){return d.map(h.nodes(),function(f){var g=h.node(f),v=h.parent(f),p={v:f};return d.isUndefined(g)||(p.value=g),d.isUndefined(v)||(p.parent=v),p})}function m(h){return d.map(h.edges(),function(f){var g=h.edge(f),v={v:f.v,w:f.w};return d.isUndefined(f.name)||(v.name=f.name),d.isUndefined(g)||(v.value=g),v})}x.exports={write:function b(h){var f={options:{directed:h.isDirected(),multigraph:h.isMultigraph(),compound:h.isCompound()},nodes:E(h),edges:m(h)};return d.isUndefined(h.graph())||(f.value=d.clone(h.graph())),f},read:function _(h){var f=new D(h.options).setGraph(h.value);return d.each(h.nodes,function(g){f.setNode(g.v,g.value),g.parent&&f.setParent(g.v,g.parent)}),d.each(h.edges,function(g){f.setEdge({v:g.v,w:g.w,name:g.name},g.value)}),f}}},9138:(x,T,c)=>{var d;try{d={clone:c(1094),constant:c(6684),each:c(5474),filter:c(5281),has:c(4842),isArray:c(1503),isEmpty:c(1973),isFunction:c(5946),isUndefined:c(4235),keys:c(118),map:c(9984),reduce:c(1337),size:c(5637),transform:c(9416),union:c(8921),values:c(377)}}catch{}d||(d=window._),x.exports=d},5089:x=>{x.exports="2.1.8"},7244:(x,T,c)=>{var b=c(3436)(c(2119),"DataView");x.exports=b},4994:(x,T,c)=>{var d=c(4312),D=c(6421),b=c(5764),E=c(8685),m=c(6676);function _(h){var f=-1,g=null==h?0:h.length;for(this.clear();++f<g;){var v=h[f];this.set(v[0],v[1])}}_.prototype.clear=d,_.prototype.delete=D,_.prototype.get=b,_.prototype.has=E,_.prototype.set=m,x.exports=_},9215:(x,T,c)=>{var d=c(1840),D=c(4378),b=c(4981),E=c(7343),m=c(8895);function _(h){var f=-1,g=null==h?0:h.length;for(this.clear();++f<g;){var v=h[f];this.set(v[0],v[1])}}_.prototype.clear=d,_.prototype.delete=D,_.prototype.get=b,_.prototype.has=E,_.prototype.set=m,x.exports=_},1501:(x,T,c)=>{var b=c(3436)(c(2119),"Map");x.exports=b},9850:(x,T,c)=>{var d=c(638),D=c(1184),b=c(866),E=c(3771),m=c(1772);function _(h){var f=-1,g=null==h?0:h.length;for(this.clear();++f<g;){var v=h[f];this.set(v[0],v[1])}}_.prototype.clear=d,_.prototype.delete=D,_.prototype.get=b,_.prototype.has=E,_.prototype.set=m,x.exports=_},4267:(x,T,c)=>{var b=c(3436)(c(2119),"Promise");x.exports=b},6323:(x,T,c)=>{var b=c(3436)(c(2119),"Set");x.exports=b},8849:(x,T,c)=>{var d=c(9850),D=c(4600),b=c(1387);function E(m){var _=-1,h=null==m?0:m.length;for(this.__data__=new d;++_<h;)this.add(m[_])}E.prototype.add=E.prototype.push=D,E.prototype.has=b,x.exports=E},2858:(x,T,c)=>{var d=c(9215),D=c(3720),b=c(4410),E=c(5576),m=c(2247),_=c(1585);function h(f){var g=this.__data__=new d(f);this.size=g.size}h.prototype.clear=D,h.prototype.delete=b,h.prototype.get=E,h.prototype.has=m,h.prototype.set=_,x.exports=h},443:(x,T,c)=>{var d=c(2119);x.exports=d.Symbol},3457:(x,T,c)=>{var d=c(2119);x.exports=d.Uint8Array},4243:(x,T,c)=>{var b=c(3436)(c(2119),"WeakMap");x.exports=b},6999:x=>{x.exports=function T(c,d,D){switch(D.length){case 0:return c.call(d);case 1:return c.call(d,D[0]);case 2:return c.call(d,D[0],D[1]);case 3:return c.call(d,D[0],D[1],D[2])}return c.apply(d,D)}},6837:x=>{x.exports=function T(c,d){for(var D=-1,b=null==c?0:c.length;++D<b&&!1!==d(c[D],D,c););return c}},9779:x=>{x.exports=function T(c,d){for(var D=-1,b=null==c?0:c.length,E=0,m=[];++D<b;){var _=c[D];d(_,D,c)&&(m[E++]=_)}return m}},1253:(x,T,c)=>{var d=c(4164);x.exports=function D(b,E){return!(null==b||!b.length)&&d(b,E,0)>-1}},177:x=>{x.exports=function T(c,d,D){for(var b=-1,E=null==c?0:c.length;++b<E;)if(D(d,c[b]))return!0;return!1}},2271:(x,T,c)=>{var d=c(5334),D=c(7151),b=c(1503),E=c(891),m=c(8442),_=c(8159),f=Object.prototype.hasOwnProperty;x.exports=function g(v,p){var w=b(v),S=!w&&D(v),A=!w&&!S&&E(v),N=!w&&!S&&!A&&_(v),P=w||S||A||N,F=P?d(v.length,String):[],L=F.length;for(var R in v)(p||f.call(v,R))&&(!P||!("length"==R||A&&("offset"==R||"parent"==R)||N&&("buffer"==R||"byteLength"==R||"byteOffset"==R)||m(R,L)))&&F.push(R);return F}},4633:x=>{x.exports=function T(c,d){for(var D=-1,b=null==c?0:c.length,E=Array(b);++D<b;)E[D]=d(c[D],D,c);return E}},5059:x=>{x.exports=function T(c,d){for(var D=-1,b=d.length,E=c.length;++D<b;)c[E+D]=d[D];return c}},8745:x=>{x.exports=function T(c,d,D,b){var E=-1,m=null==c?0:c.length;for(b&&m&&(D=c[++E]);++E<m;)D=d(D,c[E],E,c);return D}},9503:x=>{x.exports=function T(c,d){for(var D=-1,b=null==c?0:c.length;++D<b;)if(d(c[D],D,c))return!0;return!1}},5481:(x,T,c)=>{var D=c(1847)("length");x.exports=D},9276:(x,T,c)=>{var d=c(5683),D=c(217);x.exports=function b(E,m,_){(void 0!==_&&!D(E[m],_)||void 0===_&&!(m in E))&&d(E,m,_)}},9719:(x,T,c)=>{var d=c(5683),D=c(217),E=Object.prototype.hasOwnProperty;x.exports=function m(_,h,f){var g=_[h];(!E.call(_,h)||!D(g,f)||void 0===f&&!(h in _))&&d(_,h,f)}},3503:(x,T,c)=>{var d=c(217);x.exports=function D(b,E){for(var m=b.length;m--;)if(d(b[m][0],E))return m;return-1}},4121:(x,T,c)=>{var d=c(1989),D=c(118);x.exports=function b(E,m){return E&&d(m,D(m),E)}},9287:(x,T,c)=>{var d=c(1989),D=c(6555);x.exports=function b(E,m){return E&&d(m,D(m),E)}},5683:(x,T,c)=>{var d=c(6713);x.exports=function D(b,E,m){"__proto__"==E&&d?d(b,E,{configurable:!0,enumerable:!0,value:m,writable:!0}):b[E]=m}},4462:(x,T,c)=>{var d=c(2858),D=c(6837),b=c(9719),E=c(4121),m=c(9287),_=c(9292),h=c(9454),f=c(4444),g=c(9905),v=c(7597),p=c(6967),w=c(8794),S=c(6782),A=c(7878),N=c(4264),P=c(1503),F=c(891),L=c(3222),R=c(5940),H=c(799),K=c(118),X=c(6555),B="[object Arguments]",oe="[object Function]",se="[object Object]",ot={};ot[B]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object DataView]"]=ot["[object Boolean]"]=ot["[object Date]"]=ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Map]"]=ot["[object Number]"]=ot[se]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object Symbol]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Error]"]=ot[oe]=ot["[object WeakMap]"]=!1,x.exports=function Zr(at,Ji,qi,ty,Yo,Xr){var en,Qo=1&Ji,es=2&Ji,ny=4&Ji;if(qi&&(en=Yo?qi(at,ty,Yo,Xr):qi(at)),void 0!==en)return en;if(!R(at))return at;var Zo=P(at);if(Zo){if(en=S(at),!Qo)return h(at,en)}else{var Ci=w(at),Fd=Ci==oe||"[object GeneratorFunction]"==Ci;if(F(at))return _(at,Qo);if(Ci==se||Ci==B||Fd&&!Yo){if(en=es||Fd?{}:N(at),!Qo)return es?g(at,m(en,at)):f(at,E(en,at))}else{if(!ot[Ci])return Yo?at:{};en=A(at,Ci,Qo)}}Xr||(Xr=new d);var Rd=Xr.get(at);if(Rd)return Rd;Xr.set(at,en),H(at)?at.forEach(function(Or){en.add(Zr(Or,Ji,qi,Or,at,Xr))}):L(at)&&at.forEach(function(Or,xi){en.set(xi,Zr(Or,Ji,qi,xi,at,Xr))});var Nr=Zo?void 0:(ny?es?p:v:es?X:K)(at);return D(Nr||at,function(Or,xi){Nr&&(Or=at[xi=Or]),b(en,xi,Zr(Or,Ji,qi,xi,at,Xr))}),en}},8858:(x,T,c)=>{var d=c(5940),D=Object.create,b=function(){function E(){}return function(m){if(!d(m))return{};if(D)return D(m);E.prototype=m;var _=new E;return E.prototype=void 0,_}}();x.exports=b},3132:(x,T,c)=>{var d=c(5184),b=c(6539)(d);x.exports=b},7308:(x,T,c)=>{var d=c(4129);x.exports=function D(b,E,m){for(var _=-1,h=b.length;++_<h;){var f=b[_],g=E(f);if(null!=g&&(void 0===v?g==g&&!d(g):m(g,v)))var v=g,p=f}return p}},3609:(x,T,c)=>{var d=c(3132);x.exports=function D(b,E){var m=[];return d(b,function(_,h,f){E(_,h,f)&&m.push(_)}),m}},5317:x=>{x.exports=function T(c,d,D,b){for(var E=c.length,m=D+(b?1:-1);b?m--:++m<E;)if(d(c[m],m,c))return m;return-1}},686:(x,T,c)=>{var d=c(5059),D=c(5039);x.exports=function b(E,m,_,h,f){var g=-1,v=E.length;for(_||(_=D),f||(f=[]);++g<v;){var p=E[g];m>0&&_(p)?m>1?b(p,m-1,_,h,f):d(f,p):h||(f[f.length]=p)}return f}},755:(x,T,c)=>{var D=c(456)();x.exports=D},5184:(x,T,c)=>{var d=c(755),D=c(118);x.exports=function b(E,m){return E&&d(E,m,D)}},5456:(x,T,c)=>{var d=c(6884),D=c(8533);x.exports=function b(E,m){for(var _=0,h=(m=d(m,E)).length;null!=E&&_<h;)E=E[D(m[_++])];return _&&_==h?E:void 0}},8247:(x,T,c)=>{var d=c(5059),D=c(1503);x.exports=function b(E,m,_){var h=m(E);return D(E)?h:d(h,_(E))}},3337:(x,T,c)=>{var d=c(443),D=c(1318),b=c(2902),_=d?d.toStringTag:void 0;x.exports=function h(f){return null==f?void 0===f?"[object Undefined]":"[object Null]":_&&_ in Object(f)?D(f):b(f)}},1100:x=>{x.exports=function T(c,d){return c>d}},4781:x=>{var c=Object.prototype.hasOwnProperty;x.exports=function d(D,b){return null!=D&&c.call(D,b)}},9989:x=>{x.exports=function T(c,d){return null!=c&&d in Object(c)}},4164:(x,T,c)=>{var d=c(5317),D=c(968),b=c(4977);x.exports=function E(m,_,h){return _==_?b(m,_,h):d(m,D,h)}},186:(x,T,c)=>{var d=c(3337),D=c(2671);x.exports=function E(m){return D(m)&&"[object Arguments]"==d(m)}},5740:(x,T,c)=>{var d=c(8325),D=c(2671);x.exports=function b(E,m,_,h,f){return E===m||(null==E||null==m||!D(E)&&!D(m)?E!=E&&m!=m:d(E,m,_,h,b,f))}},8325:(x,T,c)=>{var d=c(2858),D=c(3914),b=c(8583),E=c(2286),m=c(8794),_=c(1503),h=c(891),f=c(8159),v="[object Arguments]",p="[object Array]",w="[object Object]",A=Object.prototype.hasOwnProperty;x.exports=function N(P,F,L,R,H,K){var X=_(P),Y=_(F),q=X?p:m(P),V=Y?p:m(F),B=(q=q==v?w:q)==w,$=(V=V==v?w:V)==w,U=q==V;if(U&&h(P)){if(!h(F))return!1;X=!0,B=!1}if(U&&!B)return K||(K=new d),X||f(P)?D(P,F,L,R,H,K):b(P,F,q,L,R,H,K);if(!(1&L)){var G=B&&A.call(P,"__wrapped__"),J=$&&A.call(F,"__wrapped__");if(G||J){var oe=G?P.value():P,W=J?F.value():F;return K||(K=new d),H(oe,W,L,R,K)}}return!!U&&(K||(K=new d),E(P,F,L,R,H,K))}},7021:(x,T,c)=>{var d=c(8794),D=c(2671);x.exports=function E(m){return D(m)&&"[object Map]"==d(m)}},431:(x,T,c)=>{var d=c(2858),D=c(5740);x.exports=function m(_,h,f,g){var v=f.length,p=v,w=!g;if(null==_)return!p;for(_=Object(_);v--;){var S=f[v];if(w&&S[2]?S[1]!==_[S[0]]:!(S[0]in _))return!1}for(;++v<p;){var A=(S=f[v])[0],N=_[A],P=S[1];if(w&&S[2]){if(void 0===N&&!(A in _))return!1}else{var F=new d;if(g)var L=g(N,P,A,_,h,F);if(!(void 0===L?D(P,N,3,g,F):L))return!1}}return!0}},968:x=>{x.exports=function T(c){return c!=c}},7304:(x,T,c)=>{var d=c(5946),D=c(1943),b=c(5940),E=c(2827),_=/^\[object .+?Constructor\]$/,p=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");x.exports=function w(S){return!(!b(S)||D(S))&&(d(S)?p:_).test(E(S))}},771:(x,T,c)=>{var d=c(8794),D=c(2671);x.exports=function E(m){return D(m)&&"[object Set]"==d(m)}},1083:(x,T,c)=>{var d=c(3337),D=c(6231),b=c(2671),U={};U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object DataView]"]=U["[object Date]"]=U["[object Error]"]=U["[object Function]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object WeakMap]"]=!1,x.exports=function G(J){return b(J)&&D(J.length)&&!!U[d(J)]}},6517:(x,T,c)=>{var d=c(8133),D=c(9458),b=c(2608),E=c(1503),m=c(7495);x.exports=function _(h){return"function"==typeof h?h:null==h?b:"object"==typeof h?E(h)?D(h[0],h[1]):d(h):m(h)}},1172:(x,T,c)=>{var d=c(5488),D=c(5491),E=Object.prototype.hasOwnProperty;x.exports=function m(_){if(!d(_))return D(_);var h=[];for(var f in Object(_))E.call(_,f)&&"constructor"!=f&&h.push(f);return h}},2809:(x,T,c)=>{var d=c(5940),D=c(5488),b=c(2158),m=Object.prototype.hasOwnProperty;x.exports=function _(h){if(!d(h))return b(h);var f=D(h),g=[];for(var v in h)"constructor"==v&&(f||!m.call(h,v))||g.push(v);return g}},9069:x=>{x.exports=function T(c,d){return c<d}},2046:(x,T,c)=>{var d=c(3132),D=c(6507);x.exports=function b(E,m){var _=-1,h=D(E)?Array(E.length):[];return d(E,function(f,g,v){h[++_]=m(f,g,v)}),h}},8133:(x,T,c)=>{var d=c(431),D=c(2379),b=c(642);x.exports=function E(m){var _=D(m);return 1==_.length&&_[0][2]?b(_[0][0],_[0][1]):function(h){return h===m||d(h,m,_)}}},9458:(x,T,c)=>{var d=c(5740),D=c(8817),b=c(8492),E=c(5352),m=c(2442),_=c(642),h=c(8533);x.exports=function v(p,w){return E(p)&&m(w)?_(h(p),w):function(S){var A=D(S,p);return void 0===A&&A===w?b(S,p):d(w,A,3)}}},3842:(x,T,c)=>{var d=c(2858),D=c(9276),b=c(755),E=c(3675),m=c(5940),_=c(6555),h=c(9351);x.exports=function f(g,v,p,w,S){g!==v&&b(v,function(A,N){if(S||(S=new d),m(A))E(g,v,N,p,f,w,S);else{var P=w?w(h(g,N),A,N+"",g,v,S):void 0;void 0===P&&(P=A),D(g,N,P)}},_)}},3675:(x,T,c)=>{var d=c(9276),D=c(9292),b=c(5208),E=c(9454),m=c(4264),_=c(7151),h=c(1503),f=c(1330),g=c(891),v=c(5946),p=c(5940),w=c(7614),S=c(8159),A=c(9351),N=c(8067);x.exports=function P(F,L,R,H,K,X,Y){var q=A(F,R),V=A(L,R),B=Y.get(V);if(B)d(F,R,B);else{var $=X?X(q,V,R+"",F,L,Y):void 0,U=void 0===$;if(U){var G=h(V),J=!G&&g(V),oe=!G&&!J&&S(V);$=V,G||J||oe?h(q)?$=q:f(q)?$=E(q):J?(U=!1,$=D(V,!0)):oe?(U=!1,$=b(V,!0)):$=[]:w(V)||_(V)?($=q,_(q)?$=N(q):(!p(q)||v(q))&&($=m(V))):U=!1}U&&(Y.set(V,$),K($,V,H,X,Y),Y.delete(V)),d(F,R,$)}}},6119:(x,T,c)=>{var d=c(4633),D=c(5456),b=c(6517),E=c(2046),m=c(8750),_=c(5647),h=c(1215),f=c(2608),g=c(1503);x.exports=function v(p,w,S){w=w.length?d(w,function(P){return g(P)?function(F){return D(F,1===P.length?P[0]:P)}:P}):[f];var A=-1;w=d(w,_(b));var N=E(p,function(P,F,L){return{criteria:d(w,function(H){return H(P)}),index:++A,value:P}});return m(N,function(P,F){return h(P,F,S)})}},3021:(x,T,c)=>{var d=c(5495),D=c(8492);x.exports=function b(E,m){return d(E,m,function(_,h){return D(E,h)})}},5495:(x,T,c)=>{var d=c(5456),D=c(5963),b=c(6884);x.exports=function E(m,_,h){for(var f=-1,g=_.length,v={};++f<g;){var p=_[f],w=d(m,p);h(w,p)&&D(v,b(p,m),w)}return v}},1847:x=>{x.exports=function T(c){return function(d){return d?.[c]}}},9222:(x,T,c)=>{var d=c(5456);x.exports=function D(b){return function(E){return d(E,b)}}},6307:x=>{var T=Math.ceil,c=Math.max;x.exports=function d(D,b,E,m){for(var _=-1,h=c(T((b-D)/(E||1)),0),f=Array(h);h--;)f[m?h:++_]=D,D+=E;return f}},3570:x=>{x.exports=function T(c,d,D,b,E){return E(c,function(m,_,h){D=b?(b=!1,m):d(D,m,_,h)}),D}},3269:(x,T,c)=>{var d=c(2608),D=c(3983),b=c(2185);x.exports=function E(m,_){return b(D(m,_,d),m+"")}},5963:(x,T,c)=>{var d=c(9719),D=c(6884),b=c(8442),E=c(5940),m=c(8533);x.exports=function _(h,f,g,v){if(!E(h))return h;for(var p=-1,w=(f=D(f,h)).length,S=w-1,A=h;null!=A&&++p<w;){var N=m(f[p]),P=g;if("__proto__"===N||"constructor"===N||"prototype"===N)return h;if(p!=S){var F=A[N];void 0===(P=v?v(F,N,A):void 0)&&(P=E(F)?F:b(f[p+1])?[]:{})}d(A,N,P),A=A[N]}return h}},9510:(x,T,c)=>{var d=c(6684),D=c(6713),b=c(2608);x.exports=D?function(m,_){return D(m,"toString",{configurable:!0,enumerable:!1,value:d(_),writable:!0})}:b},8750:x=>{x.exports=function T(c,d){var D=c.length;for(c.sort(d);D--;)c[D]=c[D].value;return c}},5334:x=>{x.exports=function T(c,d){for(var D=-1,b=Array(c);++D<c;)b[D]=d(D);return b}},3935:(x,T,c)=>{var d=c(443),D=c(4633),b=c(1503),E=c(4129),_=d?d.prototype:void 0,h=_?_.toString:void 0;x.exports=function f(g){if("string"==typeof g)return g;if(b(g))return D(g,f)+"";if(E(g))return h?h.call(g):"";var v=g+"";return"0"==v&&1/g==-1/0?"-0":v}},3348:(x,T,c)=>{var d=c(2760),D=/^\s+/;x.exports=function b(E){return E&&E.slice(0,d(E)+1).replace(D,"")}},5647:x=>{x.exports=function T(c){return function(d){return c(d)}}},707:(x,T,c)=>{var d=c(8849),D=c(1253),b=c(177),E=c(5972),m=c(4575),_=c(4174);x.exports=function f(g,v,p){var w=-1,S=D,A=g.length,N=!0,P=[],F=P;if(p)N=!1,S=b;else if(A>=200){var L=v?null:m(g);if(L)return _(L);N=!1,S=E,F=new d}else F=v?[]:P;e:for(;++w<A;){var R=g[w],H=v?v(R):R;if(R=p||0!==R?R:0,N&&H==H){for(var K=F.length;K--;)if(F[K]===H)continue e;v&&F.push(H),P.push(R)}else S(F,H,p)||(F!==P&&F.push(H),P.push(R))}return P}},9179:(x,T,c)=>{var d=c(4633);x.exports=function D(b,E){return d(E,function(m){return b[m]})}},8645:x=>{x.exports=function T(c,d,D){for(var b=-1,E=c.length,m=d.length,_={};++b<E;)D(_,c[b],b<m?d[b]:void 0);return _}},5972:x=>{x.exports=function T(c,d){return c.has(d)}},1481:(x,T,c)=>{var d=c(2608);x.exports=function D(b){return"function"==typeof b?b:d}},6884:(x,T,c)=>{var d=c(1503),D=c(5352),b=c(2855),E=c(3943);x.exports=function m(_,h){return d(_)?_:D(_,h)?[_]:b(E(_))}},3362:(x,T,c)=>{var d=c(3457);x.exports=function D(b){var E=new b.constructor(b.byteLength);return new d(E).set(new d(b)),E}},9292:(x,T,c)=>{x=c.nmd(x);var d=c(2119),D=T&&!T.nodeType&&T,b=D&&x&&!x.nodeType&&x,m=b&&b.exports===D?d.Buffer:void 0,_=m?m.allocUnsafe:void 0;x.exports=function h(f,g){if(g)return f.slice();var v=f.length,p=_?_(v):new f.constructor(v);return f.copy(p),p}},7e3:(x,T,c)=>{var d=c(3362);x.exports=function D(b,E){var m=E?d(b.buffer):b.buffer;return new b.constructor(m,b.byteOffset,b.byteLength)}},4098:x=>{var T=/\w*$/;x.exports=function c(d){var D=new d.constructor(d.source,T.exec(d));return D.lastIndex=d.lastIndex,D}},2533:(x,T,c)=>{var d=c(443),D=d?d.prototype:void 0,b=D?D.valueOf:void 0;x.exports=function E(m){return b?Object(b.call(m)):{}}},5208:(x,T,c)=>{var d=c(3362);x.exports=function D(b,E){var m=E?d(b.buffer):b.buffer;return new b.constructor(m,b.byteOffset,b.length)}},3443:(x,T,c)=>{var d=c(4129);x.exports=function D(b,E){if(b!==E){var m=void 0!==b,_=null===b,h=b==b,f=d(b),g=void 0!==E,v=null===E,p=E==E,w=d(E);if(!v&&!w&&!f&&b>E||f&&g&&p&&!v&&!w||_&&g&&p||!m&&p||!h)return 1;if(!_&&!f&&!w&&b<E||w&&m&&h&&!_&&!f||v&&m&&h||!g&&h||!p)return-1}return 0}},1215:(x,T,c)=>{var d=c(3443);x.exports=function D(b,E,m){for(var _=-1,h=b.criteria,f=E.criteria,g=h.length,v=m.length;++_<g;){var p=d(h[_],f[_]);if(p)return _>=v?p:p*("desc"==m[_]?-1:1)}return b.index-E.index}},9454:x=>{x.exports=function T(c,d){var D=-1,b=c.length;for(d||(d=Array(b));++D<b;)d[D]=c[D];return d}},1989:(x,T,c)=>{var d=c(9719),D=c(5683);x.exports=function b(E,m,_,h){var f=!_;_||(_={});for(var g=-1,v=m.length;++g<v;){var p=m[g],w=h?h(_[p],E[p],p,_,E):void 0;void 0===w&&(w=E[p]),f?D(_,p,w):d(_,p,w)}return _}},4444:(x,T,c)=>{var d=c(1989),D=c(9383);x.exports=function b(E,m){return d(E,D(E),m)}},9905:(x,T,c)=>{var d=c(1989),D=c(3051);x.exports=function b(E,m){return d(E,D(E),m)}},4610:(x,T,c)=>{var d=c(2119);x.exports=d["__core-js_shared__"]},4944:(x,T,c)=>{var d=c(3269),D=c(3342);x.exports=function b(E){return d(function(m,_){var h=-1,f=_.length,g=f>1?_[f-1]:void 0,v=f>2?_[2]:void 0;for(g=E.length>3&&"function"==typeof g?(f--,g):void 0,v&&D(_[0],_[1],v)&&(g=f<3?void 0:g,f=1),m=Object(m);++h<f;){var p=_[h];p&&E(m,p,h,g)}return m})}},6539:(x,T,c)=>{var d=c(6507);x.exports=function D(b,E){return function(m,_){if(null==m)return m;if(!d(m))return b(m,_);for(var h=m.length,f=E?h:-1,g=Object(m);(E?f--:++f<h)&&!1!==_(g[f],f,g););return m}}},456:x=>{x.exports=function T(c){return function(d,D,b){for(var E=-1,m=Object(d),_=b(d),h=_.length;h--;){var f=_[c?h:++E];if(!1===D(m[f],f,m))break}return d}}},4653:(x,T,c)=>{var d=c(6517),D=c(6507),b=c(118);x.exports=function E(m){return function(_,h,f){var g=Object(_);if(!D(_)){var v=d(h,3);_=b(_),h=function(w){return v(g[w],w,g)}}var p=m(_,h,f);return p>-1?g[v?_[p]:p]:void 0}}},7509:(x,T,c)=>{var d=c(6307),D=c(3342),b=c(2232);x.exports=function E(m){return function(_,h,f){return f&&"number"!=typeof f&&D(_,h,f)&&(h=f=void 0),_=b(_),void 0===h?(h=_,_=0):h=b(h),f=void 0===f?_<h?1:-1:b(f),d(_,h,f,m)}}},4575:(x,T,c)=>{var d=c(6323),D=c(2552),b=c(4174),m=d&&1/b(new d([,-0]))[1]==1/0?function(_){return new d(_)}:D;x.exports=m},6713:(x,T,c)=>{var d=c(3436),D=function(){try{var b=d(Object,"defineProperty");return b({},"",{}),b}catch{}}();x.exports=D},3914:(x,T,c)=>{var d=c(8849),D=c(9503),b=c(5972);x.exports=function _(h,f,g,v,p,w){var S=1&g,A=h.length,N=f.length;if(A!=N&&!(S&&N>A))return!1;var P=w.get(h),F=w.get(f);if(P&&F)return P==f&&F==h;var L=-1,R=!0,H=2&g?new d:void 0;for(w.set(h,f),w.set(f,h);++L<A;){var K=h[L],X=f[L];if(v)var Y=S?v(X,K,L,f,h,w):v(K,X,L,h,f,w);if(void 0!==Y){if(Y)continue;R=!1;break}if(H){if(!D(f,function(q,V){if(!b(H,V)&&(K===q||p(K,q,g,v,w)))return H.push(V)})){R=!1;break}}else if(K!==X&&!p(K,X,g,v,w)){R=!1;break}}return w.delete(h),w.delete(f),R}},8583:(x,T,c)=>{var d=c(443),D=c(3457),b=c(217),E=c(3914),m=c(3205),_=c(4174),H=d?d.prototype:void 0,K=H?H.valueOf:void 0;x.exports=function X(Y,q,V,B,$,U,G){switch(V){case"[object DataView]":if(Y.byteLength!=q.byteLength||Y.byteOffset!=q.byteOffset)return!1;Y=Y.buffer,q=q.buffer;case"[object ArrayBuffer]":return!(Y.byteLength!=q.byteLength||!U(new D(Y),new D(q)));case"[object Boolean]":case"[object Date]":case"[object Number]":return b(+Y,+q);case"[object Error]":return Y.name==q.name&&Y.message==q.message;case"[object RegExp]":case"[object String]":return Y==q+"";case"[object Map]":var J=m;case"[object Set]":if(J||(J=_),Y.size!=q.size&&!(1&B))return!1;var W=G.get(Y);if(W)return W==q;B|=2,G.set(Y,q);var z=E(J(Y),J(q),B,$,U,G);return G.delete(Y),z;case"[object Symbol]":if(K)return K.call(Y)==K.call(q)}return!1}},2286:(x,T,c)=>{var d=c(7597),E=Object.prototype.hasOwnProperty;x.exports=function m(_,h,f,g,v,p){var w=1&f,S=d(_),A=S.length;if(A!=d(h).length&&!w)return!1;for(var F=A;F--;){var L=S[F];if(!(w?L in h:E.call(h,L)))return!1}var R=p.get(_),H=p.get(h);if(R&&H)return R==h&&H==_;var K=!0;p.set(_,h),p.set(h,_);for(var X=w;++F<A;){var Y=_[L=S[F]],q=h[L];if(g)var V=w?g(q,Y,L,h,_,p):g(Y,q,L,_,h,p);if(!(void 0===V?Y===q||v(Y,q,f,g,p):V)){K=!1;break}X||(X="constructor"==L)}if(K&&!X){var B=_.constructor,$=h.constructor;B!=$&&"constructor"in _&&"constructor"in h&&!("function"==typeof B&&B instanceof B&&"function"==typeof $&&$ instanceof $)&&(K=!1)}return p.delete(_),p.delete(h),K}},3975:(x,T,c)=>{var d=c(2274),D=c(3983),b=c(2185);x.exports=function E(m){return b(D(m,void 0,d),m+"")}},9122:x=>{var T="object"==typeof global&&global&&global.Object===Object&&global;x.exports=T},7597:(x,T,c)=>{var d=c(8247),D=c(9383),b=c(118);x.exports=function E(m){return d(m,b,D)}},6967:(x,T,c)=>{var d=c(8247),D=c(3051),b=c(6555);x.exports=function E(m){return d(m,b,D)}},4537:(x,T,c)=>{var d=c(3819);x.exports=function D(b,E){var m=b.__data__;return d(E)?m["string"==typeof E?"string":"hash"]:m.map}},2379:(x,T,c)=>{var d=c(2442),D=c(118);x.exports=function b(E){for(var m=D(E),_=m.length;_--;){var h=m[_],f=E[h];m[_]=[h,f,d(f)]}return m}},3436:(x,T,c)=>{var d=c(7304),D=c(1990);x.exports=function b(E,m){var _=D(E,m);return d(_)?_:void 0}},9519:(x,T,c)=>{var D=c(9385)(Object.getPrototypeOf,Object);x.exports=D},1318:(x,T,c)=>{var d=c(443),D=Object.prototype,b=D.hasOwnProperty,E=D.toString,m=d?d.toStringTag:void 0;x.exports=function _(h){var f=b.call(h,m),g=h[m];try{h[m]=void 0;var v=!0}catch{}var p=E.call(h);return v&&(f?h[m]=g:delete h[m]),p}},9383:(x,T,c)=>{var d=c(9779),D=c(9975),E=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols;x.exports=m?function(h){return null==h?[]:(h=Object(h),d(m(h),function(f){return E.call(h,f)}))}:D},3051:(x,T,c)=>{var d=c(5059),D=c(9519),b=c(9383),E=c(9975);x.exports=Object.getOwnPropertySymbols?function(h){for(var f=[];h;)d(f,b(h)),h=D(h);return f}:E},8794:(x,T,c)=>{var d=c(7244),D=c(1501),b=c(4267),E=c(6323),m=c(4243),_=c(3337),h=c(2827),f="[object Map]",v="[object Promise]",p="[object Set]",w="[object WeakMap]",S="[object DataView]",A=h(d),N=h(D),P=h(b),F=h(E),L=h(m),R=_;(d&&R(new d(new ArrayBuffer(1)))!=S||D&&R(new D)!=f||b&&R(b.resolve())!=v||E&&R(new E)!=p||m&&R(new m)!=w)&&(R=function(H){var K=_(H),X="[object Object]"==K?H.constructor:void 0,Y=X?h(X):"";if(Y)switch(Y){case A:return S;case N:return f;case P:return v;case F:return p;case L:return w}return K}),x.exports=R},1990:x=>{x.exports=function T(c,d){return c?.[d]}},7283:(x,T,c)=>{var d=c(6884),D=c(7151),b=c(1503),E=c(8442),m=c(6231),_=c(8533);x.exports=function h(f,g,v){for(var p=-1,w=(g=d(g,f)).length,S=!1;++p<w;){var A=_(g[p]);if(!(S=null!=f&&v(f,A)))break;f=f[A]}return S||++p!=w?S:!!(w=null==f?0:f.length)&&m(w)&&E(A,w)&&(b(f)||D(f))}},7609:x=>{var _=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");x.exports=function h(f){return _.test(f)}},4312:(x,T,c)=>{var d=c(862);x.exports=function D(){this.__data__=d?d(null):{},this.size=0}},6421:x=>{x.exports=function T(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}},5764:(x,T,c)=>{var d=c(862),E=Object.prototype.hasOwnProperty;x.exports=function m(_){var h=this.__data__;if(d){var f=h[_];return"__lodash_hash_undefined__"===f?void 0:f}return E.call(h,_)?h[_]:void 0}},8685:(x,T,c)=>{var d=c(862),b=Object.prototype.hasOwnProperty;x.exports=function E(m){var _=this.__data__;return d?void 0!==_[m]:b.call(_,m)}},6676:(x,T,c)=>{var d=c(862);x.exports=function b(E,m){var _=this.__data__;return this.size+=this.has(E)?0:1,_[E]=d&&void 0===m?"__lodash_hash_undefined__":m,this}},6782:x=>{var c=Object.prototype.hasOwnProperty;x.exports=function d(D){var b=D.length,E=new D.constructor(b);return b&&"string"==typeof D[0]&&c.call(D,"index")&&(E.index=D.index,E.input=D.input),E}},7878:(x,T,c)=>{var d=c(3362),D=c(7e3),b=c(4098),E=c(2533),m=c(5208);x.exports=function V(B,$,U){var G=B.constructor;switch($){case"[object ArrayBuffer]":return d(B);case"[object Boolean]":case"[object Date]":return new G(+B);case"[object DataView]":return D(B,U);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m(B,U);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(B);case"[object RegExp]":return b(B);case"[object Symbol]":return E(B)}}},4264:(x,T,c)=>{var d=c(8858),D=c(9519),b=c(5488);x.exports=function E(m){return"function"!=typeof m.constructor||b(m)?{}:d(D(m))}},5039:(x,T,c)=>{var d=c(443),D=c(7151),b=c(1503),E=d?d.isConcatSpreadable:void 0;x.exports=function m(_){return b(_)||D(_)||!!(E&&_&&_[E])}},8442:x=>{var c=/^(?:0|[1-9]\d*)$/;x.exports=function d(D,b){var E=typeof D;return!!(b=b??9007199254740991)&&("number"==E||"symbol"!=E&&c.test(D))&&D>-1&&D%1==0&&D<b}},3342:(x,T,c)=>{var d=c(217),D=c(6507),b=c(8442),E=c(5940);x.exports=function m(_,h,f){if(!E(f))return!1;var g=typeof h;return!!("number"==g?D(f)&&b(h,f.length):"string"==g&&h in f)&&d(f[h],_)}},5352:(x,T,c)=>{var d=c(1503),D=c(4129),b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/;x.exports=function m(_,h){if(d(_))return!1;var f=typeof _;return!("number"!=f&&"symbol"!=f&&"boolean"!=f&&null!=_&&!D(_))||E.test(_)||!b.test(_)||null!=h&&_ in Object(h)}},3819:x=>{x.exports=function T(c){var d=typeof c;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==c:null===c}},1943:(x,T,c)=>{var E,d=c(4610),D=(E=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";x.exports=function b(E){return!!D&&D in E}},5488:x=>{var T=Object.prototype;x.exports=function c(d){var D=d&&d.constructor;return d===("function"==typeof D&&D.prototype||T)}},2442:(x,T,c)=>{var d=c(5940);x.exports=function D(b){return b==b&&!d(b)}},1840:x=>{x.exports=function T(){this.__data__=[],this.size=0}},4378:(x,T,c)=>{var d=c(3503),b=Array.prototype.splice;x.exports=function E(m){var _=this.__data__,h=d(_,m);return!(h<0||(h==_.length-1?_.pop():b.call(_,h,1),--this.size,0))}},4981:(x,T,c)=>{var d=c(3503);x.exports=function D(b){var E=this.__data__,m=d(E,b);return m<0?void 0:E[m][1]}},7343:(x,T,c)=>{var d=c(3503);x.exports=function D(b){return d(this.__data__,b)>-1}},8895:(x,T,c)=>{var d=c(3503);x.exports=function D(b,E){var m=this.__data__,_=d(m,b);return _<0?(++this.size,m.push([b,E])):m[_][1]=E,this}},638:(x,T,c)=>{var d=c(4994),D=c(9215),b=c(1501);x.exports=function E(){this.size=0,this.__data__={hash:new d,map:new(b||D),string:new d}}},1184:(x,T,c)=>{var d=c(4537);x.exports=function D(b){var E=d(this,b).delete(b);return this.size-=E?1:0,E}},866:(x,T,c)=>{var d=c(4537);x.exports=function D(b){return d(this,b).get(b)}},3771:(x,T,c)=>{var d=c(4537);x.exports=function D(b){return d(this,b).has(b)}},1772:(x,T,c)=>{var d=c(4537);x.exports=function D(b,E){var m=d(this,b),_=m.size;return m.set(b,E),this.size+=m.size==_?0:1,this}},3205:x=>{x.exports=function T(c){var d=-1,D=Array(c.size);return c.forEach(function(b,E){D[++d]=[E,b]}),D}},642:x=>{x.exports=function T(c,d){return function(D){return null!=D&&D[c]===d&&(void 0!==d||c in Object(D))}}},719:(x,T,c)=>{var d=c(535);x.exports=function b(E){var m=d(E,function(h){return 500===_.size&&_.clear(),h}),_=m.cache;return m}},862:(x,T,c)=>{var D=c(3436)(Object,"create");x.exports=D},5491:(x,T,c)=>{var D=c(9385)(Object.keys,Object);x.exports=D},2158:x=>{x.exports=function T(c){var d=[];if(null!=c)for(var D in Object(c))d.push(D);return d}},3597:(x,T,c)=>{x=c.nmd(x);var d=c(9122),D=T&&!T.nodeType&&T,b=D&&x&&!x.nodeType&&x,m=b&&b.exports===D&&d.process,_=function(){try{return b&&b.require&&b.require("util").types||m&&m.binding&&m.binding("util")}catch{}}();x.exports=_},2902:x=>{var c=Object.prototype.toString;x.exports=function d(D){return c.call(D)}},9385:x=>{x.exports=function T(c,d){return function(D){return c(d(D))}}},3983:(x,T,c)=>{var d=c(6999),D=Math.max;x.exports=function b(E,m,_){return m=D(void 0===m?E.length-1:m,0),function(){for(var h=arguments,f=-1,g=D(h.length-m,0),v=Array(g);++f<g;)v[f]=h[m+f];f=-1;for(var p=Array(m+1);++f<m;)p[f]=h[f];return p[m]=_(v),d(E,this,p)}}},2119:(x,T,c)=>{var d=c(9122),D="object"==typeof self&&self&&self.Object===Object&&self,b=d||D||Function("return this")();x.exports=b},9351:x=>{x.exports=function T(c,d){if(("constructor"!==d||"function"!=typeof c[d])&&"__proto__"!=d)return c[d]}},4600:x=>{x.exports=function c(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this}},1387:x=>{x.exports=function T(c){return this.__data__.has(c)}},4174:x=>{x.exports=function T(c){var d=-1,D=Array(c.size);return c.forEach(function(b){D[++d]=b}),D}},2185:(x,T,c)=>{var d=c(9510),b=c(29)(d);x.exports=b},29:x=>{var d=Date.now;x.exports=function D(b){var E=0,m=0;return function(){var _=d(),h=16-(_-m);if(m=_,h>0){if(++E>=800)return arguments[0]}else E=0;return b.apply(void 0,arguments)}}},3720:(x,T,c)=>{var d=c(9215);x.exports=function D(){this.__data__=new d,this.size=0}},4410:x=>{x.exports=function T(c){var d=this.__data__,D=d.delete(c);return this.size=d.size,D}},5576:x=>{x.exports=function T(c){return this.__data__.get(c)}},2247:x=>{x.exports=function T(c){return this.__data__.has(c)}},1585:(x,T,c)=>{var d=c(9215),D=c(1501),b=c(9850);x.exports=function m(_,h){var f=this.__data__;if(f instanceof d){var g=f.__data__;if(!D||g.length<199)return g.push([_,h]),this.size=++f.size,this;f=this.__data__=new b(g)}return f.set(_,h),this.size=f.size,this}},4977:x=>{x.exports=function T(c,d,D){for(var b=D-1,E=c.length;++b<E;)if(c[b]===d)return b;return-1}},2315:(x,T,c)=>{var d=c(5481),D=c(7609),b=c(1149);x.exports=function E(m){return D(m)?b(m):d(m)}},2855:(x,T,c)=>{var d=c(719),D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,E=d(function(m){var _=[];return 46===m.charCodeAt(0)&&_.push(""),m.replace(D,function(h,f,g,v){_.push(g?v.replace(b,"$1"):f||h)}),_});x.exports=E},8533:(x,T,c)=>{var d=c(4129);x.exports=function b(E){if("string"==typeof E||d(E))return E;var m=E+"";return"0"==m&&1/E==-1/0?"-0":m}},2827:x=>{var c=Function.prototype.toString;x.exports=function d(D){if(null!=D){try{return c.call(D)}catch{}try{return D+""}catch{}}return""}},2760:x=>{var T=/\s/;x.exports=function c(d){for(var D=d.length;D--&&T.test(d.charAt(D)););return D}},1149:x=>{var T="\\ud800-\\udfff",m="["+T+"]",_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",h="\\ud83c[\\udffb-\\udfff]",g="[^"+T+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",S="(?:"+_+"|"+h+")?",A="[\\ufe0e\\ufe0f]?",P=A+S+"(?:\\u200d(?:"+[g,v,p].join("|")+")"+A+S+")*",F="(?:"+[g+_+"?",_,v,p,m].join("|")+")",L=RegExp(h+"(?="+h+")|"+F+P,"g");x.exports=function R(H){for(var K=L.lastIndex=0;L.test(H);)++K;return K}},1094:(x,T,c)=>{var d=c(4462);x.exports=function b(E){return d(E,4)}},733:(x,T,c)=>{var d=c(4462);x.exports=function E(m){return d(m,5)}},6684:x=>{x.exports=function T(c){return function(){return c}}},8800:(x,T,c)=>{var d=c(3269),D=c(217),b=c(3342),E=c(6555),m=Object.prototype,_=m.hasOwnProperty,h=d(function(f,g){f=Object(f);var v=-1,p=g.length,w=p>2?g[2]:void 0;for(w&&b(g[0],g[1],w)&&(p=1);++v<p;)for(var S=g[v],A=E(S),N=-1,P=A.length;++N<P;){var F=A[N],L=f[F];(void 0===L||D(L,m[F])&&!_.call(f,F))&&(f[F]=S[F])}return f});x.exports=h},5474:(x,T,c)=>{x.exports=c(9851)},217:x=>{x.exports=function T(c,d){return c===d||c!=c&&d!=d}},5281:(x,T,c)=>{var d=c(9779),D=c(3609),b=c(6517),E=c(1503);x.exports=function m(_,h){return(E(_)?d:D)(_,b(h,3))}},2516:(x,T,c)=>{var b=c(4653)(c(6397));x.exports=b},6397:(x,T,c)=>{var d=c(5317),D=c(6517),b=c(4401),E=Math.max;x.exports=function m(_,h,f){var g=null==_?0:_.length;if(!g)return-1;var v=null==f?0:b(f);return v<0&&(v=E(g+v,0)),d(_,D(h,3),v)}},2274:(x,T,c)=>{var d=c(686);x.exports=function D(b){return null!=b&&b.length?d(b,1):[]}},9851:(x,T,c)=>{var d=c(6837),D=c(3132),b=c(1481),E=c(1503);x.exports=function m(_,h){return(E(_)?d:D)(_,b(h))}},1176:(x,T,c)=>{var d=c(755),D=c(1481),b=c(6555);x.exports=function E(m,_){return null==m?m:d(m,D(_),b)}},8817:(x,T,c)=>{var d=c(5456);x.exports=function D(b,E,m){var _=null==b?void 0:d(b,E);return void 0===_?m:_}},4842:(x,T,c)=>{var d=c(4781),D=c(7283);x.exports=function b(E,m){return null!=E&&D(E,m,d)}},8492:(x,T,c)=>{var d=c(9989),D=c(7283);x.exports=function b(E,m){return null!=E&&D(E,m,d)}},2608:x=>{x.exports=function T(c){return c}},7151:(x,T,c)=>{var d=c(186),D=c(2671),b=Object.prototype,E=b.hasOwnProperty,m=b.propertyIsEnumerable,_=d(function(){return arguments}())?d:function(h){return D(h)&&E.call(h,"callee")&&!m.call(h,"callee")};x.exports=_},1503:x=>{x.exports=Array.isArray},6507:(x,T,c)=>{var d=c(5946),D=c(6231);x.exports=function b(E){return null!=E&&D(E.length)&&!d(E)}},1330:(x,T,c)=>{var d=c(6507),D=c(2671);x.exports=function b(E){return D(E)&&d(E)}},891:(x,T,c)=>{x=c.nmd(x);var d=c(2119),D=c(3580),b=T&&!T.nodeType&&T,E=b&&x&&!x.nodeType&&x,_=E&&E.exports===b?d.Buffer:void 0;x.exports=(_?_.isBuffer:void 0)||D},1973:(x,T,c)=>{var d=c(1172),D=c(8794),b=c(7151),E=c(1503),m=c(6507),_=c(891),h=c(5488),f=c(8159),w=Object.prototype.hasOwnProperty;x.exports=function S(A){if(null==A)return!0;if(m(A)&&(E(A)||"string"==typeof A||"function"==typeof A.splice||_(A)||f(A)||b(A)))return!A.length;var N=D(A);if("[object Map]"==N||"[object Set]"==N)return!A.size;if(h(A))return!d(A).length;for(var P in A)if(w.call(A,P))return!1;return!0}},5946:(x,T,c)=>{var d=c(3337),D=c(5940);x.exports=function h(f){if(!D(f))return!1;var g=d(f);return"[object Function]"==g||"[object GeneratorFunction]"==g||"[object AsyncFunction]"==g||"[object Proxy]"==g}},6231:x=>{x.exports=function c(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=9007199254740991}},3222:(x,T,c)=>{var d=c(7021),D=c(5647),b=c(3597),E=b&&b.isMap,m=E?D(E):d;x.exports=m},5940:x=>{x.exports=function T(c){var d=typeof c;return null!=c&&("object"==d||"function"==d)}},2671:x=>{x.exports=function T(c){return null!=c&&"object"==typeof c}},7614:(x,T,c)=>{var d=c(3337),D=c(9519),b=c(2671),h=Function.prototype.toString,f=Object.prototype.hasOwnProperty,g=h.call(Object);x.exports=function v(p){if(!b(p)||"[object Object]"!=d(p))return!1;var w=D(p);if(null===w)return!0;var S=f.call(w,"constructor")&&w.constructor;return"function"==typeof S&&S instanceof S&&h.call(S)==g}},799:(x,T,c)=>{var d=c(771),D=c(5647),b=c(3597),E=b&&b.isSet,m=E?D(E):d;x.exports=m},248:(x,T,c)=>{var d=c(3337),D=c(1503),b=c(2671);x.exports=function m(_){return"string"==typeof _||!D(_)&&b(_)&&"[object String]"==d(_)}},4129:(x,T,c)=>{var d=c(3337),D=c(2671);x.exports=function E(m){return"symbol"==typeof m||D(m)&&"[object Symbol]"==d(m)}},8159:(x,T,c)=>{var d=c(1083),D=c(5647),b=c(3597),E=b&&b.isTypedArray,m=E?D(E):d;x.exports=m},4235:x=>{x.exports=function T(c){return void 0===c}},118:(x,T,c)=>{var d=c(2271),D=c(1172),b=c(6507);x.exports=function E(m){return b(m)?d(m):D(m)}},6555:(x,T,c)=>{var d=c(2271),D=c(2809),b=c(6507);x.exports=function E(m){return b(m)?d(m,!0):D(m)}},5809:x=>{x.exports=function T(c){var d=null==c?0:c.length;return d?c[d-1]:void 0}},9984:(x,T,c)=>{var d=c(4633),D=c(6517),b=c(2046),E=c(1503);x.exports=function m(_,h){return(E(_)?d:b)(_,D(h,3))}},203:(x,T,c)=>{var d=c(5683),D=c(5184),b=c(6517);x.exports=function E(m,_){var h={};return _=b(_,3),D(m,function(f,g,v){d(h,g,_(f,g,v))}),h}},8176:(x,T,c)=>{var d=c(7308),D=c(1100),b=c(2608);x.exports=function E(m){return m&&m.length?d(m,b,D):void 0}},535:(x,T,c)=>{var d=c(9850);function b(E,m){if("function"!=typeof E||null!=m&&"function"!=typeof m)throw new TypeError("Expected a function");var _=function(){var h=arguments,f=m?m.apply(this,h):h[0],g=_.cache;if(g.has(f))return g.get(f);var v=E.apply(this,h);return _.cache=g.set(f,v)||g,v};return _.cache=new(b.Cache||d),_}b.Cache=d,x.exports=b},567:(x,T,c)=>{var d=c(3842),b=c(4944)(function(E,m,_){d(E,m,_)});x.exports=b},9439:(x,T,c)=>{var d=c(7308),D=c(9069),b=c(2608);x.exports=function E(m){return m&&m.length?d(m,b,D):void 0}},9525:(x,T,c)=>{var d=c(7308),D=c(6517),b=c(9069);x.exports=function E(m,_){return m&&m.length?d(m,D(_,2),b):void 0}},2552:x=>{x.exports=function T(){}},1710:(x,T,c)=>{var d=c(2119);x.exports=function(){return d.Date.now()}},6372:(x,T,c)=>{var d=c(3021),b=c(3975)(function(E,m){return null==E?{}:d(E,m)});x.exports=b},7495:(x,T,c)=>{var d=c(1847),D=c(9222),b=c(5352),E=c(8533);x.exports=function m(_){return b(_)?d(E(_)):D(_)}},361:(x,T,c)=>{var D=c(7509)();x.exports=D},1337:(x,T,c)=>{var d=c(8745),D=c(3132),b=c(6517),E=c(3570),m=c(1503);x.exports=function _(h,f,g){var v=m(h)?d:E,p=arguments.length<3;return v(h,b(f,4),g,p,D)}},5637:(x,T,c)=>{var d=c(1172),D=c(8794),b=c(6507),E=c(248),m=c(2315);x.exports=function f(g){if(null==g)return 0;if(b(g))return E(g)?m(g):g.length;var v=D(g);return"[object Map]"==v||"[object Set]"==v?g.size:d(g).length}},2906:(x,T,c)=>{var d=c(686),D=c(6119),b=c(3269),E=c(3342),m=b(function(_,h){if(null==_)return[];var f=h.length;return f>1&&E(_,h[0],h[1])?h=[]:f>2&&E(h[0],h[1],h[2])&&(h=[h[0]]),D(_,d(h,1),[])});x.exports=m},9975:x=>{x.exports=function T(){return[]}},3580:x=>{x.exports=function T(){return!1}},2232:(x,T,c)=>{var d=c(1467),D=1/0;x.exports=function E(m){return m?(m=d(m))===D||m===-D?17976931348623157e292*(m<0?-1:1):m==m?m:0:0===m?m:0}},4401:(x,T,c)=>{var d=c(2232);x.exports=function D(b){var E=d(b),m=E%1;return E==E?m?E-m:E:0}},1467:(x,T,c)=>{var d=c(3348),D=c(5940),b=c(4129),m=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,h=/^0o[0-7]+$/i,f=parseInt;x.exports=function g(v){if("number"==typeof v)return v;if(b(v))return NaN;if(D(v)){var p="function"==typeof v.valueOf?v.valueOf():v;v=D(p)?p+"":p}if("string"!=typeof v)return 0===v?v:+v;v=d(v);var w=_.test(v);return w||h.test(v)?f(v.slice(2),w?2:8):m.test(v)?NaN:+v}},8067:(x,T,c)=>{var d=c(1989),D=c(6555);x.exports=function b(E){return d(E,D(E))}},3943:(x,T,c)=>{var d=c(3935);x.exports=function D(b){return null==b?"":d(b)}},9416:(x,T,c)=>{var d=c(6837),D=c(8858),b=c(5184),E=c(6517),m=c(9519),_=c(1503),h=c(891),f=c(5946),g=c(5940),v=c(8159);x.exports=function p(w,S,A){var N=_(w),P=N||h(w)||v(w);if(S=E(S,4),null==A){var F=w&&w.constructor;A=P?N?new F:[]:g(w)&&f(F)?D(m(w)):{}}return(P?d:b)(w,function(L,R,H){return S(A,L,R,H)}),A}},8921:(x,T,c)=>{var d=c(686),D=c(3269),b=c(707),E=c(1330),m=D(function(_){return b(d(_,1,E,!0))});x.exports=m},1541:(x,T,c)=>{var d=c(3943),D=0;x.exports=function b(E){var m=++D;return d(E)+m}},377:(x,T,c)=>{var d=c(9179),D=c(118);x.exports=function b(E){return null==E?[]:d(E,D(E))}},1617:(x,T,c)=>{var d=c(9719),D=c(8645);x.exports=function b(E,m){return D(E||[],m||[],d)}},7824:(x,T,c)=>{"use strict";function d(D){for(var b in D)T.hasOwnProperty(b)||(T[b]=D[b])}Object.defineProperty(T,"__esModule",{value:!0}),d(c(5085)),d(c(6243)),d(c(1786)),d(c(225)),d(c(6767)),d(c(345)),d(c(5675)),d(c(6461)),d(c(8802)),d(c(3900)),d(c(8866)),d(c(4655)),d(c(4068)),d(c(3858)),d(c(8237)),d(c(3292))},5085:function(x,T,c){"use strict";var m,d=this&&this.__extends||(m=function(_,h){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var v in g)g.hasOwnProperty(v)&&(f[v]=g[v])})(_,h)},function(_,h){function f(){this.constructor=_}m(_,h),_.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)});Object.defineProperty(T,"__esModule",{value:!0});var D=c(5675),b=function(m){function _(h){var f=m.call(this)||this,v=h;return v.trigger&&(f.trigger=v.trigger),v.kick&&(f.kick=v.kick),v.drag&&(f.drag=v.drag),v.on&&(f.on=v.on),f.dragstart=f.dragStart=D.Layout.dragStart,f.dragend=f.dragEnd=D.Layout.dragEnd,f}return d(_,m),_.prototype.trigger=function(h){},_.prototype.kick=function(){},_.prototype.drag=function(){},_.prototype.on=function(h,f){return this},_}(D.Layout);T.LayoutAdaptor=b,T.adaptor=function E(m){return new b(m)}},3292:(x,T,c)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var d=c(5675),D=c(6767);T.gridify=function b(_,h,f,g){_.cola.start(0,0,0,10,!1);var v=function E(_,h,f,g){_.forEach(function(p){p.routerNode={name:p.name,bounds:p.bounds.inflate(-f)}}),h.forEach(function(p){p.routerNode={bounds:p.bounds.inflate(-g),children:(typeof p.groups<"u"?p.groups.map(function(w){return _.length+w.id}):[]).concat(typeof p.leaves<"u"?p.leaves.map(function(w){return w.index}):[])}});var v=_.concat(h).map(function(p,w){return p.routerNode.id=w,p.routerNode});return new D.GridRouter(v,{getChildren:function(p){return p.children},getBounds:function(p){return p.bounds}},f-g)}(_.cola.nodes(),_.cola.groups(),f,g);return v.routeEdges(_.powerGraph.powerEdges,h,function(p){return p.source.routerNode.id},function(p){return p.target.routerNode.id})},T.powerGraphGridLayout=function m(_,h,f){var g;_.nodes.forEach(function(S,A){return S.index=A}),(new d.Layout).avoidOverlaps(!1).nodes(_.nodes).links(_.links).powerGraphGroups(function(S){(g=S).groups.forEach(function(A){return A.padding=f})});var v=_.nodes.length,p=[],w=_.nodes.slice(0);return w.forEach(function(S,A){return S.index=A}),g.groups.forEach(function(S){var A=S.index=S.id+v;w.push(S),typeof S.leaves<"u"&&S.leaves.forEach(function(N){return p.push({source:A,target:N.index})}),typeof S.groups<"u"&&S.groups.forEach(function(N){return p.push({source:A,target:N.id+v})})}),g.powerEdges.forEach(function(S){p.push({source:S.source.index,target:S.target.index})}),(new d.Layout).size(h).nodes(w).links(p).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new d.Layout).convergenceThreshold(.001).size(h).avoidOverlaps(!0).nodes(_.nodes).links(_.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(S){(g=S).groups.forEach(function(A){A.padding=f})}).start(50,0,100,0,!1),powerGraph:g}}},6243:(x,T,c)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var d=c(9346),D=c(2487);T.d3adaptor=function b(m){return!m||function E(m){return m.version&&null!==m.version.match(/^3\./)}(m)?new d.D3StyleLayoutAdaptor:new D.D3StyleLayoutAdaptor(m)}},9346:function(x,T,c){"use strict";var m,d=this&&this.__extends||(m=function(_,h){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var v in g)g.hasOwnProperty(v)&&(f[v]=g[v])})(_,h)},function(_,h){function f(){this.constructor=_}m(_,h),_.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)});Object.defineProperty(T,"__esModule",{value:!0});var D=c(5675),b=function(m){function _(){var h=m.call(this)||this;h.event=d3.dispatch(D.EventType[D.EventType.start],D.EventType[D.EventType.tick],D.EventType[D.EventType.end]);var f=h;return h.drag=function(){if(!v)var v=d3.behavior.drag().origin(D.Layout.dragOrigin).on("dragstart.d3adaptor",D.Layout.dragStart).on("drag.d3adaptor",function(p){D.Layout.drag(p,d3.event),f.resume()}).on("dragend.d3adaptor",D.Layout.dragEnd);if(!arguments.length)return v;this.call(v)},h}return d(_,m),_.prototype.trigger=function(h){var f={type:D.EventType[h.type],alpha:h.alpha,stress:h.stress};this.event[f.type](f)},_.prototype.kick=function(){var h=this;d3.timer(function(){return m.prototype.tick.call(h)})},_.prototype.on=function(h,f){return this.event.on("string"==typeof h?h:D.EventType[h],f),this},_}(D.Layout);T.D3StyleLayoutAdaptor=b,T.d3adaptor=function E(){return new b}},2487:function(x,T,c){"use strict";var E,d=this&&this.__extends||(E=function(m,_){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)f.hasOwnProperty(g)&&(h[g]=f[g])})(m,_)},function(m,_){function h(){this.constructor=m}E(m,_),m.prototype=null===_?Object.create(_):(h.prototype=_.prototype,new h)});Object.defineProperty(T,"__esModule",{value:!0});var D=c(5675),b=function(E){function m(_){var h=E.call(this)||this;h.d3Context=_,h.event=_.dispatch(D.EventType[D.EventType.start],D.EventType[D.EventType.tick],D.EventType[D.EventType.end]);var f=h;return h.drag=function(){if(!v)var v=_.drag().subject(D.Layout.dragOrigin).on("start.d3adaptor",D.Layout.dragStart).on("drag.d3adaptor",function(p){D.Layout.drag(p,_.event),f.resume()}).on("end.d3adaptor",D.Layout.dragEnd);if(!arguments.length)return v;arguments[0].call(v)},h}return d(m,E),m.prototype.trigger=function(_){var h={type:D.EventType[_.type],alpha:_.alpha,stress:_.stress};this.event.call(h.type,h)},m.prototype.kick=function(){var _=this,h=this.d3Context.timer(function(){return E.prototype.tick.call(_)&&h.stop()})},m.prototype.on=function(_,h){return this.event.on("string"==typeof _?_:D.EventType[_],h),this},m}(D.Layout);T.D3StyleLayoutAdaptor=b},1786:(x,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var c=function(){function b(){this.locks={}}return b.prototype.add=function(E,m){this.locks[E]=m},b.prototype.clear=function(){this.locks={}},b.prototype.isEmpty=function(){for(var E in this.locks)return!1;return!0},b.prototype.apply=function(E){for(var m in this.locks)E(Number(m),this.locks[m])},b}();T.Locks=c;var d=function(){function b(E,m,_){void 0===_&&(_=null),this.D=m,this.G=_,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new D,this.project=null,this.x=E,this.k=E.length;var h=this.n=E[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new c,this.minD=Number.MAX_VALUE;for(var g,f=h;f--;)for(g=h;--g>f;){var v=m[f][g];v>0&&v<this.minD&&(this.minD=v)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),f=this.k;f--;){for(this.g[f]=new Array(h),this.H[f]=new Array(h),g=h;g--;)this.H[f][g]=new Array(h);this.Hd[f]=new Array(h),this.a[f]=new Array(h),this.b[f]=new Array(h),this.c[f]=new Array(h),this.d[f]=new Array(h),this.e[f]=new Array(h),this.ia[f]=new Array(h),this.ib[f]=new Array(h),this.xtmp[f]=new Array(h)}}return b.createSquareMatrix=function(E,m){for(var _=new Array(E),h=0;h<E;++h){_[h]=new Array(E);for(var f=0;f<E;++f)_[h][f]=m(h,f)}return _},b.prototype.offsetDir=function(){for(var E=this,m=new Array(this.k),_=0,h=0;h<this.k;++h){var f=m[h]=this.random.getNextBetween(.01,1)-.5;_+=f*f}return _=Math.sqrt(_),m.map(function(g){return g*(E.minD/_)})},b.prototype.computeDerivatives=function(E){var m=this,_=this.n;if(!(_<1)){for(var h,f=new Array(this.k),g=new Array(this.k),v=new Array(this.k),p=0,w=0;w<_;++w){for(h=0;h<this.k;++h)v[h]=this.g[h][w]=0;for(var S=0;S<_;++S)if(w!==S){for(var A=_;A--;){var N=0;for(h=0;h<this.k;++h){var P=f[h]=E[h][w]-E[h][S];N+=g[h]=P*P}if(N>1e-9)break;var F=this.offsetDir();for(h=0;h<this.k;++h)E[h][S]+=F[h]}var L=Math.sqrt(N),R=this.D[w][S],H=null!=this.G?this.G[w][S]:1;if(H>1&&L>R||!isFinite(R)){for(h=0;h<this.k;++h)this.H[h][w][S]=0;continue}H>1&&(H=1);var K=R*R,X=2*H*(L-R)/(K*L),Y=L*L*L,q=2*-H/(K*Y);for(isFinite(X)||console.log(X),h=0;h<this.k;++h)this.g[h][w]+=f[h]*X,v[h]-=this.H[h][w][S]=q*(Y+R*(g[h]-N)+L*N)}for(h=0;h<this.k;++h)p=Math.max(p,this.H[h][w][w]=v[h])}var V=this.snapGridSize/2,B=this.snapGridSize,U=this.snapStrength/(V*V),G=this.numGridSnapNodes;for(w=0;w<G;++w)for(h=0;h<this.k;++h){var J=this.x[h][w],oe=J/B,W=oe%1,z=oe-W;-V<(P=Math.abs(W)<=.5?J-z*B:J>0?J-(z+1)*B:J-(z-1)*B)&&P<=V&&(this.scaleSnapByMaxH?(this.g[h][w]+=p*U*P,this.H[h][w][w]+=p*U):(this.g[h][w]+=U*P,this.H[h][w][w]+=U))}this.locks.isEmpty()||this.locks.apply(function(se,de){for(h=0;h<m.k;++h)m.H[h][se][se]+=p,m.g[h][se]-=p*(de[h]-E[h][se])})}},b.dotProd=function(E,m){for(var _=0,h=E.length;h--;)_+=E[h]*m[h];return _},b.rightMultiply=function(E,m,_){for(var h=E.length;h--;)_[h]=b.dotProd(E[h],m)},b.prototype.computeStepSize=function(E){for(var m=0,_=0,h=0;h<this.k;++h)m+=b.dotProd(this.g[h],E[h]),b.rightMultiply(this.H[h],E[h],this.Hd[h]),_+=b.dotProd(E[h],this.Hd[h]);return 0!==_&&isFinite(_)?1*m/_:0},b.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var E=this.computeStepSize(this.g),m=0;m<this.k;++m)this.takeDescentStep(this.x[m],this.g[m],E);return this.computeStress()},b.copy=function(E,m){for(var _=E.length,h=m[0].length,f=0;f<_;++f)for(var g=0;g<h;++g)m[f][g]=E[f][g]},b.prototype.stepAndProject=function(E,m,_,h){b.copy(E,m),this.takeDescentStep(m[0],_[0],h),this.project&&this.project[0](E[0],E[1],m[0]),this.takeDescentStep(m[1],_[1],h),this.project&&this.project[1](m[0],E[1],m[1]);for(var f=2;f<this.k;f++)this.takeDescentStep(m[f],_[f],h)},b.mApply=function(E,m,_){for(var h=E;h-- >0;)for(var f=m;f-- >0;)_(h,f)},b.prototype.matrixApply=function(E){b.mApply(this.k,this.n,E)},b.prototype.computeNextPosition=function(E,m){var _=this;this.computeDerivatives(E);var h=this.computeStepSize(this.g);if(this.stepAndProject(E,m,this.g,h),this.project){this.matrixApply(function(g,v){return _.e[g][v]=E[g][v]-m[g][v]});var f=this.computeStepSize(this.e);f=Math.max(.2,Math.min(f,1)),this.stepAndProject(E,m,this.e,f)}},b.prototype.run=function(E){for(var m=Number.MAX_VALUE,_=!1;!_&&E-- >0;){var h=this.rungeKutta();_=Math.abs(m/h-1)<this.threshold,m=h}return m},b.prototype.rungeKutta=function(){var E=this;this.computeNextPosition(this.x,this.a),b.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),b.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var m=0;return this.matrixApply(function(_,h){var f=(E.a[_][h]+2*E.b[_][h]+2*E.c[_][h]+E.d[_][h])/6,g=E.x[_][h]-f;m+=g*g,E.x[_][h]=f}),m},b.mid=function(E,m,_){b.mApply(E.length,E[0].length,function(h,f){return _[h][f]=E[h][f]+(m[h][f]-E[h][f])/2})},b.prototype.takeDescentStep=function(E,m,_){for(var h=0;h<this.n;++h)E[h]=E[h]-_*m[h]},b.prototype.computeStress=function(){for(var E=0,m=0,_=this.n-1;m<_;++m)for(var h=m+1,f=this.n;h<f;++h){for(var g=0,v=0;v<this.k;++v){var p=this.x[v][m]-this.x[v][h];g+=p*p}g=Math.sqrt(g);var w=this.D[m][h];if(isFinite(w)){var S=w-g;E+=S*S/(w*w)}}return E},b.zeroDistance=1e-10,b}();T.Descent=d;var D=function(){function b(E){void 0===E&&(E=1),this.seed=E,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return b.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},b.prototype.getNextBetween=function(E,m){return E+this.getNext()*(m-E)},b}();T.PseudoRandom=D},225:function(x,T,c){"use strict";var W,d=this&&this.__extends||(W=function(z,te){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(se,de){se.__proto__=de}||function(se,de){for(var ie in de)de.hasOwnProperty(ie)&&(se[ie]=de[ie])})(z,te)},function(z,te){function se(){this.constructor=z}W(z,te),z.prototype=null===te?Object.create(te):(se.prototype=te.prototype,new se)});Object.defineProperty(T,"__esModule",{value:!0});var D=c(4068),b=function W(){};T.Point=b;var E=function W(z,te,se,de){this.x1=z,this.y1=te,this.x2=se,this.y2=de};T.LineSegment=E;var m=function(W){function z(){return null!==W&&W.apply(this,arguments)||this}return d(z,W),z}(b);function _(W,z,te){return(z.x-W.x)*(te.y-W.y)-(te.x-W.x)*(z.y-W.y)}function h(W,z,te){return _(W,z,te)>0}function f(W,z,te){return _(W,z,te)<0}function S(W,z){var te=z.slice(0);return te.push(z[0]),{rtan:A(W,te),ltan:N(W,te)}}function A(W,z){var se,de,ie,ge,te=z.length-1;if(f(W,z[1],z[0])&&!h(W,z[te-1],z[0]))return 0;for(se=0,de=te;;){if(de-se==1)return h(W,z[se],z[de])?se:de;if((ge=f(W,z[(ie=Math.floor((se+de)/2))+1],z[ie]))&&!h(W,z[ie-1],z[ie]))return ie;h(W,z[se+1],z[se])?ge||h(W,z[se],z[ie])?de=ie:se=ie:ge&&f(W,z[se],z[ie])?de=ie:se=ie}}function N(W,z){var se,de,ie,ge,te=z.length-1;if(h(W,z[te-1],z[0])&&!f(W,z[1],z[0]))return 0;for(se=0,de=te;;){if(de-se==1)return f(W,z[se],z[de])?se:de;if(ge=f(W,z[(ie=Math.floor((se+de)/2))+1],z[ie]),h(W,z[ie-1],z[ie])&&!ge)return ie;f(W,z[se+1],z[se])?ge?f(W,z[se],z[ie])?de=ie:se=ie:de=ie:ge?se=ie:h(W,z[se],z[ie])?de=ie:se=ie}}function P(W,z,te,se,de,ie){var he,ge;ge=se(W[he=te(z[0],W)],z);for(var je=!1;!je;){for(je=!0;he===W.length-1&&(he=0),!de(z[ge],W[he],W[he+1]);)++he;for(;0===ge&&(ge=z.length-1),!ie(W[he],z[ge],z[ge-1]);)--ge,je=!1}return{t1:he,t2:ge}}function L(W,z){return P(W,z,A,N,h,f)}T.PolyPoint=m,T.isLeft=_,T.ConvexHull=function g(W){var se,z=W.slice(0).sort(function(pe,ve){return pe.x!==ve.x?ve.x-pe.x:ve.y-pe.y}),te=W.length,ie=z[0].x;for(se=1;se<te&&z[se].x===ie;++se);var he=se-1,ge=[];if(ge.push(z[0]),he===te-1)z[he].y!==z[0].y&&ge.push(z[he]);else{var je,ne=te-1,re=z[te-1].x;for(se=te-2;se>=0&&z[se].x===re;se--);for(je=se+1,se=he;++se<=je;)if(!(_(z[0],z[je],z[se])>=0&&se<je)){for(;ge.length>1&&!(_(ge[ge.length-2],ge[ge.length-1],z[se])>0);)ge.length-=1;0!=se&&ge.push(z[se])}ne!=je&&ge.push(z[ne]);var le=ge.length;for(se=je;--se>=he;)if(!(_(z[ne],z[he],z[se])>=0&&se>he)){for(;ge.length>le&&!(_(ge[ge.length-2],ge[ge.length-1],z[se])>0);)ge.length-=1;0!=se&&ge.push(z[se])}}return ge},T.clockwiseRadialSweep=function v(W,z,te){z.slice(0).sort(function(se,de){return Math.atan2(se.y-W.y,se.x-W.x)-Math.atan2(de.y-W.y,de.x-W.x)}).forEach(te)},T.tangent_PolyPolyC=P,T.LRtangent_PolyPolyC=function F(W,z){var te=L(z,W);return{t1:te.t2,t2:te.t1}},T.RLtangent_PolyPolyC=L,T.LLtangent_PolyPolyC=function R(W,z){return P(W,z,N,N,f,f)},T.RRtangent_PolyPolyC=function H(W,z){return P(W,z,A,A,h,h)};var K=function W(z,te){this.t1=z,this.t2=te};T.BiTangent=K;var X=function W(){};T.BiTangents=X;var Y=function(W){function z(){return null!==W&&W.apply(this,arguments)||this}return d(z,W),z}(b);T.TVGPoint=Y;var q=function W(z,te,se,de){this.id=z,this.polyid=te,this.polyvertid=se,this.p=de,de.vv=this};T.VisibilityVertex=q;var V=function(){function W(z,te){this.source=z,this.target=te}return W.prototype.length=function(){var z=this.source.p.x-this.target.p.x,te=this.source.p.y-this.target.p.y;return Math.sqrt(z*z+te*te)},W}();T.VisibilityEdge=V;var B=function(){function W(z,te){if(this.P=z,this.V=[],this.E=[],te)this.V=te.V.slice(0),this.E=te.E.slice(0);else{for(var se=z.length,de=0;de<se;de++){for(var ie=z[de],he=0;he<ie.length;++he){var je=new q(this.V.length,de,he,ie[he]);this.V.push(je),he>0&&this.E.push(new V(ie[he-1].vv,je))}ie.length>1&&this.E.push(new V(ie[0].vv,ie[ie.length-1].vv))}for(de=0;de<se-1;de++){var ne=z[de];for(he=de+1;he<se;he++){var re=z[he],le=U(ne,re);for(var pe in le){var ve=le[pe];this.addEdgeIfVisible(ne[ve.t1],re[ve.t2],de,he)}}}}}return W.prototype.addEdgeIfVisible=function(z,te,se,de){this.intersectsPolys(new E(z.x,z.y,te.x,te.y),se,de)||this.E.push(new V(z.vv,te.vv))},W.prototype.addPoint=function(z,te){var se=this.P.length;this.V.push(new q(this.V.length,se,0,z));for(var de=0;de<se;++de)if(de!==te){var ie=this.P[de],he=S(z,ie);this.addEdgeIfVisible(z,ie[he.ltan],te,de),this.addEdgeIfVisible(z,ie[he.rtan],te,de)}return z.vv},W.prototype.intersectsPolys=function(z,te,se){for(var de=0,ie=this.P.length;de<ie;++de)if(de!=te&&de!=se&&$(z,this.P[de]).length>0)return!0;return!1},W}();function $(W,z){for(var te=[],se=1,de=z.length;se<de;++se){var ie=D.Rectangle.lineIntersection(W.x1,W.y1,W.x2,W.y2,z[se-1].x,z[se-1].y,z[se].x,z[se].y);ie&&te.push(ie)}return te}function U(W,z){for(var te=W.length-1,se=z.length-1,de=new X,ie=0;ie<te;++ie)for(var he=0;he<se;++he){var ge=W[0==ie?te-1:ie-1],je=W[ie],ne=W[ie+1],re=z[0==he?se-1:he-1],le=z[he],pe=z[he+1],ve=_(ge,je,le),me=_(je,re,le),He=_(je,le,pe),Se=_(re,le,je),kn=_(le,ge,je),kt=_(le,je,ne);ve>=0&&me>=0&&He<0&&Se>=0&&kn>=0&&kt<0?de.ll=new K(ie,he):ve<=0&&me<=0&&He>0&&Se<=0&&kn<=0&&kt>0?de.rr=new K(ie,he):ve<=0&&me>0&&He<=0&&Se>=0&&kn<0&&kt>=0?de.rl=new K(ie,he):ve>=0&&me<0&&He>=0&&Se<=0&&kn>0&&kt<=0&&(de.lr=new K(ie,he))}return de}function J(W,z){return!W.every(function(te){return!function G(W,z){for(var te=1,se=z.length;te<se;++te)if(f(z[te-1],z[te],W))return!1;return!0}(te,z)})}T.TangentVisibilityGraph=B,T.tangents=U,T.polysOverlap=function oe(W,z){if(J(W,z)||J(z,W))return!0;for(var te=1,se=W.length;te<se;++te){var de=W[te],ie=W[te-1];if($(new E(ie.x,ie.y,de.x,de.y),z).length>0)return!0}return!1}},6767:(x,T,c)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var d=c(4068),D=c(8237),b=c(3858),E=function f(g,v,p){this.id=g,this.rect=v,this.children=p,this.leaf=typeof p>"u"||0===p.length};T.NodeWrapper=E;var m=function f(g,v,p,w,S){void 0===w&&(w=null),void 0===S&&(S=null),this.id=g,this.x=v,this.y=p,this.node=w,this.line=S};T.Vert=m;var _=function(){function f(g,v){this.s=g,this.t=v;var p=f.findMatch(g,v),w=v.slice(0).reverse(),S=f.findMatch(g,w);p.length>=S.length?(this.length=p.length,this.si=p.si,this.ti=p.ti,this.reversed=!1):(this.length=S.length,this.si=S.si,this.ti=v.length-S.ti-S.length,this.reversed=!0)}return f.findMatch=function(g,v){for(var p=g.length,w=v.length,S={length:0,si:-1,ti:-1},A=new Array(p),N=0;N<p;N++){A[N]=new Array(w);for(var P=0;P<w;P++)if(g[N]===v[P]){var F=A[N][P]=0===N||0===P?1:A[N-1][P-1]+1;F>S.length&&(S.length=F,S.si=N-F+1,S.ti=P-F+1)}else A[N][P]=0}return S},f.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},f}();T.LongestCommonSubsequence=_;var h=function(){function f(g,v,p){var w=this;void 0===p&&(p=12),this.originalnodes=g,this.groupPadding=p,this.leaves=null,this.nodes=g.map(function(Y,q){return new E(q,v.getBounds(Y),v.getChildren(Y))}),this.leaves=this.nodes.filter(function(Y){return Y.leaf}),this.groups=this.nodes.filter(function(Y){return!Y.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(Y){return Y.children.forEach(function(q){return w.nodes[q].parent=Y})}),this.root={children:[]},this.nodes.forEach(function(Y){typeof Y.parent>"u"&&(Y.parent=w.root,w.root.children.push(Y.id)),Y.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(Y,q){return w.getDepth(Y)-w.getDepth(q)}),this.backToFront.slice(0).reverse().filter(function(Y){return!Y.leaf}).forEach(function(Y){var q=d.Rectangle.empty();Y.children.forEach(function(V){return q=q.union(w.nodes[V].rect)}),Y.rect=q.inflate(w.groupPadding)});var A=this.midPoints(this.cols.map(function(Y){return Y.pos})),N=this.midPoints(this.rows.map(function(Y){return Y.pos})),P=A[0],F=A[A.length-1],L=N[0],R=N[N.length-1],H=this.rows.map(function(Y){return{x1:P,x2:F,y1:Y.pos,y2:Y.pos}}).concat(N.map(function(Y){return{x1:P,x2:F,y1:Y,y2:Y}})),K=this.cols.map(function(Y){return{x1:Y.pos,x2:Y.pos,y1:L,y2:R}}).concat(A.map(function(Y){return{x1:Y,x2:Y,y1:L,y2:R}})),X=H.concat(K);X.forEach(function(Y){return Y.verts=[]}),this.verts=[],this.edges=[],H.forEach(function(Y){return K.forEach(function(q){var V=new m(w.verts.length,q.x1,Y.y1);Y.verts.push(V),q.verts.push(V),w.verts.push(V);for(var B=w.backToFront.length;B-- >0;){var $=w.backToFront[B],U=$.rect,G=Math.abs(V.x-U.cx()),J=Math.abs(V.y-U.cy());if(G<U.width()/2&&J<U.height()/2){V.node=$;break}}})}),X.forEach(function(Y,q){w.nodes.forEach(function(J,oe){J.rect.lineIntersections(Y.x1,Y.y1,Y.x2,Y.y2).forEach(function(W,z){var te=new m(w.verts.length,W.x,W.y,J,Y);w.verts.push(te),Y.verts.push(te),J.ports.push(te)})});var V=Math.abs(Y.y1-Y.y2)<.1,B=function(J,oe){return V?oe.x-J.x:oe.y-J.y};Y.verts.sort(B);for(var $=1;$<Y.verts.length;$++){var U=Y.verts[$-1],G=Y.verts[$];U.node&&U.node===G.node&&U.node.leaf||w.edges.push({source:U.id,target:G.id,length:Math.abs(B(U,G))})}})}return f.prototype.avg=function(g){return g.reduce(function(v,p){return v+p})/g.length},f.prototype.getGridLines=function(g){for(var v=[],p=this.leaves.slice(0,this.leaves.length);p.length>0;){var w=p.filter(function(A){return A.rect["overlap"+g.toUpperCase()](p[0].rect)}),S={nodes:w,pos:this.avg(w.map(function(A){return A.rect["c"+g]()}))};v.push(S),S.nodes.forEach(function(A){return p.splice(p.indexOf(A),1)})}return v.sort(function(A,N){return A.pos-N.pos}),v},f.prototype.getDepth=function(g){for(var v=0;g.parent!==this.root;)v++,g=g.parent;return v},f.prototype.midPoints=function(g){for(var v=g[1]-g[0],p=[g[0]-v/2],w=1;w<g.length;w++)p.push((g[w]+g[w-1])/2);return p.push(g[g.length-1]+v/2),p},f.prototype.findLineage=function(g){var v=[g];do{v.push(g=g.parent)}while(g!==this.root);return v.reverse()},f.prototype.findAncestorPathBetween=function(g,v){for(var p=this.findLineage(g),w=this.findLineage(v),S=0;p[S]===w[S];)S++;return{commonAncestor:p[S-1],lineages:p.slice(S).concat(w.slice(S))}},f.prototype.siblingObstacles=function(g,v){var p=this,w=this.findAncestorPathBetween(g,v),S={};w.lineages.forEach(function(N){return S[N.id]={}});var A=w.commonAncestor.children.filter(function(N){return!(N in S)});return w.lineages.filter(function(N){return N.parent!==w.commonAncestor}).forEach(function(N){return A=A.concat(N.parent.children.filter(function(P){return P!==N.id}))}),A.map(function(N){return p.nodes[N]})},f.getSegmentSets=function(g,v,p){for(var w=[],S=0;S<g.length;S++)for(var A=g[S],N=0;N<A.length;N++)(P=A[N]).edgeid=S,P.i=N,Math.abs(P[1][v]-P[0][v])<.1&&w.push(P);w.sort(function(K,X){return K[0][v]-X[0][v]});for(var L=[],R=null,H=0;H<w.length;H++){var P=w[H];(!R||Math.abs(P[0][v]-R.pos)>.1)&&L.push(R={pos:P[0][v],segments:[]}),R.segments.push(P)}return L},f.nudgeSegs=function(g,v,p,w,S,A){var N=w.length;if(!(N<=1)){for(var P=w.map(function($){return new D.Variable($[0][g])}),F=[],L=0;L<N;L++)for(var R=0;R<N;R++)if(L!==R){var H=w[L],X=H.edgeid,Y=w[R].edgeid,q=-1,V=-1;"x"==g?S(X,Y)&&(H[0][v]<H[1][v]?(q=R,V=L):(q=L,V=R)):S(X,Y)&&(H[0][v]<H[1][v]?(q=L,V=R):(q=R,V=L)),q>=0&&F.push(new D.Constraint(P[q],P[V],A))}new D.Solver(P,F).solve(),P.forEach(function($,U){var G=w[U],J=$.position();G[0][g]=G[1][g]=J;var oe=p[G.edgeid];G.i>0&&(oe[G.i-1][1][g]=J),G.i<oe.length-1&&(oe[G.i+1][0][g]=J)})}},f.nudgeSegments=function(g,v,p,w,S){for(var A=f.getSegmentSets(g,v,p),N=0;N<A.length;N++){for(var P=A[N],F=[],L=0;L<P.segments.length;L++){var R=P.segments[L];F.push({type:0,s:R,pos:Math.min(R[0][p],R[1][p])}),F.push({type:1,s:R,pos:Math.max(R[0][p],R[1][p])})}F.sort(function(X,Y){return X.pos-Y.pos+X.type-Y.type});var H=[],K=0;F.forEach(function(X){0===X.type?(H.push(X.s),K++):K--,0==K&&(f.nudgeSegs(v,p,g,H,w,S),H=[])})}},f.prototype.routeEdges=function(g,v,p,w){var S=this,A=g.map(function(F){return S.route(p(F),w(F))}),N=f.orderEdges(A),P=A.map(function(F){return f.makeSegments(F)});return f.nudgeSegments(P,"x","y",N,v),f.nudgeSegments(P,"y","x",N,v),f.unreverseEdges(P,A),P},f.unreverseEdges=function(g,v){g.forEach(function(p,w){v[w].reversed&&(p.reverse(),p.forEach(function(A){A.reverse()}))})},f.angleBetween2Lines=function(g,v){var p=Math.atan2(g[0].y-g[1].y,g[0].x-g[1].x),w=Math.atan2(v[0].y-v[1].y,v[0].x-v[1].x),S=p-w;return(S>Math.PI||S<-Math.PI)&&(S=w-p),S},f.isLeft=function(g,v,p){return(v.x-g.x)*(p.y-g.y)-(v.y-g.y)*(p.x-g.x)<=0},f.getOrder=function(g){for(var v={},p=0;p<g.length;p++){var w=g[p];typeof v[w.l]>"u"&&(v[w.l]={}),v[w.l][w.r]=!0}return function(S,A){return typeof v[S]<"u"&&v[S][A]}},f.orderEdges=function(g){for(var v=[],p=0;p<g.length-1;p++)for(var w=p+1;w<g.length;w++){var P,F,L,S=g[p],A=g[w],N=new _(S,A);if(0!==N.length){if(N.reversed&&(A.reverse(),A.reversed=!0,N=new _(S,A)),(N.si<=0||N.ti<=0)&&(N.si+N.length>=S.length||N.ti+N.length>=A.length)){v.push({l:p,r:w});continue}N.si+N.length>=S.length||N.ti+N.length>=A.length?(P=S[N.si+1],L=S[N.si-1],F=A[N.ti-1]):(P=S[N.si+N.length-2],F=S[N.si+N.length],L=A[N.ti+N.length]),f.isLeft(P,F,L)?v.push({l:w,r:p}):v.push({l:p,r:w})}}return f.getOrder(v)},f.makeSegments=function(g){function v(F){return{x:F.x,y:F.y}}for(var w=[],S=v(g[0]),A=1;A<g.length;A++){var N=v(g[A]),P=A<g.length-1?g[A+1]:null;(!P||(F=S,L=N,R=P,!(Math.abs((L.x-F.x)*(R.y-F.y)-(L.y-F.y)*(R.x-F.x))<.001)))&&(w.push([S,N]),S=N)}var F,L,R;return w},f.prototype.route=function(g,v){var p=this,w=this.nodes[g],S=this.nodes[v];this.obstacles=this.siblingObstacles(w,S);var A={};this.obstacles.forEach(function(V){return A[V.id]=V}),this.passableEdges=this.edges.filter(function(V){var B=p.verts[V.source],$=p.verts[V.target];return!(B.node&&B.node.id in A||$.node&&$.node.id in A)});for(var N=1;N<w.ports.length;N++)this.passableEdges.push({source:w.ports[0].id,target:w.ports[N].id,length:0});for(N=1;N<S.ports.length;N++)this.passableEdges.push({source:S.ports[0].id,target:S.ports[N].id,length:0});var q=new b.Calculator(this.verts.length,this.passableEdges,function(V){return V.source},function(V){return V.target},function(V){return V.length}).PathFromNodeToNodeWithPrevCost(w.ports[0].id,S.ports[0].id,function(V,B,$){var U=p.verts[V],G=p.verts[B],J=p.verts[$],oe=Math.abs(J.x-U.x),W=Math.abs(J.y-U.y);return U.node===w&&U.node===G.node||G.node===S&&G.node===J.node?0:oe>1&&W>1?1e3:0}).reverse().map(function(V){return p.verts[V]});return q.push(this.nodes[S.id].ports[0]),q.filter(function(V,B){return!(B<q.length-1&&q[B+1].node===w&&V.node===w||B>0&&V.node===S&&q[B-1].node===S)})},f.getRoutePath=function(g,v,p,w){var N,P,F,oe,W,S={routepath:"M "+g[0][0].x+" "+g[0][0].y+" ",arrowpath:""};if(g.length>1)for(var A=0;A<g.length;A++){var L=(P=(N=g[A])[1].x)-N[0].x,R=(F=N[1].y)-N[0].y;if(A<g.length-1){Math.abs(L)>0?P-=L/Math.abs(L)*v:F-=R/Math.abs(R)*v,S.routepath+="L "+P+" "+F+" ";var H=g[A+1],K=H[0].x,X=H[0].y;L=H[1].x-K,R=H[1].y-X;var B,$,V=f.angleBetween2Lines(N,H)<0?1:0;Math.abs(L)>0?(B=K+L/Math.abs(L)*v,$=X):(B=K,$=X+R/Math.abs(R)*v);var U=Math.abs(B-P),G=Math.abs($-F);S.routepath+="A "+U+" "+G+" 0 0 "+V+" "+B+" "+$+" "}else{var J=[P,F];Math.abs(L)>0?(oe=[P-=L/Math.abs(L)*w,F+p],W=[P,F-p]):(oe=[P+p,F-=R/Math.abs(R)*w],W=[P-p,F]),S.routepath+="L "+P+" "+F+" ",w>0&&(S.arrowpath="M "+J[0]+" "+J[1]+" L "+oe[0]+" "+oe[1]+" L "+W[0]+" "+W[1])}}else L=(P=(N=g[0])[1].x)-N[0].x,R=(F=N[1].y)-N[0].y,J=[P,F],Math.abs(L)>0?(oe=[P-=L/Math.abs(L)*w,F+p],W=[P,F-p]):(oe=[P+p,F-=R/Math.abs(R)*w],W=[P-p,F]),S.routepath+="L "+P+" "+F+" ",w>0&&(S.arrowpath="M "+J[0]+" "+J[1]+" L "+oe[0]+" "+oe[1]+" L "+W[0]+" "+W[1]);return S},f}();T.GridRouter=h},345:(x,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var c_GOLDEN_SECTION=(1+Math.sqrt(5))/2;T.applyPacking=function d(b,E,m,A,S,f){void 0===S&&(S=1),void 0===f&&(f=!0);var p=E,w=m,N=(S=typeof S<"u"?S:1,A=typeof A<"u"?A:0,0),P=0,F=0,L=0,R=[];function Y($,U){R=[],N=0,P=0,L=0;for(var G=0;G<$.length;G++)q($[G],U);return Math.abs(function B(){return N/P}()-S)}function q($,U){for(var G=void 0,J=0;J<R.length;J++)if(R[J].space_left>=$.height&&R[J].x+R[J].width+$.width+10-U<=1e-4){G=R[J];break}R.push($),void 0!==G?($.x=G.x+G.width+10,$.y=G.bottom,$.space_left=$.height,$.bottom=$.y,G.space_left-=$.height+10,G.bottom+=$.height+10):($.y=L,L+=$.height+10,$.x=0,$.bottom=$.y,$.space_left=$.height),$.y+$.height-P>-1e-4&&(P=$.y+$.height-0),$.x+$.width-N>-1e-4&&(N=$.x+$.width-0)}0!=b.length&&(function H($){$.forEach(function(G){!function U(G){var J=Number.MAX_VALUE,oe=Number.MAX_VALUE,W=0,z=0;G.array.forEach(function(te){var se=typeof te.width<"u"?te.width:A,de=typeof te.height<"u"?te.height:A;se/=2,de/=2,W=Math.max(te.x+se,W),J=Math.min(te.x-se,J),z=Math.max(te.y+de,z),oe=Math.min(te.y-de,oe)}),G.width=W-J,G.height=z-oe}(G)})}(b),function X($,U){var G=Number.POSITIVE_INFINITY,J=0;$.sort(function(ne,re){return re.height-ne.height});for(var oe=ge=F=$.reduce(function(ne,re){return ne.width<re.width?ne.width:re.width}),W=je=function V($){var U=0;return $.forEach(function(G){return U+=G.width+10}),U}($),z=0,te=Number.MAX_VALUE,se=Number.MAX_VALUE,de=-1,ie=Number.MAX_VALUE,he=Number.MAX_VALUE;ie>F||he>1e-4;){if(1!=de){var ge=W-(W-oe)/c_GOLDEN_SECTION;te=Y($,ge)}if(0!=de){var je=oe+(W-oe)/c_GOLDEN_SECTION;se=Y($,je)}if(ie=Math.abs(ge-je),he=Math.abs(te-se),te<G&&(G=te,J=ge),se<G&&(G=se,J=je),te>se?(oe=ge,ge=je,te=se,de=1):(W=je,je=ge,se=te,de=0),z++>100)break}Y($,J)}(b),f&&function K($){$.forEach(function(U){var G={x:0,y:0};U.array.forEach(function(W){G.x+=W.x,G.y+=W.y}),G.x/=U.array.length,G.y/=U.array.length;var oe_x=U.x-(G.x-U.width/2)+p/2-N/2,oe_y=U.y-(G.y-U.height/2)+w/2-P/2;U.array.forEach(function(W){W.x+=oe_x,W.y+=oe_y})})}(b))},T.separateGraphs=function D(b,E){for(var m={},_={},h=[],f=0,g=0;g<E.length;g++){var v=E[g],p=v.source,w=v.target;_[p.index]?_[p.index].push(w):_[p.index]=[w],_[w.index]?_[w.index].push(p):_[w.index]=[p]}for(g=0;g<b.length;g++){var S=b[g];m[S.index]||A(S,!0)}function A(N,P){if(void 0===m[N.index]){P&&(f++,h.push({array:[]})),m[N.index]=f,h[f-1].array.push(N);var F=_[N.index];if(F)for(var L=0;L<F.length;L++)A(F[L],!1)}}return h}},5675:(x,T,c)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var f,p,d=c(3900),D=c(8802),b=c(1786),E=c(4068),m=c(3858),_=c(225),h=c(345);function g(p){return typeof p.leaves<"u"||typeof p.groups<"u"}(p=f=T.EventType||(T.EventType={}))[p.start=0]="start",p[p.tick=1]="tick",p[p.end=2]="end";var v=function(){function p(){var w=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:p.getSourceIndex,getTargetIndex:p.getTargetIndex,setLength:p.setLinkLength,getType:function(S){return"function"==typeof w._linkType?w._linkType(S):0}}}return p.prototype.on=function(w,S){return this.event||(this.event={}),"string"==typeof w?this.event[f[w]]=S:this.event[w]=S,this},p.prototype.trigger=function(w){this.event&&typeof this.event[w.type]<"u"&&this.event[w.type](w)},p.prototype.kick=function(){for(;!this.tick(););},p.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:f.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var A,N,w=this._nodes.length;for(this._descent.locks.clear(),N=0;N<w;++N)(A=this._nodes[N]).fixed&&((typeof A.px>"u"||typeof A.py>"u")&&(A.px=A.x,A.py=A.y),this._descent.locks.add(N,[A.px,A.py]));var F=this._descent.rungeKutta();return 0===F?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=F),this._lastStress=F,this.updateNodePositions(),this.trigger({type:f.tick,alpha:this._alpha,stress:this._lastStress}),!1},p.prototype.updateNodePositions=function(){for(var A,w=this._descent.x[0],S=this._descent.x[1],N=this._nodes.length;N--;)(A=this._nodes[N]).x=w[N],A.y=S[N]},p.prototype.nodes=function(w){if(!w){if(0===this._nodes.length&&this._links.length>0){var S=0;this._links.forEach(function(N){S=Math.max(S,N.source,N.target)}),this._nodes=new Array(++S);for(var A=0;A<S;++A)this._nodes[A]={}}return this._nodes}return this._nodes=w,this},p.prototype.groups=function(w){var S=this;return w?(this._groups=w,this._rootGroup={},this._groups.forEach(function(A){typeof A.padding>"u"&&(A.padding=1),typeof A.leaves<"u"&&A.leaves.forEach(function(N,P){"number"==typeof N&&((A.leaves[P]=S._nodes[N]).parent=A)}),typeof A.groups<"u"&&A.groups.forEach(function(N,P){"number"==typeof N&&((A.groups[P]=S._groups[N]).parent=A)})}),this._rootGroup.leaves=this._nodes.filter(function(A){return typeof A.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(A){return typeof A.parent>"u"}),this):this._groups},p.prototype.powerGraphGroups=function(w){var S=d.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(S.groups),w(S),this},p.prototype.avoidOverlaps=function(w){return arguments.length?(this._avoidOverlaps=w,this):this._avoidOverlaps},p.prototype.handleDisconnected=function(w){return arguments.length?(this._handleDisconnected=w,this):this._handleDisconnected},p.prototype.flowLayout=function(w,S){return arguments.length||(w="y"),this._directedLinkConstraints={axis:w,getMinSeparation:"number"==typeof S?function(){return S}:S},this},p.prototype.links=function(w){return arguments.length?(this._links=w,this):this._links},p.prototype.constraints=function(w){return arguments.length?(this._constraints=w,this):this._constraints},p.prototype.distanceMatrix=function(w){return arguments.length?(this._distanceMatrix=w,this):this._distanceMatrix},p.prototype.size=function(w){return w?(this._canvasSize=w,this):this._canvasSize},p.prototype.defaultNodeSize=function(w){return w?(this._defaultNodeSize=w,this):this._defaultNodeSize},p.prototype.groupCompactness=function(w){return w?(this._groupCompactness=w,this):this._groupCompactness},p.prototype.linkDistance=function(w){return w?(this._linkDistance="function"==typeof w?w:+w,this._linkLengthCalculator=null,this):this._linkDistance},p.prototype.linkType=function(w){return this._linkType=w,this},p.prototype.convergenceThreshold=function(w){return w?(this._threshold="function"==typeof w?w:+w,this):this._threshold},p.prototype.alpha=function(w){return arguments.length?(w=+w,this._alpha?this._alpha=w>0?w:0:w>0&&(this._running||(this._running=!0,this.trigger({type:f.start,alpha:this._alpha=w}),this.kick())),this):this._alpha},p.prototype.getLinkLength=function(w){return"function"==typeof this._linkDistance?+this._linkDistance(w):this._linkDistance},p.setLinkLength=function(w,S){w.length=S},p.prototype.getLinkType=function(w){return"function"==typeof this._linkType?this._linkType(w):0},p.prototype.symmetricDiffLinkLengths=function(w,S){var A=this;return void 0===S&&(S=1),this.linkDistance(function(N){return w*N.length}),this._linkLengthCalculator=function(){return D.symmetricDiffLinkLengths(A._links,A.linkAccessor,S)},this},p.prototype.jaccardLinkLengths=function(w,S){var A=this;return void 0===S&&(S=1),this.linkDistance(function(N){return w*N.length}),this._linkLengthCalculator=function(){return D.jaccardLinkLengths(A._links,A.linkAccessor,S)},this},p.prototype.start=function(w,S,A,N,P,F){var L=this;void 0===w&&(w=0),void 0===S&&(S=0),void 0===A&&(A=0),void 0===N&&(N=0),void 0===P&&(P=!0),void 0===F&&(F=!0);var J,K=this.nodes().length,X=K+2*this._groups.length,q=this._canvasSize[0],V=this._canvasSize[1],B=new Array(X),$=new Array(X),U=null,G=this._avoidOverlaps;this._nodes.forEach(function(ie,he){ie.index=he,typeof ie.x>"u"&&(ie.x=q/2,ie.y=V/2),B[he]=ie.x,$[he]=ie.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?J=this._distanceMatrix:(J=new m.Calculator(X,this._links,p.getSourceIndex,p.getTargetIndex,function(ie){return L.getLinkLength(ie)}).DistanceMatrix(),U=b.Descent.createSquareMatrix(X,function(){return 2}),this._links.forEach(function(ie){"number"==typeof ie.source&&(ie.source=L._nodes[ie.source]),"number"==typeof ie.target&&(ie.target=L._nodes[ie.target])}),this._links.forEach(function(ie){var he=p.getSourceIndex(ie),ge=p.getTargetIndex(ie);U[he][ge]=U[ge][he]=ie.weight||1}));var oe=b.Descent.createSquareMatrix(X,function(ie,he){return J[ie][he]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var R=K;this._groups.forEach(function(he){(function(he,ge,je,ne){U[he][ge]=U[ge][he]=je,oe[he][ge]=oe[ge][he]=.1})(R,R+1,L._groupCompactness),B[R]=0,$[R++]=0,B[R]=0,$[R++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var z=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,z=z.concat(D.generateDirectedEdgeConstraints(K,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new b.Descent([B,$],oe),this._descent.locks.clear(),R=0;R<K;++R){var te=this._nodes[R];te.fixed&&(te.px=te.x,te.py=te.y,this._descent.locks.add(R,[te.x,te.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(w,B,$),z.length>0&&(this._descent.project=new E.Projection(this._nodes,this._groups,this._rootGroup,z).projectFunctions()),this._descent.run(S),this.separateOverlappingComponents(q,V,F),this.avoidOverlaps(G),G&&(this._nodes.forEach(function(ie,he){ie.x=B[he],ie.y=$[he]}),this._descent.project=new E.Projection(this._nodes,this._groups,this._rootGroup,z,!0).projectFunctions(),this._nodes.forEach(function(ie,he){B[he]=ie.x,$[he]=ie.y})),this._descent.G=U,this._descent.run(A),N){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=K,this._descent.scaleSnapByMaxH=K!=X;var de=b.Descent.createSquareMatrix(X,function(ie,he){return ie>=K||he>=K?U[ie][he]:0});this._descent.G=de,this._descent.run(N)}return this.updateNodePositions(),this.separateOverlappingComponents(q,V,F),P?this.resume():this},p.prototype.initialLayout=function(w,S,A){if(this._groups.length>0&&w>0){var N=this._nodes.length,P=this._links.map(function(L){return{source:L.source.index,target:L.target.index}}),F=this._nodes.map(function(L){return{index:L.index}});this._groups.forEach(function(L,R){F.push({index:L.index=N+R})}),this._groups.forEach(function(L,R){typeof L.leaves<"u"&&L.leaves.forEach(function(H){return P.push({source:L.index,target:H.index})}),typeof L.groups<"u"&&L.groups.forEach(function(H){return P.push({source:L.index,target:H.index})})}),(new p).size(this.size()).nodes(F).links(P).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(w,0,0,0,!1),this._nodes.forEach(function(L){S[L.index]=F[L.index].x,A[L.index]=F[L.index].y})}else this._descent.run(w)},p.prototype.separateOverlappingComponents=function(w,S,A){var N=this;if(void 0===A&&(A=!0),!this._distanceMatrix&&this._handleDisconnected){var P=this._descent.x[0],F=this._descent.x[1];this._nodes.forEach(function(R,H){R.x=P[H],R.y=F[H]});var L=h.separateGraphs(this._nodes,this._links);h.applyPacking(L,w,S,this._defaultNodeSize,1,A),this._nodes.forEach(function(R,H){N._descent.x[0][H]=R.x,N._descent.x[1][H]=R.y,R.bounds&&(R.bounds.setXCentre(R.x),R.bounds.setYCentre(R.y))})}},p.prototype.resume=function(){return this.alpha(.1)},p.prototype.stop=function(){return this.alpha(0)},p.prototype.prepareEdgeRouting=function(w){void 0===w&&(w=0),this._visibilityGraph=new _.TangentVisibilityGraph(this._nodes.map(function(S){return S.bounds.inflate(-w).vertices()}))},p.prototype.routeEdge=function(w,S,A){void 0===S&&(S=5);var N=[],P=new _.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),F={x:w.source.x,y:w.source.y},L={x:w.target.x,y:w.target.y},R=P.addPoint(F,w.source.index),H=P.addPoint(L,w.target.index);P.addEdgeIfVisible(F,L,w.source.index,w.target.index),typeof A<"u"&&A(P);var V=new m.Calculator(P.V.length,P.E,function(oe){return oe.source.id},function(oe){return oe.target.id},function(oe){return oe.length()}).PathFromNodeToNode(R.id,H.id);if(1===V.length||V.length===P.V.length){var B=E.makeEdgeBetween(w.source.innerBounds,w.target.innerBounds,S);N=[B.sourceIntersection,B.arrowStart]}else{for(var $=V.length-2,U=P.V[V[$]].p,G=P.V[V[0]].p,J=(N=[w.source.innerBounds.rayIntersection(U.x,U.y)],$);J>=0;--J)N.push(P.V[V[J]].p);N.push(E.makeEdgeTo(G,w.target.innerBounds,S))}return N},p.getSourceIndex=function(w){return"number"==typeof w.source?w.source:w.source.index},p.getTargetIndex=function(w){return"number"==typeof w.target?w.target:w.target.index},p.linkId=function(w){return p.getSourceIndex(w)+"-"+p.getTargetIndex(w)},p.dragStart=function(w){g(w)?p.storeOffset(w,p.dragOrigin(w)):(p.stopNode(w),w.fixed|=2)},p.stopNode=function(w){w.px=w.x,w.py=w.y},p.storeOffset=function(w,S){typeof w.leaves<"u"&&w.leaves.forEach(function(A){A.fixed|=2,p.stopNode(A),A._dragGroupOffsetX=A.x-S.x,A._dragGroupOffsetY=A.y-S.y}),typeof w.groups<"u"&&w.groups.forEach(function(A){return p.storeOffset(A,S)})},p.dragOrigin=function(w){return g(w)?{x:w.bounds.cx(),y:w.bounds.cy()}:w},p.drag=function(w,S){g(w)?(typeof w.leaves<"u"&&w.leaves.forEach(function(A){w.bounds.setXCentre(S.x),w.bounds.setYCentre(S.y),A.px=A._dragGroupOffsetX+S.x,A.py=A._dragGroupOffsetY+S.y}),typeof w.groups<"u"&&w.groups.forEach(function(A){return p.drag(A,S)})):(w.px=S.x,w.py=S.y)},p.dragEnd=function(w){g(w)?(typeof w.leaves<"u"&&w.leaves.forEach(function(S){p.dragEnd(S),delete S._dragGroupOffsetX,delete S._dragGroupOffsetY}),typeof w.groups<"u"&&w.groups.forEach(p.dragEnd)):w.fixed&=-7},p.mouseOver=function(w){w.fixed|=4,w.px=w.x,w.py=w.y},p.mouseOut=function(w){w.fixed&=-5},p}();T.Layout=v},6461:(x,T,c)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var d=c(3858),D=c(1786),b=c(4068),E=c(8802),m=function(){function g(v,p){this.source=v,this.target=p}return g.prototype.actualLength=function(v){var p=this;return Math.sqrt(v.reduce(function(w,S){var A=S[p.target]-S[p.source];return w+A*A},0))},g}();T.Link3D=m,T.Node3D=function g(v,p,w){void 0===v&&(v=0),void 0===p&&(p=0),void 0===w&&(w=0),this.x=v,this.y=p,this.z=w};var h=function(){function g(v,p,w){var S=this;void 0===w&&(w=1),this.nodes=v,this.links=p,this.idealLinkLength=w,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(g.k);for(var A=0;A<g.k;++A)this.result[A]=new Array(v.length);v.forEach(function(N,P){for(var F=0,L=g.dims;F<L.length;F++){var R=L[F];typeof N[R]>"u"&&(N[R]=Math.random())}S.result[0][P]=N.x,S.result[1][P]=N.y,S.result[2][P]=N.z})}return g.prototype.linkLength=function(v){return v.actualLength(this.result)},g.prototype.start=function(v){var p=this;void 0===v&&(v=100);var w=this.nodes.length,S=new f;this.useJaccardLinkLengths&&E.jaccardLinkLengths(this.links,S,1.5),this.links.forEach(function(R){return R.length*=p.idealLinkLength});var A=new d.Calculator(w,this.links,function(R){return R.source},function(R){return R.target},function(R){return R.length}).DistanceMatrix(),N=D.Descent.createSquareMatrix(w,function(R,H){return A[R][H]}),P=D.Descent.createSquareMatrix(w,function(){return 2});this.links.forEach(function(R){var H=R.source,K=R.target;return P[H][K]=P[K][H]=1}),this.descent=new D.Descent(this.result,N),this.descent.threshold=.001,this.descent.G=P,this.constraints&&(this.descent.project=new b.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var F=0;F<this.nodes.length;F++){var L=this.nodes[F];L.fixed&&this.descent.locks.add(F,[L.x,L.y,L.z])}return this.descent.run(v),this},g.prototype.tick=function(){this.descent.locks.clear();for(var v=0;v<this.nodes.length;v++){var p=this.nodes[v];p.fixed&&this.descent.locks.add(v,[p.x,p.y,p.z])}return this.descent.rungeKutta()},g.k=(g.dims=["x","y","z"]).length,g}();T.Layout3D=h;var f=function(){function g(){}return g.prototype.getSourceIndex=function(v){return v.source},g.prototype.getTargetIndex=function(v){return v.target},g.prototype.getLength=function(v){return v.length},g.prototype.setLength=function(v,p){v.length=p},g}()},8802:(x,T)=>{"use strict";function c(f,g){var v={};for(var p in f)v[p]={};for(var p in g)v[p]={};return Object.keys(v).length}function d(f,g){var v=0;for(var p in f)typeof g[p]<"u"&&++v;return v}function b(f,g,v,p){var w=function D(f,g){var v={},p=function(w,S){typeof v[w]>"u"&&(v[w]={}),v[w][S]={}};return f.forEach(function(w){var S=g.getSourceIndex(w),A=g.getTargetIndex(w);p(S,A),p(A,S)}),v}(f,p);f.forEach(function(S){var A=w[p.getSourceIndex(S)],N=w[p.getTargetIndex(S)];p.setLength(S,1+g*v(A,N))})}function h(f,g,v){var p=[],w=0,S=[],A=[];function N(V){V.index=V.lowlink=w++,S.push(V),V.onStack=!0;for(var B=0,$=V.out;B<$.length;B++){var U=$[B];typeof U.index>"u"?(N(U),V.lowlink=Math.min(V.lowlink,U.lowlink)):U.onStack&&(V.lowlink=Math.min(V.lowlink,U.index))}if(V.lowlink===V.index){for(var G=[];S.length&&((U=S.pop()).onStack=!1,G.push(U),U!==V););A.push(G.map(function(J){return J.id}))}}for(var P=0;P<f;P++)p.push({id:P,out:[]});for(var F=0,L=g;F<L.length;F++){var R=L[F],H=p[v.getSourceIndex(R)],K=p[v.getTargetIndex(R)];H.out.push(K)}for(var X=0,Y=p;X<Y.length;X++){var q=Y[X];typeof q.index>"u"&&N(q)}return A}Object.defineProperty(T,"__esModule",{value:!0}),T.symmetricDiffLinkLengths=function E(f,g,v){void 0===v&&(v=1),b(f,v,function(p,w){return Math.sqrt(c(p,w)-d(p,w))},g)},T.jaccardLinkLengths=function m(f,g,v){void 0===v&&(v=1),b(f,v,function(p,w){return Math.min(Object.keys(p).length,Object.keys(w).length)<1.1?0:d(p,w)/c(p,w)},g)},T.generateDirectedEdgeConstraints=function _(f,g,v,p){var w=h(f,g,p),S={};w.forEach(function(N,P){return N.forEach(function(F){return S[F]=P})});var A=[];return g.forEach(function(N){var P=p.getSourceIndex(N),F=p.getTargetIndex(N);S[P]!==S[F]&&A.push({axis:v,left:P,right:F,gap:p.getMinSeparation(N)})}),A},T.stronglyConnectedComponents=h},3900:(x,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var c=function g(v,p,w){this.source=v,this.target=p,this.type=w};T.PowerEdge=c;var d=function(){function g(v,p,w,S){var A=this;if(this.linkAccessor=w,this.modules=new Array(v),this.roots=[],S)this.initModulesFromGroup(S);else{this.roots.push(new m);for(var N=0;N<v;++N)this.roots[0].add(this.modules[N]=new b(N))}this.R=p.length,p.forEach(function(P){var F=A.modules[w.getSourceIndex(P)],L=A.modules[w.getTargetIndex(P)],R=w.getType(P);F.outgoing.add(R,L),L.incoming.add(R,F)})}return g.prototype.initModulesFromGroup=function(v){var p=new m;this.roots.push(p);for(var w=0;w<v.leaves.length;++w){var S=v.leaves[w],A=new b(S.id);this.modules[S.id]=A,p.add(A)}if(v.groups)for(var N=0;N<v.groups.length;++N){var P=v.groups[N],F={};for(var L in P)"leaves"!==L&&"groups"!==L&&P.hasOwnProperty(L)&&(F[L]=P[L]);p.add(new b(-1-N,new _,new _,this.initModulesFromGroup(P),F))}return p},g.prototype.merge=function(v,p,w){void 0===w&&(w=0);var S=v.incoming.intersection(p.incoming),A=v.outgoing.intersection(p.outgoing),N=new m;N.add(v),N.add(p);var P=new b(this.modules.length,A,S,N);this.modules.push(P);var F=function(L,R,H){L.forAll(function(K,X){K.forAll(function(Y){var q=Y[R];q.add(X,P),q.remove(X,v),q.remove(X,p),v[H].remove(X,Y),p[H].remove(X,Y)})})};return F(A,"incoming","outgoing"),F(S,"outgoing","incoming"),this.R-=S.count()+A.count(),this.roots[w].remove(v),this.roots[w].remove(p),this.roots[w].add(P),P},g.prototype.rootMerges=function(v){void 0===v&&(v=0);for(var p=this.roots[v].modules(),w=p.length,S=new Array(w*(w-1)),A=0,N=0,P=w-1;N<P;++N)for(var F=N+1;F<w;++F){var L=p[N],R=p[F];S[A]={id:A,nEdges:this.nEdges(L,R),a:L,b:R},A++}return S},g.prototype.greedyMerge=function(){for(var v=0;v<this.roots.length;++v)if(!(this.roots[v].modules().length<2)){var w=this.rootMerges(v).sort(function(S,A){return S.nEdges==A.nEdges?S.id-A.id:S.nEdges-A.nEdges})[0];if(!(w.nEdges>=this.R))return this.merge(w.a,w.b,v),!0}},g.prototype.nEdges=function(v,p){var w=v.incoming.intersection(p.incoming),S=v.outgoing.intersection(p.outgoing);return this.R-w.count()-S.count()},g.prototype.getGroupHierarchy=function(v){var p=this,w=[];return D(this.roots[0],{},w),this.allEdges().forEach(function(N){var P=p.modules[N.source],F=p.modules[N.target];v.push(new c(typeof P.gid>"u"?N.source:w[P.gid],typeof F.gid>"u"?N.target:w[F.gid],N.type))}),w},g.prototype.allEdges=function(){var v=[];return g.getEdges(this.roots[0],v),v},g.getEdges=function(v,p){v.forAll(function(w){w.getEdges(p),g.getEdges(w.children,p)})},g}();function D(g,v,p){g.forAll(function(w){if(w.isLeaf())v.leaves||(v.leaves=[]),v.leaves.push(w.id);else{var S=v;if(w.gid=p.length,!w.isIsland()||w.isPredefined()){if(S={id:w.gid},w.isPredefined())for(var A in w.definition)S[A]=w.definition[A];v.groups||(v.groups=[]),v.groups.push(w.gid),p.push(S)}D(w.children,S,p)}})}T.Configuration=d;var b=function(){function g(v,p,w,S,A){void 0===p&&(p=new _),void 0===w&&(w=new _),void 0===S&&(S=new m),this.id=v,this.outgoing=p,this.incoming=w,this.children=S,this.definition=A}return g.prototype.getEdges=function(v){var p=this;this.outgoing.forAll(function(w,S){w.forAll(function(A){v.push(new c(p.id,A.id,S))})})},g.prototype.isLeaf=function(){return 0===this.children.count()},g.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},g.prototype.isPredefined=function(){return typeof this.definition<"u"},g}();T.Module=b;var m=function(){function g(){this.table={}}return g.prototype.count=function(){return Object.keys(this.table).length},g.prototype.intersection=function(v){var p=new g;return p.table=function E(g,v){var p={};for(var w in g)w in v&&(p[w]=g[w]);return p}(this.table,v.table),p},g.prototype.intersectionCount=function(v){return this.intersection(v).count()},g.prototype.contains=function(v){return v in this.table},g.prototype.add=function(v){this.table[v.id]=v},g.prototype.remove=function(v){delete this.table[v.id]},g.prototype.forAll=function(v){for(var p in this.table)v(this.table[p])},g.prototype.modules=function(){var v=[];return this.forAll(function(p){p.isPredefined()||v.push(p)}),v},g}();T.ModuleSet=m;var _=function(){function g(){this.sets={},this.n=0}return g.prototype.count=function(){return this.n},g.prototype.contains=function(v){var p=!1;return this.forAllModules(function(w){!p&&w.id==v&&(p=!0)}),p},g.prototype.add=function(v,p){(v in this.sets?this.sets[v]:this.sets[v]=new m).add(p),++this.n},g.prototype.remove=function(v,p){var w=this.sets[v];w.remove(p),0===w.count()&&delete this.sets[v],--this.n},g.prototype.forAll=function(v){for(var p in this.sets)v(this.sets[p],Number(p))},g.prototype.forAllModules=function(v){this.forAll(function(p,w){return p.forAll(v)})},g.prototype.intersection=function(v){var p=new g;return this.forAll(function(w,S){if(S in v.sets){var A=w.intersection(v.sets[S]),N=A.count();N>0&&(p.sets[S]=A,p.n+=N)}}),p},g}();T.LinkSets=_,T.getGroups=function f(g,v,p,w){for(var A=new d(g.length,v,p,w);A.greedyMerge(););var N=[],P=A.getGroupHierarchy(N);return N.forEach(function(F){var L=function(R){var H=F[R];"number"==typeof H&&(F[R]=g[H])};L("source"),L("target")}),{groups:P,powerEdges:N}}},8866:(x,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var c=function(){function D(b){this.elem=b,this.subheaps=[]}return D.prototype.toString=function(b){for(var E="",m=!1,_=0;_<this.subheaps.length;++_){var h=this.subheaps[_];h.elem?(m&&(E+=","),E+=h.toString(b),m=!0):m=!1}return""!==E&&(E="("+E+")"),(this.elem?b(this.elem):"")+E},D.prototype.forEach=function(b){this.empty()||(b(this.elem,this),this.subheaps.forEach(function(E){return E.forEach(b)}))},D.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(b,E){return b+E.count()},0)},D.prototype.min=function(){return this.elem},D.prototype.empty=function(){return null==this.elem},D.prototype.contains=function(b){if(this===b)return!0;for(var E=0;E<this.subheaps.length;E++)if(this.subheaps[E].contains(b))return!0;return!1},D.prototype.isHeap=function(b){var E=this;return this.subheaps.every(function(m){return b(E.elem,m.elem)&&m.isHeap(b)})},D.prototype.insert=function(b,E){return this.merge(new D(b),E)},D.prototype.merge=function(b,E){return this.empty()?b:b.empty()?this:E(this.elem,b.elem)?(this.subheaps.push(b),this):(b.subheaps.push(this),b)},D.prototype.removeMin=function(b){return this.empty()?null:this.mergePairs(b)},D.prototype.mergePairs=function(b){if(0==this.subheaps.length)return new D(null);if(1==this.subheaps.length)return this.subheaps[0];var E=this.subheaps.pop().merge(this.subheaps.pop(),b),m=this.mergePairs(b);return E.merge(m,b)},D.prototype.decreaseKey=function(b,E,m,_){var h=b.removeMin(_);b.elem=h.elem,b.subheaps=h.subheaps,null!==m&&null!==h.elem&&m(b.elem,b);var f=new D(E);return null!==m&&m(E,f),this.merge(f,_)},D}();T.PairingHeap=c;var d=function(){function D(b){this.lessThan=b}return D.prototype.top=function(){return this.empty()?null:this.root.elem},D.prototype.push=function(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];for(var m,h,_=0;h=b[_];++_)m=new c(h),this.root=this.empty()?m:this.root.merge(m,this.lessThan);return m},D.prototype.empty=function(){return!this.root||!this.root.elem},D.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},D.prototype.forEach=function(b){this.root.forEach(b)},D.prototype.pop=function(){if(this.empty())return null;var b=this.root.min();return this.root=this.root.removeMin(this.lessThan),b},D.prototype.reduceKey=function(b,E,m){void 0===m&&(m=null),this.root=this.root.decreaseKey(b,E,m,this.lessThan)},D.prototype.toString=function(b){return this.root.toString(b)},D.prototype.count=function(){return this.root.count()},D}();T.PriorityQueue=d},4655:function(x,T){"use strict";var m,c=this&&this.__extends||(m=function(_,h){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var v in g)g.hasOwnProperty(v)&&(f[v]=g[v])})(_,h)},function(_,h){function f(){this.constructor=_}m(_,h),_.prototype=null===h?Object.create(h):(f.prototype=h.prototype,new f)});Object.defineProperty(T,"__esModule",{value:!0});var d=function(){function m(){this.findIter=function(_){for(var h=this._root,f=this.iterator();null!==h;){var g=this._comparator(_,h.data);if(0===g)return f._cursor=h,f;f._ancestors.push(h),h=h.get_child(g>0)}return null}}return m.prototype.clear=function(){this._root=null,this.size=0},m.prototype.find=function(_){for(var h=this._root;null!==h;){var f=this._comparator(_,h.data);if(0===f)return h.data;h=h.get_child(f>0)}return null},m.prototype.lowerBound=function(_){return this._bound(_,this._comparator)},m.prototype.upperBound=function(_){var h=this._comparator;return this._bound(_,function f(g,v){return h(v,g)})},m.prototype.min=function(){var _=this._root;if(null===_)return null;for(;null!==_.left;)_=_.left;return _.data},m.prototype.max=function(){var _=this._root;if(null===_)return null;for(;null!==_.right;)_=_.right;return _.data},m.prototype.iterator=function(){return new D(this)},m.prototype.each=function(_){for(var f,h=this.iterator();null!==(f=h.next());)_(f)},m.prototype.reach=function(_){for(var f,h=this.iterator();null!==(f=h.prev());)_(f)},m.prototype._bound=function(_,h){for(var f=this._root,g=this.iterator();null!==f;){var v=this._comparator(_,f.data);if(0===v)return g._cursor=f,g;g._ancestors.push(f),f=f.get_child(v>0)}for(var p=g._ancestors.length-1;p>=0;--p)if(h(_,(f=g._ancestors[p]).data)>0)return g._cursor=f,g._ancestors.length=p,g;return g._ancestors.length=0,g},m}();T.TreeBase=d;var D=function(){function m(_){this._tree=_,this._ancestors=[],this._cursor=null}return m.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},m.prototype.next=function(){if(null===this._cursor){var _=this._tree._root;null!==_&&this._minNode(_)}else if(null===this._cursor.right){var h;do{if(h=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===h)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},m.prototype.prev=function(){if(null===this._cursor){var _=this._tree._root;null!==_&&this._maxNode(_)}else if(null===this._cursor.left){var h;do{if(h=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===h)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},m.prototype._minNode=function(_){for(;null!==_.left;)this._ancestors.push(_),_=_.left;this._cursor=_},m.prototype._maxNode=function(_){for(;null!==_.right;)this._ancestors.push(_),_=_.right;this._cursor=_},m}();T.Iterator=D;var b=function(){function m(_){this.data=_,this.left=null,this.right=null,this.red=!0}return m.prototype.get_child=function(_){return _?this.right:this.left},m.prototype.set_child=function(_,h){_?this.right=h:this.left=h},m}(),E=function(m){function _(h){var f=m.call(this)||this;return f._root=null,f._comparator=h,f.size=0,f}return c(_,m),_.prototype.insert=function(h){var f=!1;if(null===this._root)this._root=new b(h),f=!0,this.size++;else{var g=new b(void 0),v=!1,p=!1,w=null,S=g,A=null,N=this._root;for(S.right=this._root;;){if(null===N?(N=new b(h),A.set_child(v,N),f=!0,this.size++):_.is_red(N.left)&&_.is_red(N.right)&&(N.red=!0,N.left.red=!1,N.right.red=!1),_.is_red(N)&&_.is_red(A)){var P=S.right===w;N===A.get_child(p)?S.set_child(P,_.single_rotate(w,!p)):S.set_child(P,_.double_rotate(w,!p))}var F=this._comparator(N.data,h);if(0===F)break;p=v,null!==w&&(S=w),w=A,A=N,N=N.get_child(v=F<0)}this._root=g.right}return this._root.red=!1,f},_.prototype.remove=function(h){if(null===this._root)return!1;var f=new b(void 0),g=f;g.right=this._root;for(var v=null,p=null,w=null,S=!0;null!==g.get_child(S);){var A=S;p=v,v=g,g=g.get_child(S);var N=this._comparator(h,g.data);if(S=N>0,0===N&&(w=g),!_.is_red(g)&&!_.is_red(g.get_child(S)))if(_.is_red(g.get_child(!S))){var P=_.single_rotate(g,S);v.set_child(A,P),v=P}else if(!_.is_red(g.get_child(!S))){var F=v.get_child(!A);if(null!==F)if(_.is_red(F.get_child(!A))||_.is_red(F.get_child(A))){var L=p.right===v;_.is_red(F.get_child(A))?p.set_child(L,_.double_rotate(v,A)):_.is_red(F.get_child(!A))&&p.set_child(L,_.single_rotate(v,A));var R=p.get_child(L);R.red=!0,g.red=!0,R.left.red=!1,R.right.red=!1}else v.red=!1,F.red=!0,g.red=!0}}return null!==w&&(w.data=g.data,v.set_child(v.right===g,g.get_child(null===g.left)),this.size--),this._root=f.right,null!==this._root&&(this._root.red=!1),null!==w},_.is_red=function(h){return null!==h&&h.red},_.single_rotate=function(h,f){var g=h.get_child(!f);return h.set_child(!f,g.get_child(f)),g.set_child(f,h),h.red=!0,g.red=!1,g},_.double_rotate=function(h,f){return h.set_child(!f,_.single_rotate(h.get_child(!f),!f)),_.single_rotate(h,f)},_}(d);T.RBTree=E},4068:function(x,T,c){"use strict";var V,d=this&&this.__extends||(V=function(B,$){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,G){U.__proto__=G}||function(U,G){for(var J in G)G.hasOwnProperty(J)&&(U[J]=G[J])})(B,$)},function(B,$){function U(){this.constructor=B}V(B,$),B.prototype=null===$?Object.create($):(U.prototype=$.prototype,new U)});Object.defineProperty(T,"__esModule",{value:!0});var D=c(8237),b=c(4655);function E(V){return V.bounds=typeof V.leaves<"u"?V.leaves.reduce(function(B,$){return $.bounds.union(B)},m.empty()):m.empty(),typeof V.groups<"u"&&(V.bounds=V.groups.reduce(function(B,$){return E($).union(B)},V.bounds)),V.bounds=V.bounds.inflate(V.padding),V.bounds}T.computeGroupBounds=E;var m=function(){function V(B,$,U,G){this.x=B,this.X=$,this.y=U,this.Y=G}return V.empty=function(){return new V(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},V.prototype.cx=function(){return(this.x+this.X)/2},V.prototype.cy=function(){return(this.y+this.Y)/2},V.prototype.overlapX=function(B){var $=this.cx(),U=B.cx();return $<=U&&B.x<this.X?this.X-B.x:U<=$&&this.x<B.X?B.X-this.x:0},V.prototype.overlapY=function(B){var $=this.cy(),U=B.cy();return $<=U&&B.y<this.Y?this.Y-B.y:U<=$&&this.y<B.Y?B.Y-this.y:0},V.prototype.setXCentre=function(B){var $=B-this.cx();this.x+=$,this.X+=$},V.prototype.setYCentre=function(B){var $=B-this.cy();this.y+=$,this.Y+=$},V.prototype.width=function(){return this.X-this.x},V.prototype.height=function(){return this.Y-this.y},V.prototype.union=function(B){return new V(Math.min(this.x,B.x),Math.max(this.X,B.X),Math.min(this.y,B.y),Math.max(this.Y,B.Y))},V.prototype.lineIntersections=function(B,$,U,G){for(var J=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],oe=[],W=0;W<4;++W){var z=V.lineIntersection(B,$,U,G,J[W][0],J[W][1],J[W][2],J[W][3]);null!==z&&oe.push({x:z.x,y:z.y})}return oe},V.prototype.rayIntersection=function(B,$){var U=this.lineIntersections(this.cx(),this.cy(),B,$);return U.length>0?U[0]:null},V.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},V.lineIntersection=function(B,$,U,G,J,oe,W,z){var te=U-B,se=W-J,de=G-$,ie=z-oe,he=ie*te-se*de;if(0==he)return null;var ge=B-J,je=$-oe,re=(se*je-ie*ge)/he,pe=(te*je-de*ge)/he;return re>=0&&re<=1&&pe>=0&&pe<=1?{x:B+re*te,y:$+re*de}:null},V.prototype.inflate=function(B){return new V(this.x-B,this.X+B,this.y-B,this.Y+B)},V}();T.Rectangle=m,T.makeEdgeBetween=function _(V,B,$){var U=V.rayIntersection(B.cx(),B.cy())||{x:V.cx(),y:V.cy()},G=B.rayIntersection(V.cx(),V.cy())||{x:B.cx(),y:B.cy()},J=G.x-U.x,oe=G.y-U.y,W=Math.sqrt(J*J+oe*oe),z=W-$;return{sourceIntersection:U,targetIntersection:G,arrowStart:{x:U.x+z*J/W,y:U.y+z*oe/W}}},T.makeEdgeTo=function h(V,B,$){var U=B.rayIntersection(V.x,V.y);U||(U={x:B.cx(),y:B.cy()});var G=U.x-V.x,J=U.y-V.y,oe=Math.sqrt(G*G+J*J);return{x:U.x-$*G/oe,y:U.y-$*J/oe}};var f=function V(B,$,U){this.v=B,this.r=$,this.pos=U,this.prev=p(),this.next=p()},g=function V(B,$,U){this.isOpen=B,this.v=$,this.pos=U};function v(V,B){return V.pos>B.pos?1:V.pos<B.pos||V.isOpen?-1:B.isOpen?1:0}function p(){return new b.RBTree(function(V,B){return V.pos-B.pos})}var w={getCentre:function(V){return V.cx()},getOpen:function(V){return V.y},getClose:function(V){return V.Y},getSize:function(V){return V.width()},makeRect:function(V,B,$,U){return new m($-U/2,$+U/2,V,B)},findNeighbours:function P(V,B){var $=function(U,G){for(var oe,J=B.findIter(V);null!==(oe=J[U]());){var W=oe.r.overlapX(V.r);if((W<=0||W<=oe.r.overlapY(V.r))&&(V[U].insert(oe),oe[G].insert(V)),W<=0)break}};$("next","prev"),$("prev","next")}},S={getCentre:function(V){return V.cy()},getOpen:function(V){return V.x},getClose:function(V){return V.X},getSize:function(V){return V.height()},makeRect:function(V,B,$,U){return new m(V,B,$-U/2,$+U/2)},findNeighbours:function F(V,B){var $=function(U,G){var J=B.findIter(V)[U]();null!==J&&J.r.overlapX(V.r)>0&&(V[U].insert(J),J[G].insert(V))};$("next","prev"),$("prev","next")}};function A(V,B,$,U){void 0===U&&(U=!1);var G=V.padding,J=typeof V.groups<"u"?V.groups.length:0,oe=typeof V.leaves<"u"?V.leaves.length:0,W=J?V.groups.reduce(function(me,He){return me.concat(A(He,B,$,!0))},[]):[],z=(U?2:0)+oe+J,te=new Array(z),se=new Array(z),de=0,ie=function(me,He){se[de]=me,te[de++]=He};if(U){var he=V.bounds,ge=B.getCentre(he),je=B.getSize(he)/2,ne=B.getOpen(he),re=B.getClose(he),le=ge-je+G/2,pe=ge+je-G/2;V.minVar.desiredPosition=le,ie(B.makeRect(ne,re,le,G),V.minVar),V.maxVar.desiredPosition=pe,ie(B.makeRect(ne,re,pe,G),V.maxVar)}oe&&V.leaves.forEach(function(me){return ie(me.bounds,me.variable)}),J&&V.groups.forEach(function(me){var He=me.bounds;ie(B.makeRect(B.getOpen(He),B.getClose(He),B.getCentre(He),B.getSize(He)),me.minVar)});var ve=N(se,te,B,$);return J&&(te.forEach(function(me){me.cOut=[],me.cIn=[]}),ve.forEach(function(me){me.left.cOut.push(me),me.right.cIn.push(me)}),V.groups.forEach(function(me){var He=(me.padding-B.getSize(me.bounds))/2;me.minVar.cIn.forEach(function(Se){return Se.gap+=He}),me.minVar.cOut.forEach(function(Se){Se.left=me.maxVar,Se.gap+=He})})),W.concat(ve)}function N(V,B,$,U){var G,J=V.length,oe=2*J;console.assert(B.length>=J);var W=new Array(oe);for(G=0;G<J;++G){var z=V[G],te=new f(B[G],z,$.getCentre(z));W[G]=new g(!0,te,$.getOpen(z)),W[G+J]=new g(!1,te,$.getClose(z))}W.sort(v);var se=new Array,de=p();for(G=0;G<oe;++G){var ie=W[G];if(te=ie.v,ie.isOpen)de.insert(te),$.findNeighbours(te,de);else{de.remove(te);var he=function(ne,re){var le=($.getSize(ne.r)+$.getSize(re.r))/2+U;se.push(new D.Constraint(ne.v,re.v,le))},ge=function(ne,re,le){for(var pe,ve=te[ne].iterator();null!==(pe=ve[ne]());)le(pe,te),pe[re].remove(te)};ge("prev","next",function(ne,re){return he(ne,re)}),ge("next","prev",function(ne,re){return he(re,ne)})}}return console.assert(0===de.size),se}function L(V,B){return N(V,B,w,1e-6)}function R(V,B){return N(V,B,S,1e-6)}function H(V){return A(V,w,1e-6)}function K(V){return A(V,S,1e-6)}T.generateXConstraints=L,T.generateYConstraints=R,T.generateXGroupConstraints=H,T.generateYGroupConstraints=K,T.removeOverlaps=function X(V){var B=V.map(function(G){return new D.Variable(G.cx())}),$=L(V,B),U=new D.Solver(B,$);U.solve(),B.forEach(function(G,J){return V[J].setXCentre(G.position())}),B=V.map(function(G){return new D.Variable(G.cy())}),$=R(V,B),(U=new D.Solver(B,$)).solve(),B.forEach(function(G,J){return V[J].setYCentre(G.position())})};var Y=function(V){function B($,U){var G=V.call(this,0,U)||this;return G.index=$,G}return d(B,V),B}(D.Variable);T.IndexedVariable=Y;var q=function(){function V(B,$,U,G,J){var oe=this;if(void 0===U&&(U=null),void 0===G&&(G=null),void 0===J&&(J=!1),this.nodes=B,this.groups=$,this.rootGroup=U,this.avoidOverlaps=J,this.variables=B.map(function(z,te){return z.variable=new Y(te,1)}),G&&this.createConstraints(G),J&&U&&typeof U.groups<"u"){B.forEach(function(z){if(z.width&&z.height){var te=z.width/2,se=z.height/2;z.bounds=new m(z.x-te,z.x+te,z.y-se,z.y+se)}else z.bounds=new m(z.x,z.x,z.y,z.y)}),E(U);var W=B.length;$.forEach(function(z){oe.variables[W]=z.minVar=new Y(W++,typeof z.stiffness<"u"?z.stiffness:.01),oe.variables[W]=z.maxVar=new Y(W++,typeof z.stiffness<"u"?z.stiffness:.01)})}}return V.prototype.createSeparation=function(B){return new D.Constraint(this.nodes[B.left].variable,this.nodes[B.right].variable,B.gap,typeof B.equality<"u"&&B.equality)},V.prototype.makeFeasible=function(B){var $=this;if(this.avoidOverlaps){var U="x",G="width";"x"===B.axis&&(U="y",G="height");var J=B.offsets.map(function(W){return $.nodes[W.node]}).sort(function(W,z){return W[U]-z[U]}),oe=null;J.forEach(function(W){if(oe){var z=oe[U]+oe[G];z>W[U]&&(W[U]=z)}oe=W})}},V.prototype.createAlignment=function(B){var $=this,U=this.nodes[B.offsets[0].node].variable;this.makeFeasible(B);var G="x"===B.axis?this.xConstraints:this.yConstraints;B.offsets.slice(1).forEach(function(J){G.push(new D.Constraint(U,$.nodes[J.node].variable,J.offset,!0))})},V.prototype.createConstraints=function(B){var $=this,U=function(G){return typeof G.type>"u"||"separation"===G.type};this.xConstraints=B.filter(function(G){return"x"===G.axis&&U(G)}).map(function(G){return $.createSeparation(G)}),this.yConstraints=B.filter(function(G){return"y"===G.axis&&U(G)}).map(function(G){return $.createSeparation(G)}),B.filter(function(G){return"alignment"===G.type}).forEach(function(G){return $.createAlignment(G)})},V.prototype.setupVariablesAndBounds=function(B,$,U,G){this.nodes.forEach(function(J,oe){J.fixed?(J.variable.weight=J.fixedWeight?J.fixedWeight:1e3,U[oe]=G(J)):J.variable.weight=1;var W=(J.width||0)/2,z=(J.height||0)/2,te=B[oe],se=$[oe];J.bounds=new m(te-W,te+W,se-z,se+z)})},V.prototype.xProject=function(B,$,U){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(B,$,B,U,function(G){return G.px},this.xConstraints,H,function(G){return G.bounds.setXCentre(U[G.variable.index]=G.variable.position())},function(G){var J=U[G.minVar.index]=G.minVar.position(),oe=U[G.maxVar.index]=G.maxVar.position(),W=G.padding/2;G.bounds.x=J-W,G.bounds.X=oe+W})},V.prototype.yProject=function(B,$,U){!this.rootGroup&&!this.yConstraints||this.project(B,$,$,U,function(G){return G.py},this.yConstraints,K,function(G){return G.bounds.setYCentre(U[G.variable.index]=G.variable.position())},function(G){var J=U[G.minVar.index]=G.minVar.position(),oe=U[G.maxVar.index]=G.maxVar.position(),W=G.padding/2;G.bounds.y=J-W,G.bounds.Y=oe+W})},V.prototype.projectFunctions=function(){var B=this;return[function($,U,G){return B.xProject($,U,G)},function($,U,G){return B.yProject($,U,G)}]},V.prototype.project=function(B,$,U,G,J,oe,W,z,te){this.setupVariablesAndBounds(B,$,G,J),this.rootGroup&&this.avoidOverlaps&&(E(this.rootGroup),oe=oe.concat(W(this.rootGroup))),this.solve(this.variables,oe,U,G),this.nodes.forEach(z),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(te),E(this.rootGroup))},V.prototype.solve=function(B,$,U,G){var J=new D.Solver(B,$);J.setStartingPositions(U),J.setDesiredPositions(G),J.solve()},V}();T.Projection=q},3858:(x,T,c)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var d=c(8866),D=function _(h,f){this.id=h,this.distance=f},b=function _(h){this.id=h,this.neighbours=[]},E=function _(h,f,g){this.node=h,this.prev=f,this.d=g},m=function(){function _(h,f,g,v,p){this.n=h,this.es=f,this.neighbours=new Array(this.n);for(var w=this.n;w--;)this.neighbours[w]=new b(w);for(w=this.es.length;w--;){var S=this.es[w],A=g(S),N=v(S),P=p(S);this.neighbours[A].neighbours.push(new D(N,P)),this.neighbours[N].neighbours.push(new D(A,P))}}return _.prototype.DistanceMatrix=function(){for(var h=new Array(this.n),f=0;f<this.n;++f)h[f]=this.dijkstraNeighbours(f);return h},_.prototype.DistancesFromNode=function(h){return this.dijkstraNeighbours(h)},_.prototype.PathFromNodeToNode=function(h,f){return this.dijkstraNeighbours(h,f)},_.prototype.PathFromNodeToNodeWithPrevCost=function(h,f,g){var v=new d.PriorityQueue(function(K,X){return K.d<=X.d}),p=this.neighbours[h],w=new E(p,null,0),S={};for(v.push(w);!v.empty()&&(p=(w=v.pop()).node).id!==f;)for(var A=p.neighbours.length;A--;){var N=p.neighbours[A],P=this.neighbours[N.id];if(!w.prev||P.id!==w.prev.node.id){var F=P.id+","+p.id;if(!(F in S&&S[F]<=w.d)){var L=w.prev?g(w.prev.node.id,p.id,P.id):0,R=w.d+N.distance+L;S[F]=R,v.push(new E(P,w,R))}}}for(var H=[];w.prev;)H.push((w=w.prev).node.id);return H},_.prototype.dijkstraNeighbours=function(h,f){void 0===f&&(f=-1);for(var g=new d.PriorityQueue(function(L,R){return L.d<=R.d}),v=this.neighbours.length,p=new Array(v);v--;){var w=this.neighbours[v];w.d=v===h?0:Number.POSITIVE_INFINITY,w.q=g.push(w)}for(;!g.empty();){var S=g.pop();if(p[S.id]=S.d,S.id===f){for(var A=[],N=S;typeof N.prev<"u";)A.push(N.prev.id),N=N.prev;return A}for(v=S.neighbours.length;v--;){var P=S.neighbours[v],F=(N=this.neighbours[P.id],S.d+P.distance);S.d!==Number.MAX_VALUE&&N.d>F&&(N.d=F,N.prev=S,g.reduceKey(N.q,N,function(R,H){return R.q=H}))}}return p},_}();T.Calculator=m},8237:(x,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var c=function(){function h(f){this.scale=f,this.AB=0,this.AD=0,this.A2=0}return h.prototype.addVariable=function(f){var g=this.scale/f.scale,p=f.weight;this.AB+=p*g*(f.offset/f.scale),this.AD+=p*g*f.desiredPosition,this.A2+=p*g*g},h.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},h}();T.PositionStats=c;var d=function(){function h(f,g,v,p){void 0===p&&(p=!1),this.left=f,this.right=g,this.gap=v,this.equality=p,this.active=!1,this.unsatisfiable=!1,this.left=f,this.right=g,this.gap=v,this.equality=p}return h.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},h}();T.Constraint=d;var D=function(){function h(f,g,v){void 0===g&&(g=1),void 0===v&&(v=1),this.desiredPosition=f,this.weight=g,this.scale=v,this.offset=0}return h.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},h.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},h.prototype.visitNeighbours=function(f,g){var v=function(p,w){return p.active&&f!==w&&g(p,w)};this.cOut.forEach(function(p){return v(p,p.right)}),this.cIn.forEach(function(p){return v(p,p.left)})},h}();T.Variable=D;var b=function(){function h(f){this.vars=[],f.offset=0,this.ps=new c(f.scale),this.addVariable(f)}return h.prototype.addVariable=function(f){f.block=this,this.vars.push(f),this.ps.addVariable(f),this.posn=this.ps.getPosn()},h.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var f=0,g=this.vars.length;f<g;++f)this.ps.addVariable(this.vars[f]);this.posn=this.ps.getPosn()},h.prototype.compute_lm=function(f,g,v){var p=this,w=f.dfdv();return f.visitNeighbours(g,function(S,A){var N=p.compute_lm(A,f,v);A===S.right?(w+=N*S.left.scale,S.lm=N):(w+=N*S.right.scale,S.lm=-N),v(S)}),w/f.scale},h.prototype.populateSplitBlock=function(f,g){var v=this;f.visitNeighbours(g,function(p,w){w.offset=f.offset+(w===p.right?p.gap:-p.gap),v.addVariable(w),v.populateSplitBlock(w,f)})},h.prototype.traverse=function(f,g,v,p){var w=this;void 0===v&&(v=this.vars[0]),void 0===p&&(p=null),v.visitNeighbours(p,function(S,A){g.push(f(S)),w.traverse(f,g,A,v)})},h.prototype.findMinLM=function(){var f=null;return this.compute_lm(this.vars[0],null,function(g){!g.equality&&(null===f||g.lm<f.lm)&&(f=g)}),f},h.prototype.findMinLMBetween=function(f,g){this.compute_lm(f,null,function(){});var v=null;return this.findPath(f,null,g,function(p,w){!p.equality&&p.right===w&&(null===v||p.lm<v.lm)&&(v=p)}),v},h.prototype.findPath=function(f,g,v,p){var w=this,S=!1;return f.visitNeighbours(g,function(A,N){!S&&(N===v||w.findPath(N,f,v,p))&&(S=!0,p(A,N))}),S},h.prototype.isActiveDirectedPathBetween=function(f,g){if(f===g)return!0;for(var v=f.cOut.length;v--;){var p=f.cOut[v];if(p.active&&this.isActiveDirectedPathBetween(p.right,g))return!0}return!1},h.split=function(f){return f.active=!1,[h.createSplitBlock(f.left),h.createSplitBlock(f.right)]},h.createSplitBlock=function(f){var g=new h(f);return g.populateSplitBlock(f,null),g},h.prototype.splitBetween=function(f,g){var v=this.findMinLMBetween(f,g);if(null!==v){var p=h.split(v);return{constraint:v,lb:p[0],rb:p[1]}}return null},h.prototype.mergeAcross=function(f,g,v){g.active=!0;for(var p=0,w=f.vars.length;p<w;++p){var S=f.vars[p];S.offset+=v,this.addVariable(S)}this.posn=this.ps.getPosn()},h.prototype.cost=function(){for(var f=0,g=this.vars.length;g--;){var v=this.vars[g],p=v.position()-v.desiredPosition;f+=p*p*v.weight}return f},h}();T.Block=b;var E=function(){function h(f){this.vs=f;var g=f.length;for(this.list=new Array(g);g--;){var v=new b(f[g]);this.list[g]=v,v.blockInd=g}}return h.prototype.cost=function(){for(var f=0,g=this.list.length;g--;)f+=this.list[g].cost();return f},h.prototype.insert=function(f){f.blockInd=this.list.length,this.list.push(f)},h.prototype.remove=function(f){var g=this.list.length-1,v=this.list[g];this.list.length=g,f!==v&&(this.list[f.blockInd]=v,v.blockInd=f.blockInd)},h.prototype.merge=function(f){var g=f.left.block,v=f.right.block,p=f.right.offset-f.left.offset-f.gap;g.vars.length<v.vars.length?(v.mergeAcross(g,f,p),this.remove(g)):(g.mergeAcross(v,f,-p),this.remove(v))},h.prototype.forEach=function(f){this.list.forEach(f)},h.prototype.updateBlockPositions=function(){this.list.forEach(function(f){return f.updateWeightedPosition()})},h.prototype.split=function(f){var g=this;this.updateBlockPositions(),this.list.forEach(function(v){var p=v.findMinLM();null!==p&&p.lm<m.LAGRANGIAN_TOLERANCE&&(v=p.left.block,b.split(p).forEach(function(w){return g.insert(w)}),g.remove(v),f.push(p))})},h}();T.Blocks=E;var m=function(){function h(f,g){this.vs=f,this.cs=g,this.vs=f,f.forEach(function(v){v.cIn=[],v.cOut=[]}),this.cs=g,g.forEach(function(v){v.left.cOut.push(v),v.right.cIn.push(v)}),this.inactive=g.map(function(v){return v.active=!1,v}),this.bs=null}return h.prototype.cost=function(){return this.bs.cost()},h.prototype.setStartingPositions=function(f){this.inactive=this.cs.map(function(g){return g.active=!1,g}),this.bs=new E(this.vs),this.bs.forEach(function(g,v){return g.posn=f[v]})},h.prototype.setDesiredPositions=function(f){this.vs.forEach(function(g,v){return g.desiredPosition=f[v]})},h.prototype.mostViolated=function(){for(var f=Number.MAX_VALUE,g=null,v=this.inactive,p=v.length,w=p,S=0;S<p;++S){var A=v[S];if(!A.unsatisfiable){var N=A.slack();if((A.equality||N<f)&&(f=N,g=A,w=S,A.equality))break}}return w!==p&&(f<h.ZERO_UPPERBOUND&&!g.active||g.equality)&&(v[w]=v[p-1],v.length=p-1),g},h.prototype.satisfy=function(){null==this.bs&&(this.bs=new E(this.vs)),this.bs.split(this.inactive);for(var f=null;(f=this.mostViolated())&&(f.equality||f.slack()<h.ZERO_UPPERBOUND&&!f.active);){var g=f.left.block;if(g!==f.right.block)this.bs.merge(f);else{if(g.isActiveDirectedPathBetween(f.right,f.left)){f.unsatisfiable=!0;continue}var p=g.splitBetween(f.left,f.right);if(null===p){f.unsatisfiable=!0;continue}this.bs.insert(p.lb),this.bs.insert(p.rb),this.bs.remove(g),this.inactive.push(p.constraint),f.slack()>=0?this.inactive.push(f):this.bs.merge(f)}}},h.prototype.solve=function(){this.satisfy();for(var f=Number.MAX_VALUE,g=this.bs.cost();Math.abs(f-g)>1e-4;)this.satisfy(),f=g,g=this.bs.cost();return g},h.LAGRANGIAN_TOLERANCE=-1e-4,h.ZERO_UPPERBOUND=-1e-10,h}();T.Solver=m,T.removeOverlapInOneDimension=function _(h,f,g){for(var v=h.map(function(Y){return new D(Y.desiredCenter)}),p=[],w=h.length,S=0;S<w-1;S++)p.push(new d(v[S],v[S+1],(h[S].size+h[S+1].size)/2));var P=v[0],F=v[w-1],L=h[0].size/2,R=h[w-1].size/2,H=null,K=null;return f&&(H=new D(f,1e3*P.weight),v.push(H),p.push(new d(H,P,L))),g&&(K=new D(g,1e3*F.weight),v.push(K),p.push(new d(F,K,R))),new m(v,p).solve(),{newCenters:v.slice(0,h.length).map(function(Y){return Y.position()}),lowerBound:H?H.position():P.position()-L,upperBound:K?K.position():F.position()+R}}}},x=>{x(x.s=2899)}]);